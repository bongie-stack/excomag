var lw=t=>{throw TypeError(t)};var op=(t,e,n)=>e.has(t)||lw("Cannot "+n);var O=(t,e,n)=>(op(t,e,"read from private field"),n?n.call(t):e.get(t)),_e=(t,e,n)=>e.has(t)?lw("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),ae=(t,e,n,r)=>(op(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),At=(t,e,n)=>(op(t,e,"access private method"),n);var hu=(t,e,n,r)=>({set _(s){ae(t,e,s,n)},get _(){return O(t,e,r)}});function yP(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var On=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Fy(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function vP(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var Sk={exports:{}},th={},Ek={exports:{}},we={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jc=Symbol.for("react.element"),wP=Symbol.for("react.portal"),xP=Symbol.for("react.fragment"),bP=Symbol.for("react.strict_mode"),kP=Symbol.for("react.profiler"),SP=Symbol.for("react.provider"),EP=Symbol.for("react.context"),CP=Symbol.for("react.forward_ref"),_P=Symbol.for("react.suspense"),TP=Symbol.for("react.memo"),NP=Symbol.for("react.lazy"),cw=Symbol.iterator;function AP(t){return t===null||typeof t!="object"?null:(t=cw&&t[cw]||t["@@iterator"],typeof t=="function"?t:null)}var Ck={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_k=Object.assign,Tk={};function Qa(t,e,n){this.props=t,this.context=e,this.refs=Tk,this.updater=n||Ck}Qa.prototype.isReactComponent={};Qa.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Qa.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Nk(){}Nk.prototype=Qa.prototype;function zy(t,e,n){this.props=t,this.context=e,this.refs=Tk,this.updater=n||Ck}var By=zy.prototype=new Nk;By.constructor=zy;_k(By,Qa.prototype);By.isPureReactComponent=!0;var uw=Array.isArray,Ak=Object.prototype.hasOwnProperty,Uy={current:null},Ok={key:!0,ref:!0,__self:!0,__source:!0};function Pk(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)Ak.call(e,r)&&!Ok.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Jc,type:t,key:i,ref:o,props:s,_owner:Uy.current}}function OP(t,e){return{$$typeof:Jc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Vy(t){return typeof t=="object"&&t!==null&&t.$$typeof===Jc}function PP(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var dw=/\/+/g;function ap(t,e){return typeof t=="object"&&t!==null&&t.key!=null?PP(""+t.key):e.toString(36)}function nd(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Jc:case wP:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+ap(o,0):r,uw(s)?(n="",t!=null&&(n=t.replace(dw,"$&/")+"/"),nd(s,e,n,"",function(c){return c})):s!=null&&(Vy(s)&&(s=OP(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(dw,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",uw(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+ap(i,a);o+=nd(i,e,n,l,s)}else if(l=AP(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+ap(i,a++),o+=nd(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function pu(t,e,n){if(t==null)return t;var r=[],s=0;return nd(t,r,"","",function(i){return e.call(n,i,s++)}),r}function RP(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Gt={current:null},rd={transition:null},MP={ReactCurrentDispatcher:Gt,ReactCurrentBatchConfig:rd,ReactCurrentOwner:Uy};function Rk(){throw Error("act(...) is not supported in production builds of React.")}we.Children={map:pu,forEach:function(t,e,n){pu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return pu(t,function(){e++}),e},toArray:function(t){return pu(t,function(e){return e})||[]},only:function(t){if(!Vy(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};we.Component=Qa;we.Fragment=xP;we.Profiler=kP;we.PureComponent=zy;we.StrictMode=bP;we.Suspense=_P;we.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=MP;we.act=Rk;we.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=_k({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Uy.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Ak.call(e,l)&&!Ok.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Jc,type:t.type,key:s,ref:i,props:r,_owner:o}};we.createContext=function(t){return t={$$typeof:EP,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:SP,_context:t},t.Consumer=t};we.createElement=Pk;we.createFactory=function(t){var e=Pk.bind(null,t);return e.type=t,e};we.createRef=function(){return{current:null}};we.forwardRef=function(t){return{$$typeof:CP,render:t}};we.isValidElement=Vy;we.lazy=function(t){return{$$typeof:NP,_payload:{_status:-1,_result:t},_init:RP}};we.memo=function(t,e){return{$$typeof:TP,type:t,compare:e===void 0?null:e}};we.startTransition=function(t){var e=rd.transition;rd.transition={};try{t()}finally{rd.transition=e}};we.unstable_act=Rk;we.useCallback=function(t,e){return Gt.current.useCallback(t,e)};we.useContext=function(t){return Gt.current.useContext(t)};we.useDebugValue=function(){};we.useDeferredValue=function(t){return Gt.current.useDeferredValue(t)};we.useEffect=function(t,e){return Gt.current.useEffect(t,e)};we.useId=function(){return Gt.current.useId()};we.useImperativeHandle=function(t,e,n){return Gt.current.useImperativeHandle(t,e,n)};we.useInsertionEffect=function(t,e){return Gt.current.useInsertionEffect(t,e)};we.useLayoutEffect=function(t,e){return Gt.current.useLayoutEffect(t,e)};we.useMemo=function(t,e){return Gt.current.useMemo(t,e)};we.useReducer=function(t,e,n){return Gt.current.useReducer(t,e,n)};we.useRef=function(t){return Gt.current.useRef(t)};we.useState=function(t){return Gt.current.useState(t)};we.useSyncExternalStore=function(t,e,n){return Gt.current.useSyncExternalStore(t,e,n)};we.useTransition=function(){return Gt.current.useTransition()};we.version="18.3.1";Ek.exports=we;var b=Ek.exports;const L=Fy(b),Hy=yP({__proto__:null,default:L},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jP=b,IP=Symbol.for("react.element"),DP=Symbol.for("react.fragment"),LP=Object.prototype.hasOwnProperty,$P=jP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,FP={key:!0,ref:!0,__self:!0,__source:!0};function Mk(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)LP.call(e,r)&&!FP.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:IP,type:t,key:i,ref:o,props:s,_owner:$P.current}}th.Fragment=DP;th.jsx=Mk;th.jsxs=Mk;Sk.exports=th;var p=Sk.exports,jk={exports:{}},pn={},Ik={exports:{}},Dk={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(N,P){var B=N.length;N.push(P);e:for(;0<B;){var te=B-1>>>1,Y=N[te];if(0<s(Y,P))N[te]=P,N[B]=Y,B=te;else break e}}function n(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var P=N[0],B=N.pop();if(B!==P){N[0]=B;e:for(var te=0,Y=N.length,ue=Y>>>1;te<ue;){var ie=2*(te+1)-1,$e=N[ie],Je=ie+1,U=N[Je];if(0>s($e,B))Je<Y&&0>s(U,$e)?(N[te]=U,N[Je]=B,te=Je):(N[te]=$e,N[ie]=B,te=ie);else if(Je<Y&&0>s(U,B))N[te]=U,N[Je]=B,te=Je;else break e}}return P}function s(N,P){var B=N.sortIndex-P.sortIndex;return B!==0?B:N.id-P.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,f=3,h=!1,m=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(N){for(var P=n(c);P!==null;){if(P.callback===null)r(c);else if(P.startTime<=N)r(c),P.sortIndex=P.expirationTime,e(l,P);else break;P=n(c)}}function k(N){if(g=!1,x(N),!m)if(n(l)!==null)m=!0,F(S);else{var P=n(c);P!==null&&J(k,P.startTime-N)}}function S(N,P){m=!1,g&&(g=!1,v(_),_=-1),h=!0;var B=f;try{for(x(P),d=n(l);d!==null&&(!(d.expirationTime>P)||N&&!z());){var te=d.callback;if(typeof te=="function"){d.callback=null,f=d.priorityLevel;var Y=te(d.expirationTime<=P);P=t.unstable_now(),typeof Y=="function"?d.callback=Y:d===n(l)&&r(l),x(P)}else r(l);d=n(l)}if(d!==null)var ue=!0;else{var ie=n(c);ie!==null&&J(k,ie.startTime-P),ue=!1}return ue}finally{d=null,f=B,h=!1}}var C=!1,E=null,_=-1,A=5,T=-1;function z(){return!(t.unstable_now()-T<A)}function I(){if(E!==null){var N=t.unstable_now();T=N;var P=!0;try{P=E(!0,N)}finally{P?q():(C=!1,E=null)}}else C=!1}var q;if(typeof w=="function")q=function(){w(I)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,Q=D.port2;D.port1.onmessage=I,q=function(){Q.postMessage(null)}}else q=function(){y(I,0)};function F(N){E=N,C||(C=!0,q())}function J(N,P){_=y(function(){N(t.unstable_now())},P)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(N){N.callback=null},t.unstable_continueExecution=function(){m||h||(m=!0,F(S))},t.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<N?Math.floor(1e3/N):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(N){switch(f){case 1:case 2:case 3:var P=3;break;default:P=f}var B=f;f=P;try{return N()}finally{f=B}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(N,P){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var B=f;f=N;try{return P()}finally{f=B}},t.unstable_scheduleCallback=function(N,P,B){var te=t.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?te+B:te):B=te,N){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=B+Y,N={id:u++,callback:P,priorityLevel:N,startTime:B,expirationTime:Y,sortIndex:-1},B>te?(N.sortIndex=B,e(c,N),n(l)===null&&N===n(c)&&(g?(v(_),_=-1):g=!0,J(k,B-te))):(N.sortIndex=Y,e(l,N),m||h||(m=!0,F(S))),N},t.unstable_shouldYield=z,t.unstable_wrapCallback=function(N){var P=f;return function(){var B=f;f=P;try{return N.apply(this,arguments)}finally{f=B}}}})(Dk);Ik.exports=Dk;var zP=Ik.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BP=b,fn=zP;function j(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Lk=new Set,rc={};function ho(t,e){Ea(t,e),Ea(t+"Capture",e)}function Ea(t,e){for(rc[t]=e,t=0;t<e.length;t++)Lk.add(e[t])}var Ur=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Rm=Object.prototype.hasOwnProperty,UP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,fw={},hw={};function VP(t){return Rm.call(hw,t)?!0:Rm.call(fw,t)?!1:UP.test(t)?hw[t]=!0:(fw[t]=!0,!1)}function HP(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function WP(t,e,n,r){if(e===null||typeof e>"u"||HP(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Jt(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var _t={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){_t[t]=new Jt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];_t[e]=new Jt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){_t[t]=new Jt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){_t[t]=new Jt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){_t[t]=new Jt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){_t[t]=new Jt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){_t[t]=new Jt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){_t[t]=new Jt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){_t[t]=new Jt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Wy=/[\-:]([a-z])/g;function Ky(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Wy,Ky);_t[e]=new Jt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Wy,Ky);_t[e]=new Jt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Wy,Ky);_t[e]=new Jt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){_t[t]=new Jt(t,1,!1,t.toLowerCase(),null,!1,!1)});_t.xlinkHref=new Jt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){_t[t]=new Jt(t,1,!1,t.toLowerCase(),null,!0,!0)});function qy(t,e,n,r){var s=_t.hasOwnProperty(e)?_t[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(WP(e,n,s,r)&&(n=null),r||s===null?VP(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Qr=BP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,mu=Symbol.for("react.element"),Vo=Symbol.for("react.portal"),Ho=Symbol.for("react.fragment"),Gy=Symbol.for("react.strict_mode"),Mm=Symbol.for("react.profiler"),$k=Symbol.for("react.provider"),Fk=Symbol.for("react.context"),Jy=Symbol.for("react.forward_ref"),jm=Symbol.for("react.suspense"),Im=Symbol.for("react.suspense_list"),Qy=Symbol.for("react.memo"),ps=Symbol.for("react.lazy"),zk=Symbol.for("react.offscreen"),pw=Symbol.iterator;function ul(t){return t===null||typeof t!="object"?null:(t=pw&&t[pw]||t["@@iterator"],typeof t=="function"?t:null)}var Ge=Object.assign,lp;function Sl(t){if(lp===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);lp=e&&e[1]||""}return`
`+lp+t}var cp=!1;function up(t,e){if(!t||cp)return"";cp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{cp=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Sl(t):""}function KP(t){switch(t.tag){case 5:return Sl(t.type);case 16:return Sl("Lazy");case 13:return Sl("Suspense");case 19:return Sl("SuspenseList");case 0:case 2:case 15:return t=up(t.type,!1),t;case 11:return t=up(t.type.render,!1),t;case 1:return t=up(t.type,!0),t;default:return""}}function Dm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ho:return"Fragment";case Vo:return"Portal";case Mm:return"Profiler";case Gy:return"StrictMode";case jm:return"Suspense";case Im:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Fk:return(t.displayName||"Context")+".Consumer";case $k:return(t._context.displayName||"Context")+".Provider";case Jy:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Qy:return e=t.displayName||null,e!==null?e:Dm(t.type)||"Memo";case ps:e=t._payload,t=t._init;try{return Dm(t(e))}catch{}}return null}function qP(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Dm(e);case 8:return e===Gy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Xs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Bk(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function GP(t){var e=Bk(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function gu(t){t._valueTracker||(t._valueTracker=GP(t))}function Uk(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Bk(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ed(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Lm(t,e){var n=e.checked;return Ge({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function mw(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Xs(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Vk(t,e){e=e.checked,e!=null&&qy(t,"checked",e,!1)}function $m(t,e){Vk(t,e);var n=Xs(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Fm(t,e.type,n):e.hasOwnProperty("defaultValue")&&Fm(t,e.type,Xs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function gw(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Fm(t,e,n){(e!=="number"||Ed(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var El=Array.isArray;function na(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Xs(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function zm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(j(91));return Ge({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function yw(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(j(92));if(El(n)){if(1<n.length)throw Error(j(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Xs(n)}}function Hk(t,e){var n=Xs(e.value),r=Xs(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function vw(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Wk(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Bm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Wk(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var yu,Kk=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(yu=yu||document.createElement("div"),yu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=yu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function sc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var jl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},JP=["Webkit","ms","Moz","O"];Object.keys(jl).forEach(function(t){JP.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),jl[e]=jl[t]})});function qk(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||jl.hasOwnProperty(t)&&jl[t]?(""+e).trim():e+"px"}function Gk(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=qk(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var QP=Ge({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Um(t,e){if(e){if(QP[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(j(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(j(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(j(61))}if(e.style!=null&&typeof e.style!="object")throw Error(j(62))}}function Vm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hm=null;function Yy(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Wm=null,ra=null,sa=null;function ww(t){if(t=Zc(t)){if(typeof Wm!="function")throw Error(j(280));var e=t.stateNode;e&&(e=oh(e),Wm(t.stateNode,t.type,e))}}function Jk(t){ra?sa?sa.push(t):sa=[t]:ra=t}function Qk(){if(ra){var t=ra,e=sa;if(sa=ra=null,ww(t),e)for(t=0;t<e.length;t++)ww(e[t])}}function Yk(t,e){return t(e)}function Zk(){}var dp=!1;function Xk(t,e,n){if(dp)return t(e,n);dp=!0;try{return Yk(t,e,n)}finally{dp=!1,(ra!==null||sa!==null)&&(Zk(),Qk())}}function ic(t,e){var n=t.stateNode;if(n===null)return null;var r=oh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(j(231,e,typeof n));return n}var Km=!1;if(Ur)try{var dl={};Object.defineProperty(dl,"passive",{get:function(){Km=!0}}),window.addEventListener("test",dl,dl),window.removeEventListener("test",dl,dl)}catch{Km=!1}function YP(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Il=!1,Cd=null,_d=!1,qm=null,ZP={onError:function(t){Il=!0,Cd=t}};function XP(t,e,n,r,s,i,o,a,l){Il=!1,Cd=null,YP.apply(ZP,arguments)}function eR(t,e,n,r,s,i,o,a,l){if(XP.apply(this,arguments),Il){if(Il){var c=Cd;Il=!1,Cd=null}else throw Error(j(198));_d||(_d=!0,qm=c)}}function po(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function eS(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function xw(t){if(po(t)!==t)throw Error(j(188))}function tR(t){var e=t.alternate;if(!e){if(e=po(t),e===null)throw Error(j(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return xw(s),t;if(i===r)return xw(s),e;i=i.sibling}throw Error(j(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(j(189))}}if(n.alternate!==r)throw Error(j(190))}if(n.tag!==3)throw Error(j(188));return n.stateNode.current===n?t:e}function tS(t){return t=tR(t),t!==null?nS(t):null}function nS(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=nS(t);if(e!==null)return e;t=t.sibling}return null}var rS=fn.unstable_scheduleCallback,bw=fn.unstable_cancelCallback,nR=fn.unstable_shouldYield,rR=fn.unstable_requestPaint,it=fn.unstable_now,sR=fn.unstable_getCurrentPriorityLevel,Zy=fn.unstable_ImmediatePriority,sS=fn.unstable_UserBlockingPriority,Td=fn.unstable_NormalPriority,iR=fn.unstable_LowPriority,iS=fn.unstable_IdlePriority,nh=null,gr=null;function oR(t){if(gr&&typeof gr.onCommitFiberRoot=="function")try{gr.onCommitFiberRoot(nh,t,void 0,(t.current.flags&128)===128)}catch{}}var Zn=Math.clz32?Math.clz32:cR,aR=Math.log,lR=Math.LN2;function cR(t){return t>>>=0,t===0?32:31-(aR(t)/lR|0)|0}var vu=64,wu=4194304;function Cl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Nd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Cl(a):(i&=o,i!==0&&(r=Cl(i)))}else o=n&~s,o!==0?r=Cl(o):i!==0&&(r=Cl(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Zn(e),s=1<<n,r|=t[n],e&=~s;return r}function uR(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function dR(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Zn(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=uR(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function Gm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function oS(){var t=vu;return vu<<=1,!(vu&4194240)&&(vu=64),t}function fp(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Qc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Zn(e),t[e]=n}function fR(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Zn(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Xy(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Zn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Pe=0;function aS(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var lS,ev,cS,uS,dS,Jm=!1,xu=[],Ls=null,$s=null,Fs=null,oc=new Map,ac=new Map,xs=[],hR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function kw(t,e){switch(t){case"focusin":case"focusout":Ls=null;break;case"dragenter":case"dragleave":$s=null;break;case"mouseover":case"mouseout":Fs=null;break;case"pointerover":case"pointerout":oc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ac.delete(e.pointerId)}}function fl(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Zc(e),e!==null&&ev(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function pR(t,e,n,r,s){switch(e){case"focusin":return Ls=fl(Ls,t,e,n,r,s),!0;case"dragenter":return $s=fl($s,t,e,n,r,s),!0;case"mouseover":return Fs=fl(Fs,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return oc.set(i,fl(oc.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,ac.set(i,fl(ac.get(i)||null,t,e,n,r,s)),!0}return!1}function fS(t){var e=Ai(t.target);if(e!==null){var n=po(e);if(n!==null){if(e=n.tag,e===13){if(e=eS(n),e!==null){t.blockedOn=e,dS(t.priority,function(){cS(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function sd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Qm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Hm=r,n.target.dispatchEvent(r),Hm=null}else return e=Zc(n),e!==null&&ev(e),t.blockedOn=n,!1;e.shift()}return!0}function Sw(t,e,n){sd(t)&&n.delete(e)}function mR(){Jm=!1,Ls!==null&&sd(Ls)&&(Ls=null),$s!==null&&sd($s)&&($s=null),Fs!==null&&sd(Fs)&&(Fs=null),oc.forEach(Sw),ac.forEach(Sw)}function hl(t,e){t.blockedOn===e&&(t.blockedOn=null,Jm||(Jm=!0,fn.unstable_scheduleCallback(fn.unstable_NormalPriority,mR)))}function lc(t){function e(s){return hl(s,t)}if(0<xu.length){hl(xu[0],t);for(var n=1;n<xu.length;n++){var r=xu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ls!==null&&hl(Ls,t),$s!==null&&hl($s,t),Fs!==null&&hl(Fs,t),oc.forEach(e),ac.forEach(e),n=0;n<xs.length;n++)r=xs[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<xs.length&&(n=xs[0],n.blockedOn===null);)fS(n),n.blockedOn===null&&xs.shift()}var ia=Qr.ReactCurrentBatchConfig,Ad=!0;function gR(t,e,n,r){var s=Pe,i=ia.transition;ia.transition=null;try{Pe=1,tv(t,e,n,r)}finally{Pe=s,ia.transition=i}}function yR(t,e,n,r){var s=Pe,i=ia.transition;ia.transition=null;try{Pe=4,tv(t,e,n,r)}finally{Pe=s,ia.transition=i}}function tv(t,e,n,r){if(Ad){var s=Qm(t,e,n,r);if(s===null)kp(t,e,r,Od,n),kw(t,r);else if(pR(s,t,e,n,r))r.stopPropagation();else if(kw(t,r),e&4&&-1<hR.indexOf(t)){for(;s!==null;){var i=Zc(s);if(i!==null&&lS(i),i=Qm(t,e,n,r),i===null&&kp(t,e,r,Od,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else kp(t,e,r,null,n)}}var Od=null;function Qm(t,e,n,r){if(Od=null,t=Yy(r),t=Ai(t),t!==null)if(e=po(t),e===null)t=null;else if(n=e.tag,n===13){if(t=eS(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Od=t,null}function hS(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(sR()){case Zy:return 1;case sS:return 4;case Td:case iR:return 16;case iS:return 536870912;default:return 16}default:return 16}}var Os=null,nv=null,id=null;function pS(){if(id)return id;var t,e=nv,n=e.length,r,s="value"in Os?Os.value:Os.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return id=s.slice(t,1<r?1-r:void 0)}function od(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function bu(){return!0}function Ew(){return!1}function mn(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?bu:Ew,this.isPropagationStopped=Ew,this}return Ge(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=bu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=bu)},persist:function(){},isPersistent:bu}),e}var Ya={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rv=mn(Ya),Yc=Ge({},Ya,{view:0,detail:0}),vR=mn(Yc),hp,pp,pl,rh=Ge({},Yc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==pl&&(pl&&t.type==="mousemove"?(hp=t.screenX-pl.screenX,pp=t.screenY-pl.screenY):pp=hp=0,pl=t),hp)},movementY:function(t){return"movementY"in t?t.movementY:pp}}),Cw=mn(rh),wR=Ge({},rh,{dataTransfer:0}),xR=mn(wR),bR=Ge({},Yc,{relatedTarget:0}),mp=mn(bR),kR=Ge({},Ya,{animationName:0,elapsedTime:0,pseudoElement:0}),SR=mn(kR),ER=Ge({},Ya,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),CR=mn(ER),_R=Ge({},Ya,{data:0}),_w=mn(_R),TR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},NR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},AR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function OR(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=AR[t])?!!e[t]:!1}function sv(){return OR}var PR=Ge({},Yc,{key:function(t){if(t.key){var e=TR[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=od(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?NR[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sv,charCode:function(t){return t.type==="keypress"?od(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?od(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),RR=mn(PR),MR=Ge({},rh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Tw=mn(MR),jR=Ge({},Yc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sv}),IR=mn(jR),DR=Ge({},Ya,{propertyName:0,elapsedTime:0,pseudoElement:0}),LR=mn(DR),$R=Ge({},rh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),FR=mn($R),zR=[9,13,27,32],iv=Ur&&"CompositionEvent"in window,Dl=null;Ur&&"documentMode"in document&&(Dl=document.documentMode);var BR=Ur&&"TextEvent"in window&&!Dl,mS=Ur&&(!iv||Dl&&8<Dl&&11>=Dl),Nw=" ",Aw=!1;function gS(t,e){switch(t){case"keyup":return zR.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yS(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Wo=!1;function UR(t,e){switch(t){case"compositionend":return yS(e);case"keypress":return e.which!==32?null:(Aw=!0,Nw);case"textInput":return t=e.data,t===Nw&&Aw?null:t;default:return null}}function VR(t,e){if(Wo)return t==="compositionend"||!iv&&gS(t,e)?(t=pS(),id=nv=Os=null,Wo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return mS&&e.locale!=="ko"?null:e.data;default:return null}}var HR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ow(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!HR[t.type]:e==="textarea"}function vS(t,e,n,r){Jk(r),e=Pd(e,"onChange"),0<e.length&&(n=new rv("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ll=null,cc=null;function WR(t){AS(t,0)}function sh(t){var e=Go(t);if(Uk(e))return t}function KR(t,e){if(t==="change")return e}var wS=!1;if(Ur){var gp;if(Ur){var yp="oninput"in document;if(!yp){var Pw=document.createElement("div");Pw.setAttribute("oninput","return;"),yp=typeof Pw.oninput=="function"}gp=yp}else gp=!1;wS=gp&&(!document.documentMode||9<document.documentMode)}function Rw(){Ll&&(Ll.detachEvent("onpropertychange",xS),cc=Ll=null)}function xS(t){if(t.propertyName==="value"&&sh(cc)){var e=[];vS(e,cc,t,Yy(t)),Xk(WR,e)}}function qR(t,e,n){t==="focusin"?(Rw(),Ll=e,cc=n,Ll.attachEvent("onpropertychange",xS)):t==="focusout"&&Rw()}function GR(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return sh(cc)}function JR(t,e){if(t==="click")return sh(e)}function QR(t,e){if(t==="input"||t==="change")return sh(e)}function YR(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var er=typeof Object.is=="function"?Object.is:YR;function uc(t,e){if(er(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Rm.call(e,s)||!er(t[s],e[s]))return!1}return!0}function Mw(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function jw(t,e){var n=Mw(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Mw(n)}}function bS(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?bS(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function kS(){for(var t=window,e=Ed();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ed(t.document)}return e}function ov(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function ZR(t){var e=kS(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&bS(n.ownerDocument.documentElement,n)){if(r!==null&&ov(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=jw(n,i);var o=jw(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var XR=Ur&&"documentMode"in document&&11>=document.documentMode,Ko=null,Ym=null,$l=null,Zm=!1;function Iw(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Zm||Ko==null||Ko!==Ed(r)||(r=Ko,"selectionStart"in r&&ov(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),$l&&uc($l,r)||($l=r,r=Pd(Ym,"onSelect"),0<r.length&&(e=new rv("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ko)))}function ku(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var qo={animationend:ku("Animation","AnimationEnd"),animationiteration:ku("Animation","AnimationIteration"),animationstart:ku("Animation","AnimationStart"),transitionend:ku("Transition","TransitionEnd")},vp={},SS={};Ur&&(SS=document.createElement("div").style,"AnimationEvent"in window||(delete qo.animationend.animation,delete qo.animationiteration.animation,delete qo.animationstart.animation),"TransitionEvent"in window||delete qo.transitionend.transition);function ih(t){if(vp[t])return vp[t];if(!qo[t])return t;var e=qo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in SS)return vp[t]=e[n];return t}var ES=ih("animationend"),CS=ih("animationiteration"),_S=ih("animationstart"),TS=ih("transitionend"),NS=new Map,Dw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ai(t,e){NS.set(t,e),ho(e,[t])}for(var wp=0;wp<Dw.length;wp++){var xp=Dw[wp],eM=xp.toLowerCase(),tM=xp[0].toUpperCase()+xp.slice(1);ai(eM,"on"+tM)}ai(ES,"onAnimationEnd");ai(CS,"onAnimationIteration");ai(_S,"onAnimationStart");ai("dblclick","onDoubleClick");ai("focusin","onFocus");ai("focusout","onBlur");ai(TS,"onTransitionEnd");Ea("onMouseEnter",["mouseout","mouseover"]);Ea("onMouseLeave",["mouseout","mouseover"]);Ea("onPointerEnter",["pointerout","pointerover"]);Ea("onPointerLeave",["pointerout","pointerover"]);ho("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ho("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ho("onBeforeInput",["compositionend","keypress","textInput","paste"]);ho("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ho("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ho("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _l="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nM=new Set("cancel close invalid load scroll toggle".split(" ").concat(_l));function Lw(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,eR(r,e,void 0,t),t.currentTarget=null}function AS(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Lw(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Lw(s,a,c),i=l}}}if(_d)throw t=qm,_d=!1,qm=null,t}function ze(t,e){var n=e[rg];n===void 0&&(n=e[rg]=new Set);var r=t+"__bubble";n.has(r)||(OS(e,t,2,!1),n.add(r))}function bp(t,e,n){var r=0;e&&(r|=4),OS(n,t,r,e)}var Su="_reactListening"+Math.random().toString(36).slice(2);function dc(t){if(!t[Su]){t[Su]=!0,Lk.forEach(function(n){n!=="selectionchange"&&(nM.has(n)||bp(n,!1,t),bp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Su]||(e[Su]=!0,bp("selectionchange",!1,e))}}function OS(t,e,n,r){switch(hS(e)){case 1:var s=gR;break;case 4:s=yR;break;default:s=tv}n=s.bind(null,e,n,t),s=void 0,!Km||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function kp(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Ai(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}Xk(function(){var c=i,u=Yy(n),d=[];e:{var f=NS.get(t);if(f!==void 0){var h=rv,m=t;switch(t){case"keypress":if(od(n)===0)break e;case"keydown":case"keyup":h=RR;break;case"focusin":m="focus",h=mp;break;case"focusout":m="blur",h=mp;break;case"beforeblur":case"afterblur":h=mp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=Cw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=xR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=IR;break;case ES:case CS:case _S:h=SR;break;case TS:h=LR;break;case"scroll":h=vR;break;case"wheel":h=FR;break;case"copy":case"cut":case"paste":h=CR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=Tw}var g=(e&4)!==0,y=!g&&t==="scroll",v=g?f!==null?f+"Capture":null:f;g=[];for(var w=c,x;w!==null;){x=w;var k=x.stateNode;if(x.tag===5&&k!==null&&(x=k,v!==null&&(k=ic(w,v),k!=null&&g.push(fc(w,k,x)))),y)break;w=w.return}0<g.length&&(f=new h(f,m,null,n,u),d.push({event:f,listeners:g}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",f&&n!==Hm&&(m=n.relatedTarget||n.fromElement)&&(Ai(m)||m[Vr]))break e;if((h||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,h?(m=n.relatedTarget||n.toElement,h=c,m=m?Ai(m):null,m!==null&&(y=po(m),m!==y||m.tag!==5&&m.tag!==6)&&(m=null)):(h=null,m=c),h!==m)){if(g=Cw,k="onMouseLeave",v="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(g=Tw,k="onPointerLeave",v="onPointerEnter",w="pointer"),y=h==null?f:Go(h),x=m==null?f:Go(m),f=new g(k,w+"leave",h,n,u),f.target=y,f.relatedTarget=x,k=null,Ai(u)===c&&(g=new g(v,w+"enter",m,n,u),g.target=x,g.relatedTarget=y,k=g),y=k,h&&m)t:{for(g=h,v=m,w=0,x=g;x;x=Co(x))w++;for(x=0,k=v;k;k=Co(k))x++;for(;0<w-x;)g=Co(g),w--;for(;0<x-w;)v=Co(v),x--;for(;w--;){if(g===v||v!==null&&g===v.alternate)break t;g=Co(g),v=Co(v)}g=null}else g=null;h!==null&&$w(d,f,h,g,!1),m!==null&&y!==null&&$w(d,y,m,g,!0)}}e:{if(f=c?Go(c):window,h=f.nodeName&&f.nodeName.toLowerCase(),h==="select"||h==="input"&&f.type==="file")var S=KR;else if(Ow(f))if(wS)S=QR;else{S=GR;var C=qR}else(h=f.nodeName)&&h.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(S=JR);if(S&&(S=S(t,c))){vS(d,S,n,u);break e}C&&C(t,f,c),t==="focusout"&&(C=f._wrapperState)&&C.controlled&&f.type==="number"&&Fm(f,"number",f.value)}switch(C=c?Go(c):window,t){case"focusin":(Ow(C)||C.contentEditable==="true")&&(Ko=C,Ym=c,$l=null);break;case"focusout":$l=Ym=Ko=null;break;case"mousedown":Zm=!0;break;case"contextmenu":case"mouseup":case"dragend":Zm=!1,Iw(d,n,u);break;case"selectionchange":if(XR)break;case"keydown":case"keyup":Iw(d,n,u)}var E;if(iv)e:{switch(t){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Wo?gS(t,n)&&(_="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(mS&&n.locale!=="ko"&&(Wo||_!=="onCompositionStart"?_==="onCompositionEnd"&&Wo&&(E=pS()):(Os=u,nv="value"in Os?Os.value:Os.textContent,Wo=!0)),C=Pd(c,_),0<C.length&&(_=new _w(_,t,null,n,u),d.push({event:_,listeners:C}),E?_.data=E:(E=yS(n),E!==null&&(_.data=E)))),(E=BR?UR(t,n):VR(t,n))&&(c=Pd(c,"onBeforeInput"),0<c.length&&(u=new _w("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=E))}AS(d,e)})}function fc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Pd(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=ic(t,n),i!=null&&r.unshift(fc(t,i,s)),i=ic(t,e),i!=null&&r.push(fc(t,i,s))),t=t.return}return r}function Co(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function $w(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=ic(n,i),l!=null&&o.unshift(fc(n,l,a))):s||(l=ic(n,i),l!=null&&o.push(fc(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var rM=/\r\n?/g,sM=/\u0000|\uFFFD/g;function Fw(t){return(typeof t=="string"?t:""+t).replace(rM,`
`).replace(sM,"")}function Eu(t,e,n){if(e=Fw(e),Fw(t)!==e&&n)throw Error(j(425))}function Rd(){}var Xm=null,eg=null;function tg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ng=typeof setTimeout=="function"?setTimeout:void 0,iM=typeof clearTimeout=="function"?clearTimeout:void 0,zw=typeof Promise=="function"?Promise:void 0,oM=typeof queueMicrotask=="function"?queueMicrotask:typeof zw<"u"?function(t){return zw.resolve(null).then(t).catch(aM)}:ng;function aM(t){setTimeout(function(){throw t})}function Sp(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),lc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);lc(e)}function zs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Bw(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Za=Math.random().toString(36).slice(2),hr="__reactFiber$"+Za,hc="__reactProps$"+Za,Vr="__reactContainer$"+Za,rg="__reactEvents$"+Za,lM="__reactListeners$"+Za,cM="__reactHandles$"+Za;function Ai(t){var e=t[hr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Vr]||n[hr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Bw(t);t!==null;){if(n=t[hr])return n;t=Bw(t)}return e}t=n,n=t.parentNode}return null}function Zc(t){return t=t[hr]||t[Vr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Go(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(j(33))}function oh(t){return t[hc]||null}var sg=[],Jo=-1;function li(t){return{current:t}}function Ue(t){0>Jo||(t.current=sg[Jo],sg[Jo]=null,Jo--)}function De(t,e){Jo++,sg[Jo]=t.current,t.current=e}var ei={},Dt=li(ei),tn=li(!1),Qi=ei;function Ca(t,e){var n=t.type.contextTypes;if(!n)return ei;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function nn(t){return t=t.childContextTypes,t!=null}function Md(){Ue(tn),Ue(Dt)}function Uw(t,e,n){if(Dt.current!==ei)throw Error(j(168));De(Dt,e),De(tn,n)}function PS(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(j(108,qP(t)||"Unknown",s));return Ge({},n,r)}function jd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ei,Qi=Dt.current,De(Dt,t),De(tn,tn.current),!0}function Vw(t,e,n){var r=t.stateNode;if(!r)throw Error(j(169));n?(t=PS(t,e,Qi),r.__reactInternalMemoizedMergedChildContext=t,Ue(tn),Ue(Dt),De(Dt,t)):Ue(tn),De(tn,n)}var Ir=null,ah=!1,Ep=!1;function RS(t){Ir===null?Ir=[t]:Ir.push(t)}function uM(t){ah=!0,RS(t)}function ci(){if(!Ep&&Ir!==null){Ep=!0;var t=0,e=Pe;try{var n=Ir;for(Pe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ir=null,ah=!1}catch(s){throw Ir!==null&&(Ir=Ir.slice(t+1)),rS(Zy,ci),s}finally{Pe=e,Ep=!1}}return null}var Qo=[],Yo=0,Id=null,Dd=0,kn=[],Sn=0,Yi=null,Lr=1,$r="";function Ei(t,e){Qo[Yo++]=Dd,Qo[Yo++]=Id,Id=t,Dd=e}function MS(t,e,n){kn[Sn++]=Lr,kn[Sn++]=$r,kn[Sn++]=Yi,Yi=t;var r=Lr;t=$r;var s=32-Zn(r)-1;r&=~(1<<s),n+=1;var i=32-Zn(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Lr=1<<32-Zn(e)+s|n<<s|r,$r=i+t}else Lr=1<<i|n<<s|r,$r=t}function av(t){t.return!==null&&(Ei(t,1),MS(t,1,0))}function lv(t){for(;t===Id;)Id=Qo[--Yo],Qo[Yo]=null,Dd=Qo[--Yo],Qo[Yo]=null;for(;t===Yi;)Yi=kn[--Sn],kn[Sn]=null,$r=kn[--Sn],kn[Sn]=null,Lr=kn[--Sn],kn[Sn]=null}var un=null,cn=null,He=!1,Gn=null;function jS(t,e){var n=Cn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Hw(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,un=t,cn=zs(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,un=t,cn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Yi!==null?{id:Lr,overflow:$r}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Cn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,un=t,cn=null,!0):!1;default:return!1}}function ig(t){return(t.mode&1)!==0&&(t.flags&128)===0}function og(t){if(He){var e=cn;if(e){var n=e;if(!Hw(t,e)){if(ig(t))throw Error(j(418));e=zs(n.nextSibling);var r=un;e&&Hw(t,e)?jS(r,n):(t.flags=t.flags&-4097|2,He=!1,un=t)}}else{if(ig(t))throw Error(j(418));t.flags=t.flags&-4097|2,He=!1,un=t}}}function Ww(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;un=t}function Cu(t){if(t!==un)return!1;if(!He)return Ww(t),He=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!tg(t.type,t.memoizedProps)),e&&(e=cn)){if(ig(t))throw IS(),Error(j(418));for(;e;)jS(t,e),e=zs(e.nextSibling)}if(Ww(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(j(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){cn=zs(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}cn=null}}else cn=un?zs(t.stateNode.nextSibling):null;return!0}function IS(){for(var t=cn;t;)t=zs(t.nextSibling)}function _a(){cn=un=null,He=!1}function cv(t){Gn===null?Gn=[t]:Gn.push(t)}var dM=Qr.ReactCurrentBatchConfig;function ml(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(j(309));var r=n.stateNode}if(!r)throw Error(j(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(j(284));if(!n._owner)throw Error(j(290,t))}return t}function _u(t,e){throw t=Object.prototype.toString.call(e),Error(j(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Kw(t){var e=t._init;return e(t._payload)}function DS(t){function e(v,w){if(t){var x=v.deletions;x===null?(v.deletions=[w],v.flags|=16):x.push(w)}}function n(v,w){if(!t)return null;for(;w!==null;)e(v,w),w=w.sibling;return null}function r(v,w){for(v=new Map;w!==null;)w.key!==null?v.set(w.key,w):v.set(w.index,w),w=w.sibling;return v}function s(v,w){return v=Hs(v,w),v.index=0,v.sibling=null,v}function i(v,w,x){return v.index=x,t?(x=v.alternate,x!==null?(x=x.index,x<w?(v.flags|=2,w):x):(v.flags|=2,w)):(v.flags|=1048576,w)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,w,x,k){return w===null||w.tag!==6?(w=Pp(x,v.mode,k),w.return=v,w):(w=s(w,x),w.return=v,w)}function l(v,w,x,k){var S=x.type;return S===Ho?u(v,w,x.props.children,k,x.key):w!==null&&(w.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ps&&Kw(S)===w.type)?(k=s(w,x.props),k.ref=ml(v,w,x),k.return=v,k):(k=hd(x.type,x.key,x.props,null,v.mode,k),k.ref=ml(v,w,x),k.return=v,k)}function c(v,w,x,k){return w===null||w.tag!==4||w.stateNode.containerInfo!==x.containerInfo||w.stateNode.implementation!==x.implementation?(w=Rp(x,v.mode,k),w.return=v,w):(w=s(w,x.children||[]),w.return=v,w)}function u(v,w,x,k,S){return w===null||w.tag!==7?(w=Hi(x,v.mode,k,S),w.return=v,w):(w=s(w,x),w.return=v,w)}function d(v,w,x){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Pp(""+w,v.mode,x),w.return=v,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case mu:return x=hd(w.type,w.key,w.props,null,v.mode,x),x.ref=ml(v,null,w),x.return=v,x;case Vo:return w=Rp(w,v.mode,x),w.return=v,w;case ps:var k=w._init;return d(v,k(w._payload),x)}if(El(w)||ul(w))return w=Hi(w,v.mode,x,null),w.return=v,w;_u(v,w)}return null}function f(v,w,x,k){var S=w!==null?w.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return S!==null?null:a(v,w,""+x,k);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case mu:return x.key===S?l(v,w,x,k):null;case Vo:return x.key===S?c(v,w,x,k):null;case ps:return S=x._init,f(v,w,S(x._payload),k)}if(El(x)||ul(x))return S!==null?null:u(v,w,x,k,null);_u(v,x)}return null}function h(v,w,x,k,S){if(typeof k=="string"&&k!==""||typeof k=="number")return v=v.get(x)||null,a(w,v,""+k,S);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case mu:return v=v.get(k.key===null?x:k.key)||null,l(w,v,k,S);case Vo:return v=v.get(k.key===null?x:k.key)||null,c(w,v,k,S);case ps:var C=k._init;return h(v,w,x,C(k._payload),S)}if(El(k)||ul(k))return v=v.get(x)||null,u(w,v,k,S,null);_u(w,k)}return null}function m(v,w,x,k){for(var S=null,C=null,E=w,_=w=0,A=null;E!==null&&_<x.length;_++){E.index>_?(A=E,E=null):A=E.sibling;var T=f(v,E,x[_],k);if(T===null){E===null&&(E=A);break}t&&E&&T.alternate===null&&e(v,E),w=i(T,w,_),C===null?S=T:C.sibling=T,C=T,E=A}if(_===x.length)return n(v,E),He&&Ei(v,_),S;if(E===null){for(;_<x.length;_++)E=d(v,x[_],k),E!==null&&(w=i(E,w,_),C===null?S=E:C.sibling=E,C=E);return He&&Ei(v,_),S}for(E=r(v,E);_<x.length;_++)A=h(E,v,_,x[_],k),A!==null&&(t&&A.alternate!==null&&E.delete(A.key===null?_:A.key),w=i(A,w,_),C===null?S=A:C.sibling=A,C=A);return t&&E.forEach(function(z){return e(v,z)}),He&&Ei(v,_),S}function g(v,w,x,k){var S=ul(x);if(typeof S!="function")throw Error(j(150));if(x=S.call(x),x==null)throw Error(j(151));for(var C=S=null,E=w,_=w=0,A=null,T=x.next();E!==null&&!T.done;_++,T=x.next()){E.index>_?(A=E,E=null):A=E.sibling;var z=f(v,E,T.value,k);if(z===null){E===null&&(E=A);break}t&&E&&z.alternate===null&&e(v,E),w=i(z,w,_),C===null?S=z:C.sibling=z,C=z,E=A}if(T.done)return n(v,E),He&&Ei(v,_),S;if(E===null){for(;!T.done;_++,T=x.next())T=d(v,T.value,k),T!==null&&(w=i(T,w,_),C===null?S=T:C.sibling=T,C=T);return He&&Ei(v,_),S}for(E=r(v,E);!T.done;_++,T=x.next())T=h(E,v,_,T.value,k),T!==null&&(t&&T.alternate!==null&&E.delete(T.key===null?_:T.key),w=i(T,w,_),C===null?S=T:C.sibling=T,C=T);return t&&E.forEach(function(I){return e(v,I)}),He&&Ei(v,_),S}function y(v,w,x,k){if(typeof x=="object"&&x!==null&&x.type===Ho&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case mu:e:{for(var S=x.key,C=w;C!==null;){if(C.key===S){if(S=x.type,S===Ho){if(C.tag===7){n(v,C.sibling),w=s(C,x.props.children),w.return=v,v=w;break e}}else if(C.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ps&&Kw(S)===C.type){n(v,C.sibling),w=s(C,x.props),w.ref=ml(v,C,x),w.return=v,v=w;break e}n(v,C);break}else e(v,C);C=C.sibling}x.type===Ho?(w=Hi(x.props.children,v.mode,k,x.key),w.return=v,v=w):(k=hd(x.type,x.key,x.props,null,v.mode,k),k.ref=ml(v,w,x),k.return=v,v=k)}return o(v);case Vo:e:{for(C=x.key;w!==null;){if(w.key===C)if(w.tag===4&&w.stateNode.containerInfo===x.containerInfo&&w.stateNode.implementation===x.implementation){n(v,w.sibling),w=s(w,x.children||[]),w.return=v,v=w;break e}else{n(v,w);break}else e(v,w);w=w.sibling}w=Rp(x,v.mode,k),w.return=v,v=w}return o(v);case ps:return C=x._init,y(v,w,C(x._payload),k)}if(El(x))return m(v,w,x,k);if(ul(x))return g(v,w,x,k);_u(v,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,w!==null&&w.tag===6?(n(v,w.sibling),w=s(w,x),w.return=v,v=w):(n(v,w),w=Pp(x,v.mode,k),w.return=v,v=w),o(v)):n(v,w)}return y}var Ta=DS(!0),LS=DS(!1),Ld=li(null),$d=null,Zo=null,uv=null;function dv(){uv=Zo=$d=null}function fv(t){var e=Ld.current;Ue(Ld),t._currentValue=e}function ag(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function oa(t,e){$d=t,uv=Zo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(en=!0),t.firstContext=null)}function Pn(t){var e=t._currentValue;if(uv!==t)if(t={context:t,memoizedValue:e,next:null},Zo===null){if($d===null)throw Error(j(308));Zo=t,$d.dependencies={lanes:0,firstContext:t}}else Zo=Zo.next=t;return e}var Oi=null;function hv(t){Oi===null?Oi=[t]:Oi.push(t)}function $S(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,hv(e)):(n.next=s.next,s.next=n),e.interleaved=n,Hr(t,r)}function Hr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ms=!1;function pv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function FS(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function zr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Bs(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Se&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Hr(t,n)}return s=r.interleaved,s===null?(e.next=e,hv(r)):(e.next=s.next,s.next=e),r.interleaved=e,Hr(t,n)}function ad(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Xy(t,n)}}function qw(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Fd(t,e,n,r){var s=t.updateQueue;ms=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(i!==null){var d=s.baseState;o=0,u=c=l=null,a=i;do{var f=a.lane,h=a.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,g=a;switch(f=e,h=n,g.tag){case 1:if(m=g.payload,typeof m=="function"){d=m.call(h,d,f);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,f=typeof m=="function"?m.call(h,d,f):m,f==null)break e;d=Ge({},d,f);break e;case 2:ms=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else h={eventTime:h,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=h,l=d):u=u.next=h,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(u===null&&(l=d),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Xi|=o,t.lanes=o,t.memoizedState=d}}function Gw(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(j(191,s));s.call(r)}}}var Xc={},yr=li(Xc),pc=li(Xc),mc=li(Xc);function Pi(t){if(t===Xc)throw Error(j(174));return t}function mv(t,e){switch(De(mc,e),De(pc,t),De(yr,Xc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Bm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Bm(e,t)}Ue(yr),De(yr,e)}function Na(){Ue(yr),Ue(pc),Ue(mc)}function zS(t){Pi(mc.current);var e=Pi(yr.current),n=Bm(e,t.type);e!==n&&(De(pc,t),De(yr,n))}function gv(t){pc.current===t&&(Ue(yr),Ue(pc))}var We=li(0);function zd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Cp=[];function yv(){for(var t=0;t<Cp.length;t++)Cp[t]._workInProgressVersionPrimary=null;Cp.length=0}var ld=Qr.ReactCurrentDispatcher,_p=Qr.ReactCurrentBatchConfig,Zi=0,qe=null,ht=null,mt=null,Bd=!1,Fl=!1,gc=0,fM=0;function Ot(){throw Error(j(321))}function vv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!er(t[n],e[n]))return!1;return!0}function wv(t,e,n,r,s,i){if(Zi=i,qe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ld.current=t===null||t.memoizedState===null?gM:yM,t=n(r,s),Fl){i=0;do{if(Fl=!1,gc=0,25<=i)throw Error(j(301));i+=1,mt=ht=null,e.updateQueue=null,ld.current=vM,t=n(r,s)}while(Fl)}if(ld.current=Ud,e=ht!==null&&ht.next!==null,Zi=0,mt=ht=qe=null,Bd=!1,e)throw Error(j(300));return t}function xv(){var t=gc!==0;return gc=0,t}function ir(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mt===null?qe.memoizedState=mt=t:mt=mt.next=t,mt}function Rn(){if(ht===null){var t=qe.alternate;t=t!==null?t.memoizedState:null}else t=ht.next;var e=mt===null?qe.memoizedState:mt.next;if(e!==null)mt=e,ht=t;else{if(t===null)throw Error(j(310));ht=t,t={memoizedState:ht.memoizedState,baseState:ht.baseState,baseQueue:ht.baseQueue,queue:ht.queue,next:null},mt===null?qe.memoizedState=mt=t:mt=mt.next=t}return mt}function yc(t,e){return typeof e=="function"?e(t):e}function Tp(t){var e=Rn(),n=e.queue;if(n===null)throw Error(j(311));n.lastRenderedReducer=t;var r=ht,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var u=c.lane;if((Zi&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,qe.lanes|=u,Xi|=u}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,er(r,e.memoizedState)||(en=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,qe.lanes|=i,Xi|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Np(t){var e=Rn(),n=e.queue;if(n===null)throw Error(j(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);er(i,e.memoizedState)||(en=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function BS(){}function US(t,e){var n=qe,r=Rn(),s=e(),i=!er(r.memoizedState,s);if(i&&(r.memoizedState=s,en=!0),r=r.queue,bv(WS.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||mt!==null&&mt.memoizedState.tag&1){if(n.flags|=2048,vc(9,HS.bind(null,n,r,s,e),void 0,null),yt===null)throw Error(j(349));Zi&30||VS(n,e,s)}return s}function VS(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=qe.updateQueue,e===null?(e={lastEffect:null,stores:null},qe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function HS(t,e,n,r){e.value=n,e.getSnapshot=r,KS(e)&&qS(t)}function WS(t,e,n){return n(function(){KS(e)&&qS(t)})}function KS(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!er(t,n)}catch{return!0}}function qS(t){var e=Hr(t,1);e!==null&&Xn(e,t,1,-1)}function Jw(t){var e=ir();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yc,lastRenderedState:t},e.queue=t,t=t.dispatch=mM.bind(null,qe,t),[e.memoizedState,t]}function vc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=qe.updateQueue,e===null?(e={lastEffect:null,stores:null},qe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function GS(){return Rn().memoizedState}function cd(t,e,n,r){var s=ir();qe.flags|=t,s.memoizedState=vc(1|e,n,void 0,r===void 0?null:r)}function lh(t,e,n,r){var s=Rn();r=r===void 0?null:r;var i=void 0;if(ht!==null){var o=ht.memoizedState;if(i=o.destroy,r!==null&&vv(r,o.deps)){s.memoizedState=vc(e,n,i,r);return}}qe.flags|=t,s.memoizedState=vc(1|e,n,i,r)}function Qw(t,e){return cd(8390656,8,t,e)}function bv(t,e){return lh(2048,8,t,e)}function JS(t,e){return lh(4,2,t,e)}function QS(t,e){return lh(4,4,t,e)}function YS(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function ZS(t,e,n){return n=n!=null?n.concat([t]):null,lh(4,4,YS.bind(null,e,t),n)}function kv(){}function XS(t,e){var n=Rn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&vv(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function eE(t,e){var n=Rn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&vv(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function tE(t,e,n){return Zi&21?(er(n,e)||(n=oS(),qe.lanes|=n,Xi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,en=!0),t.memoizedState=n)}function hM(t,e){var n=Pe;Pe=n!==0&&4>n?n:4,t(!0);var r=_p.transition;_p.transition={};try{t(!1),e()}finally{Pe=n,_p.transition=r}}function nE(){return Rn().memoizedState}function pM(t,e,n){var r=Vs(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rE(t))sE(e,n);else if(n=$S(t,e,n,r),n!==null){var s=Ht();Xn(n,t,r,s),iE(n,e,r)}}function mM(t,e,n){var r=Vs(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rE(t))sE(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,er(a,o)){var l=e.interleaved;l===null?(s.next=s,hv(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=$S(t,e,s,r),n!==null&&(s=Ht(),Xn(n,t,r,s),iE(n,e,r))}}function rE(t){var e=t.alternate;return t===qe||e!==null&&e===qe}function sE(t,e){Fl=Bd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function iE(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Xy(t,n)}}var Ud={readContext:Pn,useCallback:Ot,useContext:Ot,useEffect:Ot,useImperativeHandle:Ot,useInsertionEffect:Ot,useLayoutEffect:Ot,useMemo:Ot,useReducer:Ot,useRef:Ot,useState:Ot,useDebugValue:Ot,useDeferredValue:Ot,useTransition:Ot,useMutableSource:Ot,useSyncExternalStore:Ot,useId:Ot,unstable_isNewReconciler:!1},gM={readContext:Pn,useCallback:function(t,e){return ir().memoizedState=[t,e===void 0?null:e],t},useContext:Pn,useEffect:Qw,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,cd(4194308,4,YS.bind(null,e,t),n)},useLayoutEffect:function(t,e){return cd(4194308,4,t,e)},useInsertionEffect:function(t,e){return cd(4,2,t,e)},useMemo:function(t,e){var n=ir();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ir();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=pM.bind(null,qe,t),[r.memoizedState,t]},useRef:function(t){var e=ir();return t={current:t},e.memoizedState=t},useState:Jw,useDebugValue:kv,useDeferredValue:function(t){return ir().memoizedState=t},useTransition:function(){var t=Jw(!1),e=t[0];return t=hM.bind(null,t[1]),ir().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=qe,s=ir();if(He){if(n===void 0)throw Error(j(407));n=n()}else{if(n=e(),yt===null)throw Error(j(349));Zi&30||VS(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,Qw(WS.bind(null,r,i,t),[t]),r.flags|=2048,vc(9,HS.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=ir(),e=yt.identifierPrefix;if(He){var n=$r,r=Lr;n=(r&~(1<<32-Zn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=gc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=fM++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},yM={readContext:Pn,useCallback:XS,useContext:Pn,useEffect:bv,useImperativeHandle:ZS,useInsertionEffect:JS,useLayoutEffect:QS,useMemo:eE,useReducer:Tp,useRef:GS,useState:function(){return Tp(yc)},useDebugValue:kv,useDeferredValue:function(t){var e=Rn();return tE(e,ht.memoizedState,t)},useTransition:function(){var t=Tp(yc)[0],e=Rn().memoizedState;return[t,e]},useMutableSource:BS,useSyncExternalStore:US,useId:nE,unstable_isNewReconciler:!1},vM={readContext:Pn,useCallback:XS,useContext:Pn,useEffect:bv,useImperativeHandle:ZS,useInsertionEffect:JS,useLayoutEffect:QS,useMemo:eE,useReducer:Np,useRef:GS,useState:function(){return Np(yc)},useDebugValue:kv,useDeferredValue:function(t){var e=Rn();return ht===null?e.memoizedState=t:tE(e,ht.memoizedState,t)},useTransition:function(){var t=Np(yc)[0],e=Rn().memoizedState;return[t,e]},useMutableSource:BS,useSyncExternalStore:US,useId:nE,unstable_isNewReconciler:!1};function Un(t,e){if(t&&t.defaultProps){e=Ge({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function lg(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ge({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ch={isMounted:function(t){return(t=t._reactInternals)?po(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ht(),s=Vs(t),i=zr(r,s);i.payload=e,n!=null&&(i.callback=n),e=Bs(t,i,s),e!==null&&(Xn(e,t,s,r),ad(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ht(),s=Vs(t),i=zr(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Bs(t,i,s),e!==null&&(Xn(e,t,s,r),ad(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ht(),r=Vs(t),s=zr(n,r);s.tag=2,e!=null&&(s.callback=e),e=Bs(t,s,r),e!==null&&(Xn(e,t,r,n),ad(e,t,r))}};function Yw(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!uc(n,r)||!uc(s,i):!0}function oE(t,e,n){var r=!1,s=ei,i=e.contextType;return typeof i=="object"&&i!==null?i=Pn(i):(s=nn(e)?Qi:Dt.current,r=e.contextTypes,i=(r=r!=null)?Ca(t,s):ei),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ch,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Zw(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&ch.enqueueReplaceState(e,e.state,null)}function cg(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},pv(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Pn(i):(i=nn(e)?Qi:Dt.current,s.context=Ca(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(lg(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&ch.enqueueReplaceState(s,s.state,null),Fd(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Aa(t,e){try{var n="",r=e;do n+=KP(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Ap(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function ug(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var wM=typeof WeakMap=="function"?WeakMap:Map;function aE(t,e,n){n=zr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Hd||(Hd=!0,xg=r),ug(t,e)},n}function lE(t,e,n){n=zr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){ug(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){ug(t,e),typeof r!="function"&&(Us===null?Us=new Set([this]):Us.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Xw(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new wM;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=MM.bind(null,t,e,n),e.then(t,t))}function ex(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function tx(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=zr(-1,1),e.tag=2,Bs(n,e,1))),n.lanes|=1),t)}var xM=Qr.ReactCurrentOwner,en=!1;function Bt(t,e,n,r){e.child=t===null?LS(e,null,n,r):Ta(e,t.child,n,r)}function nx(t,e,n,r,s){n=n.render;var i=e.ref;return oa(e,s),r=wv(t,e,n,r,i,s),n=xv(),t!==null&&!en?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Wr(t,e,s)):(He&&n&&av(e),e.flags|=1,Bt(t,e,r,s),e.child)}function rx(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Ov(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,cE(t,e,i,r,s)):(t=hd(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:uc,n(o,r)&&t.ref===e.ref)return Wr(t,e,s)}return e.flags|=1,t=Hs(i,r),t.ref=e.ref,t.return=e,e.child=t}function cE(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(uc(i,r)&&t.ref===e.ref)if(en=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(en=!0);else return e.lanes=t.lanes,Wr(t,e,s)}return dg(t,e,n,r,s)}function uE(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},De(ea,on),on|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,De(ea,on),on|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,De(ea,on),on|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,De(ea,on),on|=r;return Bt(t,e,s,n),e.child}function dE(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function dg(t,e,n,r,s){var i=nn(n)?Qi:Dt.current;return i=Ca(e,i),oa(e,s),n=wv(t,e,n,r,i,s),r=xv(),t!==null&&!en?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Wr(t,e,s)):(He&&r&&av(e),e.flags|=1,Bt(t,e,n,s),e.child)}function sx(t,e,n,r,s){if(nn(n)){var i=!0;jd(e)}else i=!1;if(oa(e,s),e.stateNode===null)ud(t,e),oE(e,n,r),cg(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Pn(c):(c=nn(n)?Qi:Dt.current,c=Ca(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&Zw(e,o,r,c),ms=!1;var f=e.memoizedState;o.state=f,Fd(e,r,o,s),l=e.memoizedState,a!==r||f!==l||tn.current||ms?(typeof u=="function"&&(lg(e,n,u,r),l=e.memoizedState),(a=ms||Yw(e,n,a,r,f,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,FS(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Un(e.type,a),o.props=c,d=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Pn(l):(l=nn(n)?Qi:Dt.current,l=Ca(e,l));var h=n.getDerivedStateFromProps;(u=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&Zw(e,o,r,l),ms=!1,f=e.memoizedState,o.state=f,Fd(e,r,o,s);var m=e.memoizedState;a!==d||f!==m||tn.current||ms?(typeof h=="function"&&(lg(e,n,h,r),m=e.memoizedState),(c=ms||Yw(e,n,c,r,f,m,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,m,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),o.props=r,o.state=m,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return fg(t,e,n,r,i,s)}function fg(t,e,n,r,s,i){dE(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Vw(e,n,!1),Wr(t,e,i);r=e.stateNode,xM.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Ta(e,t.child,null,i),e.child=Ta(e,null,a,i)):Bt(t,e,a,i),e.memoizedState=r.state,s&&Vw(e,n,!0),e.child}function fE(t){var e=t.stateNode;e.pendingContext?Uw(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Uw(t,e.context,!1),mv(t,e.containerInfo)}function ix(t,e,n,r,s){return _a(),cv(s),e.flags|=256,Bt(t,e,n,r),e.child}var hg={dehydrated:null,treeContext:null,retryLane:0};function pg(t){return{baseLanes:t,cachePool:null,transitions:null}}function hE(t,e,n){var r=e.pendingProps,s=We.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),De(We,s&1),t===null)return og(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=fh(o,r,0,null),t=Hi(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=pg(n),e.memoizedState=hg,t):Sv(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return bM(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Hs(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Hs(a,i):(i=Hi(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?pg(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=hg,r}return i=t.child,t=i.sibling,r=Hs(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Sv(t,e){return e=fh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Tu(t,e,n,r){return r!==null&&cv(r),Ta(e,t.child,null,n),t=Sv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function bM(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Ap(Error(j(422))),Tu(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=fh({mode:"visible",children:r.children},s,0,null),i=Hi(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Ta(e,t.child,null,o),e.child.memoizedState=pg(o),e.memoizedState=hg,i);if(!(e.mode&1))return Tu(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(j(419)),r=Ap(i,r,void 0),Tu(t,e,o,r)}if(a=(o&t.childLanes)!==0,en||a){if(r=yt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Hr(t,s),Xn(r,t,s,-1))}return Av(),r=Ap(Error(j(421))),Tu(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=jM.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,cn=zs(s.nextSibling),un=e,He=!0,Gn=null,t!==null&&(kn[Sn++]=Lr,kn[Sn++]=$r,kn[Sn++]=Yi,Lr=t.id,$r=t.overflow,Yi=e),e=Sv(e,r.children),e.flags|=4096,e)}function ox(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),ag(t.return,e,n)}function Op(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function pE(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Bt(t,e,r.children,n),r=We.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ox(t,n,e);else if(t.tag===19)ox(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(De(We,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&zd(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Op(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&zd(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Op(e,!0,n,null,i);break;case"together":Op(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ud(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Wr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Xi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(j(153));if(e.child!==null){for(t=e.child,n=Hs(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Hs(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function kM(t,e,n){switch(e.tag){case 3:fE(e),_a();break;case 5:zS(e);break;case 1:nn(e.type)&&jd(e);break;case 4:mv(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;De(Ld,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(De(We,We.current&1),e.flags|=128,null):n&e.child.childLanes?hE(t,e,n):(De(We,We.current&1),t=Wr(t,e,n),t!==null?t.sibling:null);De(We,We.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return pE(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),De(We,We.current),r)break;return null;case 22:case 23:return e.lanes=0,uE(t,e,n)}return Wr(t,e,n)}var mE,mg,gE,yE;mE=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};mg=function(){};gE=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Pi(yr.current);var i=null;switch(n){case"input":s=Lm(t,s),r=Lm(t,r),i=[];break;case"select":s=Ge({},s,{value:void 0}),r=Ge({},r,{value:void 0}),i=[];break;case"textarea":s=zm(t,s),r=zm(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Rd)}Um(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(rc.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(rc.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&ze("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};yE=function(t,e,n,r){n!==r&&(e.flags|=4)};function gl(t,e){if(!He)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Pt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function SM(t,e,n){var r=e.pendingProps;switch(lv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pt(e),null;case 1:return nn(e.type)&&Md(),Pt(e),null;case 3:return r=e.stateNode,Na(),Ue(tn),Ue(Dt),yv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Cu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Gn!==null&&(Sg(Gn),Gn=null))),mg(t,e),Pt(e),null;case 5:gv(e);var s=Pi(mc.current);if(n=e.type,t!==null&&e.stateNode!=null)gE(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(j(166));return Pt(e),null}if(t=Pi(yr.current),Cu(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[hr]=e,r[hc]=i,t=(e.mode&1)!==0,n){case"dialog":ze("cancel",r),ze("close",r);break;case"iframe":case"object":case"embed":ze("load",r);break;case"video":case"audio":for(s=0;s<_l.length;s++)ze(_l[s],r);break;case"source":ze("error",r);break;case"img":case"image":case"link":ze("error",r),ze("load",r);break;case"details":ze("toggle",r);break;case"input":mw(r,i),ze("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ze("invalid",r);break;case"textarea":yw(r,i),ze("invalid",r)}Um(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Eu(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Eu(r.textContent,a,t),s=["children",""+a]):rc.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ze("scroll",r)}switch(n){case"input":gu(r),gw(r,i,!0);break;case"textarea":gu(r),vw(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Rd)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Wk(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[hr]=e,t[hc]=r,mE(t,e,!1,!1),e.stateNode=t;e:{switch(o=Vm(n,r),n){case"dialog":ze("cancel",t),ze("close",t),s=r;break;case"iframe":case"object":case"embed":ze("load",t),s=r;break;case"video":case"audio":for(s=0;s<_l.length;s++)ze(_l[s],t);s=r;break;case"source":ze("error",t),s=r;break;case"img":case"image":case"link":ze("error",t),ze("load",t),s=r;break;case"details":ze("toggle",t),s=r;break;case"input":mw(t,r),s=Lm(t,r),ze("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Ge({},r,{value:void 0}),ze("invalid",t);break;case"textarea":yw(t,r),s=zm(t,r),ze("invalid",t);break;default:s=r}Um(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?Gk(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Kk(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&sc(t,l):typeof l=="number"&&sc(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(rc.hasOwnProperty(i)?l!=null&&i==="onScroll"&&ze("scroll",t):l!=null&&qy(t,i,l,o))}switch(n){case"input":gu(t),gw(t,r,!1);break;case"textarea":gu(t),vw(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Xs(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?na(t,!!r.multiple,i,!1):r.defaultValue!=null&&na(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Rd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Pt(e),null;case 6:if(t&&e.stateNode!=null)yE(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(j(166));if(n=Pi(mc.current),Pi(yr.current),Cu(e)){if(r=e.stateNode,n=e.memoizedProps,r[hr]=e,(i=r.nodeValue!==n)&&(t=un,t!==null))switch(t.tag){case 3:Eu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Eu(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[hr]=e,e.stateNode=r}return Pt(e),null;case 13:if(Ue(We),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(He&&cn!==null&&e.mode&1&&!(e.flags&128))IS(),_a(),e.flags|=98560,i=!1;else if(i=Cu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(j(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(j(317));i[hr]=e}else _a(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Pt(e),i=!1}else Gn!==null&&(Sg(Gn),Gn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||We.current&1?pt===0&&(pt=3):Av())),e.updateQueue!==null&&(e.flags|=4),Pt(e),null);case 4:return Na(),mg(t,e),t===null&&dc(e.stateNode.containerInfo),Pt(e),null;case 10:return fv(e.type._context),Pt(e),null;case 17:return nn(e.type)&&Md(),Pt(e),null;case 19:if(Ue(We),i=e.memoizedState,i===null)return Pt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)gl(i,!1);else{if(pt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=zd(t),o!==null){for(e.flags|=128,gl(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return De(We,We.current&1|2),e.child}t=t.sibling}i.tail!==null&&it()>Oa&&(e.flags|=128,r=!0,gl(i,!1),e.lanes=4194304)}else{if(!r)if(t=zd(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),gl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!He)return Pt(e),null}else 2*it()-i.renderingStartTime>Oa&&n!==1073741824&&(e.flags|=128,r=!0,gl(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=it(),e.sibling=null,n=We.current,De(We,r?n&1|2:n&1),e):(Pt(e),null);case 22:case 23:return Nv(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?on&1073741824&&(Pt(e),e.subtreeFlags&6&&(e.flags|=8192)):Pt(e),null;case 24:return null;case 25:return null}throw Error(j(156,e.tag))}function EM(t,e){switch(lv(e),e.tag){case 1:return nn(e.type)&&Md(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Na(),Ue(tn),Ue(Dt),yv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return gv(e),null;case 13:if(Ue(We),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(j(340));_a()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ue(We),null;case 4:return Na(),null;case 10:return fv(e.type._context),null;case 22:case 23:return Nv(),null;case 24:return null;default:return null}}var Nu=!1,jt=!1,CM=typeof WeakSet=="function"?WeakSet:Set,W=null;function Xo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){et(t,e,r)}else n.current=null}function gg(t,e,n){try{n()}catch(r){et(t,e,r)}}var ax=!1;function _M(t,e){if(Xm=Ad,t=kS(),ov(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=t,f=null;t:for(;;){for(var h;d!==n||s!==0&&d.nodeType!==3||(a=o+s),d!==i||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(h=d.firstChild)!==null;)f=d,d=h;for(;;){if(d===t)break t;if(f===n&&++c===s&&(a=o),f===i&&++u===r&&(l=o),(h=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=h}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(eg={focusedElem:t,selectionRange:n},Ad=!1,W=e;W!==null;)if(e=W,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,W=t;else for(;W!==null;){e=W;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var g=m.memoizedProps,y=m.memoizedState,v=e.stateNode,w=v.getSnapshotBeforeUpdate(e.elementType===e.type?g:Un(e.type,g),y);v.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(j(163))}}catch(k){et(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,W=t;break}W=e.return}return m=ax,ax=!1,m}function zl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&gg(e,n,i)}s=s.next}while(s!==r)}}function uh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function yg(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function vE(t){var e=t.alternate;e!==null&&(t.alternate=null,vE(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[hr],delete e[hc],delete e[rg],delete e[lM],delete e[cM])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function wE(t){return t.tag===5||t.tag===3||t.tag===4}function lx(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||wE(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function vg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Rd));else if(r!==4&&(t=t.child,t!==null))for(vg(t,e,n),t=t.sibling;t!==null;)vg(t,e,n),t=t.sibling}function wg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(wg(t,e,n),t=t.sibling;t!==null;)wg(t,e,n),t=t.sibling}var bt=null,Kn=!1;function rs(t,e,n){for(n=n.child;n!==null;)xE(t,e,n),n=n.sibling}function xE(t,e,n){if(gr&&typeof gr.onCommitFiberUnmount=="function")try{gr.onCommitFiberUnmount(nh,n)}catch{}switch(n.tag){case 5:jt||Xo(n,e);case 6:var r=bt,s=Kn;bt=null,rs(t,e,n),bt=r,Kn=s,bt!==null&&(Kn?(t=bt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):bt.removeChild(n.stateNode));break;case 18:bt!==null&&(Kn?(t=bt,n=n.stateNode,t.nodeType===8?Sp(t.parentNode,n):t.nodeType===1&&Sp(t,n),lc(t)):Sp(bt,n.stateNode));break;case 4:r=bt,s=Kn,bt=n.stateNode.containerInfo,Kn=!0,rs(t,e,n),bt=r,Kn=s;break;case 0:case 11:case 14:case 15:if(!jt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&gg(n,e,o),s=s.next}while(s!==r)}rs(t,e,n);break;case 1:if(!jt&&(Xo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){et(n,e,a)}rs(t,e,n);break;case 21:rs(t,e,n);break;case 22:n.mode&1?(jt=(r=jt)||n.memoizedState!==null,rs(t,e,n),jt=r):rs(t,e,n);break;default:rs(t,e,n)}}function cx(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new CM),e.forEach(function(r){var s=IM.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function $n(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:bt=a.stateNode,Kn=!1;break e;case 3:bt=a.stateNode.containerInfo,Kn=!0;break e;case 4:bt=a.stateNode.containerInfo,Kn=!0;break e}a=a.return}if(bt===null)throw Error(j(160));xE(i,o,s),bt=null,Kn=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){et(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)bE(e,t),e=e.sibling}function bE(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if($n(e,t),sr(t),r&4){try{zl(3,t,t.return),uh(3,t)}catch(g){et(t,t.return,g)}try{zl(5,t,t.return)}catch(g){et(t,t.return,g)}}break;case 1:$n(e,t),sr(t),r&512&&n!==null&&Xo(n,n.return);break;case 5:if($n(e,t),sr(t),r&512&&n!==null&&Xo(n,n.return),t.flags&32){var s=t.stateNode;try{sc(s,"")}catch(g){et(t,t.return,g)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Vk(s,i),Vm(a,o);var c=Vm(a,i);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?Gk(s,d):u==="dangerouslySetInnerHTML"?Kk(s,d):u==="children"?sc(s,d):qy(s,u,d,c)}switch(a){case"input":$m(s,i);break;case"textarea":Hk(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var h=i.value;h!=null?na(s,!!i.multiple,h,!1):f!==!!i.multiple&&(i.defaultValue!=null?na(s,!!i.multiple,i.defaultValue,!0):na(s,!!i.multiple,i.multiple?[]:"",!1))}s[hc]=i}catch(g){et(t,t.return,g)}}break;case 6:if($n(e,t),sr(t),r&4){if(t.stateNode===null)throw Error(j(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(g){et(t,t.return,g)}}break;case 3:if($n(e,t),sr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{lc(e.containerInfo)}catch(g){et(t,t.return,g)}break;case 4:$n(e,t),sr(t);break;case 13:$n(e,t),sr(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(_v=it())),r&4&&cx(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(jt=(c=jt)||u,$n(e,t),jt=c):$n(e,t),sr(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(W=t,u=t.child;u!==null;){for(d=W=u;W!==null;){switch(f=W,h=f.child,f.tag){case 0:case 11:case 14:case 15:zl(4,f,f.return);break;case 1:Xo(f,f.return);var m=f.stateNode;if(typeof m.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(g){et(r,n,g)}}break;case 5:Xo(f,f.return);break;case 22:if(f.memoizedState!==null){dx(d);continue}}h!==null?(h.return=f,W=h):dx(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{s=d.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=qk("display",o))}catch(g){et(t,t.return,g)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(g){et(t,t.return,g)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:$n(e,t),sr(t),r&4&&cx(t);break;case 21:break;default:$n(e,t),sr(t)}}function sr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(wE(n)){var r=n;break e}n=n.return}throw Error(j(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(sc(s,""),r.flags&=-33);var i=lx(t);wg(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=lx(t);vg(t,a,o);break;default:throw Error(j(161))}}catch(l){et(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function TM(t,e,n){W=t,kE(t)}function kE(t,e,n){for(var r=(t.mode&1)!==0;W!==null;){var s=W,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Nu;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||jt;a=Nu;var c=jt;if(Nu=o,(jt=l)&&!c)for(W=s;W!==null;)o=W,l=o.child,o.tag===22&&o.memoizedState!==null?fx(s):l!==null?(l.return=o,W=l):fx(s);for(;i!==null;)W=i,kE(i),i=i.sibling;W=s,Nu=a,jt=c}ux(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,W=i):ux(t)}}function ux(t){for(;W!==null;){var e=W;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:jt||uh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!jt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Un(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Gw(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Gw(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&lc(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(j(163))}jt||e.flags&512&&yg(e)}catch(f){et(e,e.return,f)}}if(e===t){W=null;break}if(n=e.sibling,n!==null){n.return=e.return,W=n;break}W=e.return}}function dx(t){for(;W!==null;){var e=W;if(e===t){W=null;break}var n=e.sibling;if(n!==null){n.return=e.return,W=n;break}W=e.return}}function fx(t){for(;W!==null;){var e=W;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{uh(4,e)}catch(l){et(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){et(e,s,l)}}var i=e.return;try{yg(e)}catch(l){et(e,i,l)}break;case 5:var o=e.return;try{yg(e)}catch(l){et(e,o,l)}}}catch(l){et(e,e.return,l)}if(e===t){W=null;break}var a=e.sibling;if(a!==null){a.return=e.return,W=a;break}W=e.return}}var NM=Math.ceil,Vd=Qr.ReactCurrentDispatcher,Ev=Qr.ReactCurrentOwner,_n=Qr.ReactCurrentBatchConfig,Se=0,yt=null,at=null,Ct=0,on=0,ea=li(0),pt=0,wc=null,Xi=0,dh=0,Cv=0,Bl=null,Yt=null,_v=0,Oa=1/0,Rr=null,Hd=!1,xg=null,Us=null,Au=!1,Ps=null,Wd=0,Ul=0,bg=null,dd=-1,fd=0;function Ht(){return Se&6?it():dd!==-1?dd:dd=it()}function Vs(t){return t.mode&1?Se&2&&Ct!==0?Ct&-Ct:dM.transition!==null?(fd===0&&(fd=oS()),fd):(t=Pe,t!==0||(t=window.event,t=t===void 0?16:hS(t.type)),t):1}function Xn(t,e,n,r){if(50<Ul)throw Ul=0,bg=null,Error(j(185));Qc(t,n,r),(!(Se&2)||t!==yt)&&(t===yt&&(!(Se&2)&&(dh|=n),pt===4&&bs(t,Ct)),rn(t,r),n===1&&Se===0&&!(e.mode&1)&&(Oa=it()+500,ah&&ci()))}function rn(t,e){var n=t.callbackNode;dR(t,e);var r=Nd(t,t===yt?Ct:0);if(r===0)n!==null&&bw(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&bw(n),e===1)t.tag===0?uM(hx.bind(null,t)):RS(hx.bind(null,t)),oM(function(){!(Se&6)&&ci()}),n=null;else{switch(aS(r)){case 1:n=Zy;break;case 4:n=sS;break;case 16:n=Td;break;case 536870912:n=iS;break;default:n=Td}n=OE(n,SE.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function SE(t,e){if(dd=-1,fd=0,Se&6)throw Error(j(327));var n=t.callbackNode;if(aa()&&t.callbackNode!==n)return null;var r=Nd(t,t===yt?Ct:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Kd(t,r);else{e=r;var s=Se;Se|=2;var i=CE();(yt!==t||Ct!==e)&&(Rr=null,Oa=it()+500,Vi(t,e));do try{PM();break}catch(a){EE(t,a)}while(!0);dv(),Vd.current=i,Se=s,at!==null?e=0:(yt=null,Ct=0,e=pt)}if(e!==0){if(e===2&&(s=Gm(t),s!==0&&(r=s,e=kg(t,s))),e===1)throw n=wc,Vi(t,0),bs(t,r),rn(t,it()),n;if(e===6)bs(t,r);else{if(s=t.current.alternate,!(r&30)&&!AM(s)&&(e=Kd(t,r),e===2&&(i=Gm(t),i!==0&&(r=i,e=kg(t,i))),e===1))throw n=wc,Vi(t,0),bs(t,r),rn(t,it()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(j(345));case 2:Ci(t,Yt,Rr);break;case 3:if(bs(t,r),(r&130023424)===r&&(e=_v+500-it(),10<e)){if(Nd(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Ht(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=ng(Ci.bind(null,t,Yt,Rr),e);break}Ci(t,Yt,Rr);break;case 4:if(bs(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Zn(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=it()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*NM(r/1960))-r,10<r){t.timeoutHandle=ng(Ci.bind(null,t,Yt,Rr),r);break}Ci(t,Yt,Rr);break;case 5:Ci(t,Yt,Rr);break;default:throw Error(j(329))}}}return rn(t,it()),t.callbackNode===n?SE.bind(null,t):null}function kg(t,e){var n=Bl;return t.current.memoizedState.isDehydrated&&(Vi(t,e).flags|=256),t=Kd(t,e),t!==2&&(e=Yt,Yt=n,e!==null&&Sg(e)),t}function Sg(t){Yt===null?Yt=t:Yt.push.apply(Yt,t)}function AM(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!er(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function bs(t,e){for(e&=~Cv,e&=~dh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Zn(e),r=1<<n;t[n]=-1,e&=~r}}function hx(t){if(Se&6)throw Error(j(327));aa();var e=Nd(t,0);if(!(e&1))return rn(t,it()),null;var n=Kd(t,e);if(t.tag!==0&&n===2){var r=Gm(t);r!==0&&(e=r,n=kg(t,r))}if(n===1)throw n=wc,Vi(t,0),bs(t,e),rn(t,it()),n;if(n===6)throw Error(j(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ci(t,Yt,Rr),rn(t,it()),null}function Tv(t,e){var n=Se;Se|=1;try{return t(e)}finally{Se=n,Se===0&&(Oa=it()+500,ah&&ci())}}function eo(t){Ps!==null&&Ps.tag===0&&!(Se&6)&&aa();var e=Se;Se|=1;var n=_n.transition,r=Pe;try{if(_n.transition=null,Pe=1,t)return t()}finally{Pe=r,_n.transition=n,Se=e,!(Se&6)&&ci()}}function Nv(){on=ea.current,Ue(ea)}function Vi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,iM(n)),at!==null)for(n=at.return;n!==null;){var r=n;switch(lv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Md();break;case 3:Na(),Ue(tn),Ue(Dt),yv();break;case 5:gv(r);break;case 4:Na();break;case 13:Ue(We);break;case 19:Ue(We);break;case 10:fv(r.type._context);break;case 22:case 23:Nv()}n=n.return}if(yt=t,at=t=Hs(t.current,null),Ct=on=e,pt=0,wc=null,Cv=dh=Xi=0,Yt=Bl=null,Oi!==null){for(e=0;e<Oi.length;e++)if(n=Oi[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Oi=null}return t}function EE(t,e){do{var n=at;try{if(dv(),ld.current=Ud,Bd){for(var r=qe.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Bd=!1}if(Zi=0,mt=ht=qe=null,Fl=!1,gc=0,Ev.current=null,n===null||n.return===null){pt=1,wc=e,at=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=Ct,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=ex(o);if(h!==null){h.flags&=-257,tx(h,o,a,i,e),h.mode&1&&Xw(i,c,e),e=h,l=c;var m=e.updateQueue;if(m===null){var g=new Set;g.add(l),e.updateQueue=g}else m.add(l);break e}else{if(!(e&1)){Xw(i,c,e),Av();break e}l=Error(j(426))}}else if(He&&a.mode&1){var y=ex(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),tx(y,o,a,i,e),cv(Aa(l,a));break e}}i=l=Aa(l,a),pt!==4&&(pt=2),Bl===null?Bl=[i]:Bl.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var v=aE(i,l,e);qw(i,v);break e;case 1:a=l;var w=i.type,x=i.stateNode;if(!(i.flags&128)&&(typeof w.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Us===null||!Us.has(x)))){i.flags|=65536,e&=-e,i.lanes|=e;var k=lE(i,a,e);qw(i,k);break e}}i=i.return}while(i!==null)}TE(n)}catch(S){e=S,at===n&&n!==null&&(at=n=n.return);continue}break}while(!0)}function CE(){var t=Vd.current;return Vd.current=Ud,t===null?Ud:t}function Av(){(pt===0||pt===3||pt===2)&&(pt=4),yt===null||!(Xi&268435455)&&!(dh&268435455)||bs(yt,Ct)}function Kd(t,e){var n=Se;Se|=2;var r=CE();(yt!==t||Ct!==e)&&(Rr=null,Vi(t,e));do try{OM();break}catch(s){EE(t,s)}while(!0);if(dv(),Se=n,Vd.current=r,at!==null)throw Error(j(261));return yt=null,Ct=0,pt}function OM(){for(;at!==null;)_E(at)}function PM(){for(;at!==null&&!nR();)_E(at)}function _E(t){var e=AE(t.alternate,t,on);t.memoizedProps=t.pendingProps,e===null?TE(t):at=e,Ev.current=null}function TE(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=EM(n,e),n!==null){n.flags&=32767,at=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{pt=6,at=null;return}}else if(n=SM(n,e,on),n!==null){at=n;return}if(e=e.sibling,e!==null){at=e;return}at=e=t}while(e!==null);pt===0&&(pt=5)}function Ci(t,e,n){var r=Pe,s=_n.transition;try{_n.transition=null,Pe=1,RM(t,e,n,r)}finally{_n.transition=s,Pe=r}return null}function RM(t,e,n,r){do aa();while(Ps!==null);if(Se&6)throw Error(j(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(j(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(fR(t,i),t===yt&&(at=yt=null,Ct=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Au||(Au=!0,OE(Td,function(){return aa(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=_n.transition,_n.transition=null;var o=Pe;Pe=1;var a=Se;Se|=4,Ev.current=null,_M(t,n),bE(n,t),ZR(eg),Ad=!!Xm,eg=Xm=null,t.current=n,TM(n),rR(),Se=a,Pe=o,_n.transition=i}else t.current=n;if(Au&&(Au=!1,Ps=t,Wd=s),i=t.pendingLanes,i===0&&(Us=null),oR(n.stateNode),rn(t,it()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Hd)throw Hd=!1,t=xg,xg=null,t;return Wd&1&&t.tag!==0&&aa(),i=t.pendingLanes,i&1?t===bg?Ul++:(Ul=0,bg=t):Ul=0,ci(),null}function aa(){if(Ps!==null){var t=aS(Wd),e=_n.transition,n=Pe;try{if(_n.transition=null,Pe=16>t?16:t,Ps===null)var r=!1;else{if(t=Ps,Ps=null,Wd=0,Se&6)throw Error(j(331));var s=Se;for(Se|=4,W=t.current;W!==null;){var i=W,o=i.child;if(W.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(W=c;W!==null;){var u=W;switch(u.tag){case 0:case 11:case 15:zl(8,u,i)}var d=u.child;if(d!==null)d.return=u,W=d;else for(;W!==null;){u=W;var f=u.sibling,h=u.return;if(vE(u),u===c){W=null;break}if(f!==null){f.return=h,W=f;break}W=h}}}var m=i.alternate;if(m!==null){var g=m.child;if(g!==null){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(g!==null)}}W=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,W=o;else e:for(;W!==null;){if(i=W,i.flags&2048)switch(i.tag){case 0:case 11:case 15:zl(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,W=v;break e}W=i.return}}var w=t.current;for(W=w;W!==null;){o=W;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,W=x;else e:for(o=w;W!==null;){if(a=W,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:uh(9,a)}}catch(S){et(a,a.return,S)}if(a===o){W=null;break e}var k=a.sibling;if(k!==null){k.return=a.return,W=k;break e}W=a.return}}if(Se=s,ci(),gr&&typeof gr.onPostCommitFiberRoot=="function")try{gr.onPostCommitFiberRoot(nh,t)}catch{}r=!0}return r}finally{Pe=n,_n.transition=e}}return!1}function px(t,e,n){e=Aa(n,e),e=aE(t,e,1),t=Bs(t,e,1),e=Ht(),t!==null&&(Qc(t,1,e),rn(t,e))}function et(t,e,n){if(t.tag===3)px(t,t,n);else for(;e!==null;){if(e.tag===3){px(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Us===null||!Us.has(r))){t=Aa(n,t),t=lE(e,t,1),e=Bs(e,t,1),t=Ht(),e!==null&&(Qc(e,1,t),rn(e,t));break}}e=e.return}}function MM(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ht(),t.pingedLanes|=t.suspendedLanes&n,yt===t&&(Ct&n)===n&&(pt===4||pt===3&&(Ct&130023424)===Ct&&500>it()-_v?Vi(t,0):Cv|=n),rn(t,e)}function NE(t,e){e===0&&(t.mode&1?(e=wu,wu<<=1,!(wu&130023424)&&(wu=4194304)):e=1);var n=Ht();t=Hr(t,e),t!==null&&(Qc(t,e,n),rn(t,n))}function jM(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),NE(t,n)}function IM(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(j(314))}r!==null&&r.delete(e),NE(t,n)}var AE;AE=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||tn.current)en=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return en=!1,kM(t,e,n);en=!!(t.flags&131072)}else en=!1,He&&e.flags&1048576&&MS(e,Dd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ud(t,e),t=e.pendingProps;var s=Ca(e,Dt.current);oa(e,n),s=wv(null,e,r,t,s,n);var i=xv();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,nn(r)?(i=!0,jd(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,pv(e),s.updater=ch,e.stateNode=s,s._reactInternals=e,cg(e,r,t,n),e=fg(null,e,r,!0,i,n)):(e.tag=0,He&&i&&av(e),Bt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ud(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=LM(r),t=Un(r,t),s){case 0:e=dg(null,e,r,t,n);break e;case 1:e=sx(null,e,r,t,n);break e;case 11:e=nx(null,e,r,t,n);break e;case 14:e=rx(null,e,r,Un(r.type,t),n);break e}throw Error(j(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Un(r,s),dg(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Un(r,s),sx(t,e,r,s,n);case 3:e:{if(fE(e),t===null)throw Error(j(387));r=e.pendingProps,i=e.memoizedState,s=i.element,FS(t,e),Fd(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Aa(Error(j(423)),e),e=ix(t,e,r,n,s);break e}else if(r!==s){s=Aa(Error(j(424)),e),e=ix(t,e,r,n,s);break e}else for(cn=zs(e.stateNode.containerInfo.firstChild),un=e,He=!0,Gn=null,n=LS(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(_a(),r===s){e=Wr(t,e,n);break e}Bt(t,e,r,n)}e=e.child}return e;case 5:return zS(e),t===null&&og(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,tg(r,s)?o=null:i!==null&&tg(r,i)&&(e.flags|=32),dE(t,e),Bt(t,e,o,n),e.child;case 6:return t===null&&og(e),null;case 13:return hE(t,e,n);case 4:return mv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ta(e,null,r,n):Bt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Un(r,s),nx(t,e,r,s,n);case 7:return Bt(t,e,e.pendingProps,n),e.child;case 8:return Bt(t,e,e.pendingProps.children,n),e.child;case 12:return Bt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,De(Ld,r._currentValue),r._currentValue=o,i!==null)if(er(i.value,o)){if(i.children===s.children&&!tn.current){e=Wr(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=zr(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),ag(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(j(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),ag(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Bt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,oa(e,n),s=Pn(s),r=r(s),e.flags|=1,Bt(t,e,r,n),e.child;case 14:return r=e.type,s=Un(r,e.pendingProps),s=Un(r.type,s),rx(t,e,r,s,n);case 15:return cE(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Un(r,s),ud(t,e),e.tag=1,nn(r)?(t=!0,jd(e)):t=!1,oa(e,n),oE(e,r,s),cg(e,r,s,n),fg(null,e,r,!0,t,n);case 19:return pE(t,e,n);case 22:return uE(t,e,n)}throw Error(j(156,e.tag))};function OE(t,e){return rS(t,e)}function DM(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(t,e,n,r){return new DM(t,e,n,r)}function Ov(t){return t=t.prototype,!(!t||!t.isReactComponent)}function LM(t){if(typeof t=="function")return Ov(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Jy)return 11;if(t===Qy)return 14}return 2}function Hs(t,e){var n=t.alternate;return n===null?(n=Cn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function hd(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Ov(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ho:return Hi(n.children,s,i,e);case Gy:o=8,s|=8;break;case Mm:return t=Cn(12,n,e,s|2),t.elementType=Mm,t.lanes=i,t;case jm:return t=Cn(13,n,e,s),t.elementType=jm,t.lanes=i,t;case Im:return t=Cn(19,n,e,s),t.elementType=Im,t.lanes=i,t;case zk:return fh(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case $k:o=10;break e;case Fk:o=9;break e;case Jy:o=11;break e;case Qy:o=14;break e;case ps:o=16,r=null;break e}throw Error(j(130,t==null?t:typeof t,""))}return e=Cn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Hi(t,e,n,r){return t=Cn(7,t,r,e),t.lanes=n,t}function fh(t,e,n,r){return t=Cn(22,t,r,e),t.elementType=zk,t.lanes=n,t.stateNode={isHidden:!1},t}function Pp(t,e,n){return t=Cn(6,t,null,e),t.lanes=n,t}function Rp(t,e,n){return e=Cn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function $M(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fp(0),this.expirationTimes=fp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fp(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Pv(t,e,n,r,s,i,o,a,l){return t=new $M(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Cn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},pv(i),t}function FM(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Vo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function PE(t){if(!t)return ei;t=t._reactInternals;e:{if(po(t)!==t||t.tag!==1)throw Error(j(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(nn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(j(171))}if(t.tag===1){var n=t.type;if(nn(n))return PS(t,n,e)}return e}function RE(t,e,n,r,s,i,o,a,l){return t=Pv(n,r,!0,t,s,i,o,a,l),t.context=PE(null),n=t.current,r=Ht(),s=Vs(n),i=zr(r,s),i.callback=e??null,Bs(n,i,s),t.current.lanes=s,Qc(t,s,r),rn(t,r),t}function hh(t,e,n,r){var s=e.current,i=Ht(),o=Vs(s);return n=PE(n),e.context===null?e.context=n:e.pendingContext=n,e=zr(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Bs(s,e,o),t!==null&&(Xn(t,s,o,i),ad(t,s,o)),o}function qd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function mx(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Rv(t,e){mx(t,e),(t=t.alternate)&&mx(t,e)}function zM(){return null}var ME=typeof reportError=="function"?reportError:function(t){console.error(t)};function Mv(t){this._internalRoot=t}ph.prototype.render=Mv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(j(409));hh(t,e,null,null)};ph.prototype.unmount=Mv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;eo(function(){hh(null,t,null,null)}),e[Vr]=null}};function ph(t){this._internalRoot=t}ph.prototype.unstable_scheduleHydration=function(t){if(t){var e=uS();t={blockedOn:null,target:t,priority:e};for(var n=0;n<xs.length&&e!==0&&e<xs[n].priority;n++);xs.splice(n,0,t),n===0&&fS(t)}};function jv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function mh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function gx(){}function BM(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=qd(o);i.call(c)}}var o=RE(e,r,t,0,null,!1,!1,"",gx);return t._reactRootContainer=o,t[Vr]=o.current,dc(t.nodeType===8?t.parentNode:t),eo(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=qd(l);a.call(c)}}var l=Pv(t,0,!1,null,null,!1,!1,"",gx);return t._reactRootContainer=l,t[Vr]=l.current,dc(t.nodeType===8?t.parentNode:t),eo(function(){hh(e,l,n,r)}),l}function gh(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=qd(o);a.call(l)}}hh(e,o,t,s)}else o=BM(n,e,t,s,r);return qd(o)}lS=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Cl(e.pendingLanes);n!==0&&(Xy(e,n|1),rn(e,it()),!(Se&6)&&(Oa=it()+500,ci()))}break;case 13:eo(function(){var r=Hr(t,1);if(r!==null){var s=Ht();Xn(r,t,1,s)}}),Rv(t,1)}};ev=function(t){if(t.tag===13){var e=Hr(t,134217728);if(e!==null){var n=Ht();Xn(e,t,134217728,n)}Rv(t,134217728)}};cS=function(t){if(t.tag===13){var e=Vs(t),n=Hr(t,e);if(n!==null){var r=Ht();Xn(n,t,e,r)}Rv(t,e)}};uS=function(){return Pe};dS=function(t,e){var n=Pe;try{return Pe=t,e()}finally{Pe=n}};Wm=function(t,e,n){switch(e){case"input":if($m(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=oh(r);if(!s)throw Error(j(90));Uk(r),$m(r,s)}}}break;case"textarea":Hk(t,n);break;case"select":e=n.value,e!=null&&na(t,!!n.multiple,e,!1)}};Yk=Tv;Zk=eo;var UM={usingClientEntryPoint:!1,Events:[Zc,Go,oh,Jk,Qk,Tv]},yl={findFiberByHostInstance:Ai,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},VM={bundleType:yl.bundleType,version:yl.version,rendererPackageName:yl.rendererPackageName,rendererConfig:yl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Qr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=tS(t),t===null?null:t.stateNode},findFiberByHostInstance:yl.findFiberByHostInstance||zM,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ou=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ou.isDisabled&&Ou.supportsFiber)try{nh=Ou.inject(VM),gr=Ou}catch{}}pn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=UM;pn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!jv(e))throw Error(j(200));return FM(t,e,null,n)};pn.createRoot=function(t,e){if(!jv(t))throw Error(j(299));var n=!1,r="",s=ME;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Pv(t,1,!1,null,null,n,!1,r,s),t[Vr]=e.current,dc(t.nodeType===8?t.parentNode:t),new Mv(e)};pn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(j(188)):(t=Object.keys(t).join(","),Error(j(268,t)));return t=tS(e),t=t===null?null:t.stateNode,t};pn.flushSync=function(t){return eo(t)};pn.hydrate=function(t,e,n){if(!mh(e))throw Error(j(200));return gh(null,t,e,!0,n)};pn.hydrateRoot=function(t,e,n){if(!jv(t))throw Error(j(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=ME;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=RE(e,null,t,1,n??null,s,!1,i,o),t[Vr]=e.current,dc(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new ph(e)};pn.render=function(t,e,n){if(!mh(e))throw Error(j(200));return gh(null,t,e,!1,n)};pn.unmountComponentAtNode=function(t){if(!mh(t))throw Error(j(40));return t._reactRootContainer?(eo(function(){gh(null,null,t,!1,function(){t._reactRootContainer=null,t[Vr]=null})}),!0):!1};pn.unstable_batchedUpdates=Tv;pn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!mh(n))throw Error(j(200));if(t==null||t._reactInternals===void 0)throw Error(j(38));return gh(t,e,n,!1,r)};pn.version="18.3.1-next-f1338f8080-20240426";function jE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(jE)}catch(t){console.error(t)}}jE(),jk.exports=pn;var mo=jk.exports;const Iv=Fy(mo);var IE,yx=mo;IE=yx.createRoot,yx.hydrateRoot;const HM=1,WM=1e6;let Mp=0;function KM(){return Mp=(Mp+1)%Number.MAX_SAFE_INTEGER,Mp.toString()}const jp=new Map,vx=t=>{if(jp.has(t))return;const e=setTimeout(()=>{jp.delete(t),Vl({type:"REMOVE_TOAST",toastId:t})},WM);jp.set(t,e)},qM=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,HM)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?vx(n):t.toasts.forEach(r=>{vx(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},pd=[];let md={toasts:[]};function Vl(t){md=qM(md,t),pd.forEach(e=>{e(md)})}function fe({...t}){const e=KM(),n=s=>Vl({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>Vl({type:"DISMISS_TOAST",toastId:e});return Vl({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function DE(){const[t,e]=b.useState(md);return b.useEffect(()=>(pd.push(e),()=>{const n=pd.indexOf(e);n>-1&&pd.splice(n,1)}),[t]),{...t,toast:fe,dismiss:n=>Vl({type:"DISMISS_TOAST",toastId:n})}}function ee(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function wx(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function LE(...t){return e=>{let n=!1;const r=t.map(s=>{const i=wx(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():wx(t[s],null)}}}}function Le(...t){return b.useCallback(LE(...t),t)}function GM(t,e){const n=b.createContext(e),r=i=>{const{children:o,...a}=i,l=b.useMemo(()=>a,Object.values(a));return p.jsx(n.Provider,{value:l,children:o})};r.displayName=t+"Provider";function s(i){const o=b.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function ui(t,e=[]){let n=[];function r(i,o){const a=b.createContext(o),l=n.length;n=[...n,o];const c=d=>{var v;const{scope:f,children:h,...m}=d,g=((v=f==null?void 0:f[t])==null?void 0:v[l])||a,y=b.useMemo(()=>m,Object.values(m));return p.jsx(g.Provider,{value:y,children:h})};c.displayName=i+"Provider";function u(d,f){var g;const h=((g=f==null?void 0:f[t])==null?void 0:g[l])||a,m=b.useContext(h);if(m)return m;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${i}\``)}return[c,u]}const s=()=>{const i=n.map(o=>b.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return b.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,JM(s,...e)]}function JM(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const d=l(i)[`__scope${c}`];return{...a,...d}},{});return b.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function Pa(t){const e=YM(t),n=b.forwardRef((r,s)=>{const{children:i,...o}=r,a=b.Children.toArray(i),l=a.find(XM);if(l){const c=l.props.children,u=a.map(d=>d===l?b.Children.count(c)>1?b.Children.only(null):b.isValidElement(c)?c.props.children:null:d);return p.jsx(e,{...o,ref:s,children:b.isValidElement(c)?b.cloneElement(c,void 0,u):null})}return p.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var QM=Pa("Slot");function YM(t){const e=b.forwardRef((n,r)=>{const{children:s,...i}=n;if(b.isValidElement(s)){const o=tj(s),a=ej(i,s.props);return s.type!==b.Fragment&&(a.ref=r?LE(r,o):o),b.cloneElement(s,a)}return b.Children.count(s)>1?b.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var $E=Symbol("radix.slottable");function ZM(t){const e=({children:n})=>p.jsx(p.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=$E,e}function XM(t){return b.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===$E}function ej(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function tj(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Dv(t){const e=t+"CollectionProvider",[n,r]=ui(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:y,children:v}=g,w=L.useRef(null),x=L.useRef(new Map).current;return p.jsx(s,{scope:y,itemMap:x,collectionRef:w,children:v})};o.displayName=e;const a=t+"CollectionSlot",l=Pa(a),c=L.forwardRef((g,y)=>{const{scope:v,children:w}=g,x=i(a,v),k=Le(y,x.collectionRef);return p.jsx(l,{ref:k,children:w})});c.displayName=a;const u=t+"CollectionItemSlot",d="data-radix-collection-item",f=Pa(u),h=L.forwardRef((g,y)=>{const{scope:v,children:w,...x}=g,k=L.useRef(null),S=Le(y,k),C=i(u,v);return L.useEffect(()=>(C.itemMap.set(k,{ref:k,...x}),()=>void C.itemMap.delete(k))),p.jsx(f,{[d]:"",ref:S,children:w})});h.displayName=u;function m(g){const y=i(t+"CollectionConsumer",g);return L.useCallback(()=>{const w=y.collectionRef.current;if(!w)return[];const x=Array.from(w.querySelectorAll(`[${d}]`));return Array.from(y.itemMap.values()).sort((C,E)=>x.indexOf(C.ref.current)-x.indexOf(E.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:o,Slot:c,ItemSlot:h},m,r]}var nj=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ge=nj.reduce((t,e)=>{const n=Pa(`Primitive.${e}`),r=b.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),p.jsx(l,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function FE(t,e){t&&mo.flushSync(()=>t.dispatchEvent(e))}function Mn(t){const e=b.useRef(t);return b.useEffect(()=>{e.current=t}),b.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function rj(t,e=globalThis==null?void 0:globalThis.document){const n=Mn(t);b.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var sj="DismissableLayer",Eg="dismissableLayer.update",ij="dismissableLayer.pointerDownOutside",oj="dismissableLayer.focusOutside",xx,zE=b.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),eu=b.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,c=b.useContext(zE),[u,d]=b.useState(null),f=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,h]=b.useState({}),m=Le(e,E=>d(E)),g=Array.from(c.layers),[y]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),v=g.indexOf(y),w=u?g.indexOf(u):-1,x=c.layersWithOutsidePointerEventsDisabled.size>0,k=w>=v,S=lj(E=>{const _=E.target,A=[...c.branches].some(T=>T.contains(_));!k||A||(s==null||s(E),o==null||o(E),E.defaultPrevented||a==null||a())},f),C=cj(E=>{const _=E.target;[...c.branches].some(T=>T.contains(_))||(i==null||i(E),o==null||o(E),E.defaultPrevented||a==null||a())},f);return rj(E=>{w===c.layers.size-1&&(r==null||r(E),!E.defaultPrevented&&a&&(E.preventDefault(),a()))},f),b.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(xx=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),bx(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=xx)}},[u,f,n,c]),b.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),bx())},[u,c]),b.useEffect(()=>{const E=()=>h({});return document.addEventListener(Eg,E),()=>document.removeEventListener(Eg,E)},[]),p.jsx(ge.div,{...l,ref:m,style:{pointerEvents:x?k?"auto":"none":void 0,...t.style},onFocusCapture:ee(t.onFocusCapture,C.onFocusCapture),onBlurCapture:ee(t.onBlurCapture,C.onBlurCapture),onPointerDownCapture:ee(t.onPointerDownCapture,S.onPointerDownCapture)})});eu.displayName=sj;var aj="DismissableLayerBranch",BE=b.forwardRef((t,e)=>{const n=b.useContext(zE),r=b.useRef(null),s=Le(e,r);return b.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),p.jsx(ge.div,{...t,ref:s})});BE.displayName=aj;function lj(t,e=globalThis==null?void 0:globalThis.document){const n=Mn(t),r=b.useRef(!1),s=b.useRef(()=>{});return b.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){UE(ij,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function cj(t,e=globalThis==null?void 0:globalThis.document){const n=Mn(t),r=b.useRef(!1);return b.useEffect(()=>{const s=i=>{i.target&&!r.current&&UE(oj,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function bx(){const t=new CustomEvent(Eg);document.dispatchEvent(t)}function UE(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?FE(s,i):s.dispatchEvent(i)}var uj=eu,dj=BE,Tt=globalThis!=null&&globalThis.document?b.useLayoutEffect:()=>{},fj="Portal",yh=b.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=b.useState(!1);Tt(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?Iv.createPortal(p.jsx(ge.div,{...r,ref:e}),o):null});yh.displayName=fj;function hj(t,e){return b.useReducer((n,r)=>e[n][r]??n,t)}var go=t=>{const{present:e,children:n}=t,r=pj(e),s=typeof n=="function"?n({present:r.isPresent}):b.Children.only(n),i=Le(r.ref,mj(s));return typeof n=="function"||r.isPresent?b.cloneElement(s,{ref:i}):null};go.displayName="Presence";function pj(t){const[e,n]=b.useState(),r=b.useRef(null),s=b.useRef(t),i=b.useRef("none"),o=t?"mounted":"unmounted",[a,l]=hj(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const c=Pu(r.current);i.current=a==="mounted"?c:"none"},[a]),Tt(()=>{const c=r.current,u=s.current;if(u!==t){const f=i.current,h=Pu(c);t?l("MOUNT"):h==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&f!==h?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),Tt(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,d=h=>{const g=Pu(r.current).includes(h.animationName);if(h.target===e&&g&&(l("ANIMATION_END"),!s.current)){const y=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=y)})}},f=h=>{h.target===e&&(i.current=Pu(r.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",d),e.addEventListener("animationend",d),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",d),e.removeEventListener("animationend",d)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:b.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function Pu(t){return(t==null?void 0:t.animationName)||"none"}function mj(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var gj=Hy[" useInsertionEffect ".trim().toString()]||Tt;function Ra({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,o]=yj({defaultProp:e,onChange:n}),a=t!==void 0,l=a?t:s;{const u=b.useRef(t!==void 0);b.useEffect(()=>{const d=u.current;d!==a&&console.warn(`${r} is changing from ${d?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=a},[a,r])}const c=b.useCallback(u=>{var d;if(a){const f=vj(u)?u(t):u;f!==t&&((d=o.current)==null||d.call(o,f))}else i(u)},[a,t,i,o]);return[l,c]}function yj({defaultProp:t,onChange:e}){const[n,r]=b.useState(t),s=b.useRef(n),i=b.useRef(e);return gj(()=>{i.current=e},[e]),b.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function vj(t){return typeof t=="function"}var VE=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),wj="VisuallyHidden",vh=b.forwardRef((t,e)=>p.jsx(ge.span,{...t,ref:e,style:{...VE,...t.style}}));vh.displayName=wj;var xj=vh,Lv="ToastProvider",[$v,bj,kj]=Dv("Toast"),[HE,P9]=ui("Toast",[kj]),[Sj,wh]=HE(Lv),WE=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,l]=b.useState(null),[c,u]=b.useState(0),d=b.useRef(!1),f=b.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Lv}\`. Expected non-empty \`string\`.`),p.jsx($v.Provider,{scope:e,children:p.jsx(Sj,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:b.useCallback(()=>u(h=>h+1),[]),onToastRemove:b.useCallback(()=>u(h=>h-1),[]),isFocusedToastEscapeKeyDownRef:d,isClosePausedRef:f,children:o})})};WE.displayName=Lv;var KE="ToastViewport",Ej=["F8"],Cg="toast.viewportPause",_g="toast.viewportResume",qE=b.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=Ej,label:s="Notifications ({hotkey})",...i}=t,o=wh(KE,n),a=bj(n),l=b.useRef(null),c=b.useRef(null),u=b.useRef(null),d=b.useRef(null),f=Le(e,d,o.onViewportChange),h=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),m=o.toastCount>0;b.useEffect(()=>{const y=v=>{var x;r.length!==0&&r.every(k=>v[k]||v.code===k)&&((x=d.current)==null||x.focus())};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[r]),b.useEffect(()=>{const y=l.current,v=d.current;if(m&&y&&v){const w=()=>{if(!o.isClosePausedRef.current){const C=new CustomEvent(Cg);v.dispatchEvent(C),o.isClosePausedRef.current=!0}},x=()=>{if(o.isClosePausedRef.current){const C=new CustomEvent(_g);v.dispatchEvent(C),o.isClosePausedRef.current=!1}},k=C=>{!y.contains(C.relatedTarget)&&x()},S=()=>{y.contains(document.activeElement)||x()};return y.addEventListener("focusin",w),y.addEventListener("focusout",k),y.addEventListener("pointermove",w),y.addEventListener("pointerleave",S),window.addEventListener("blur",w),window.addEventListener("focus",x),()=>{y.removeEventListener("focusin",w),y.removeEventListener("focusout",k),y.removeEventListener("pointermove",w),y.removeEventListener("pointerleave",S),window.removeEventListener("blur",w),window.removeEventListener("focus",x)}}},[m,o.isClosePausedRef]);const g=b.useCallback(({tabbingDirection:y})=>{const w=a().map(x=>{const k=x.ref.current,S=[k,...Lj(k)];return y==="forwards"?S:S.reverse()});return(y==="forwards"?w.reverse():w).flat()},[a]);return b.useEffect(()=>{const y=d.current;if(y){const v=w=>{var S,C,E;const x=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!x){const _=document.activeElement,A=w.shiftKey;if(w.target===y&&A){(S=c.current)==null||S.focus();return}const I=g({tabbingDirection:A?"backwards":"forwards"}),q=I.findIndex(D=>D===_);Ip(I.slice(q+1))?w.preventDefault():A?(C=c.current)==null||C.focus():(E=u.current)==null||E.focus()}};return y.addEventListener("keydown",v),()=>y.removeEventListener("keydown",v)}},[a,g]),p.jsxs(dj,{ref:l,role:"region","aria-label":s.replace("{hotkey}",h),tabIndex:-1,style:{pointerEvents:m?void 0:"none"},children:[m&&p.jsx(Tg,{ref:c,onFocusFromOutsideViewport:()=>{const y=g({tabbingDirection:"forwards"});Ip(y)}}),p.jsx($v.Slot,{scope:n,children:p.jsx(ge.ol,{tabIndex:-1,...i,ref:f})}),m&&p.jsx(Tg,{ref:u,onFocusFromOutsideViewport:()=>{const y=g({tabbingDirection:"backwards"});Ip(y)}})]})});qE.displayName=KE;var GE="ToastFocusProxy",Tg=b.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=wh(GE,n);return p.jsx(vh,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=i.viewport)!=null&&c.contains(a))&&r()}})});Tg.displayName=GE;var tu="Toast",Cj="toast.swipeStart",_j="toast.swipeMove",Tj="toast.swipeCancel",Nj="toast.swipeEnd",JE=b.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a,l]=Ra({prop:r,defaultProp:s??!0,onChange:i,caller:tu});return p.jsx(go,{present:n||a,children:p.jsx(Pj,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:Mn(t.onPause),onResume:Mn(t.onResume),onSwipeStart:ee(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ee(t.onSwipeMove,c=>{const{x:u,y:d}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${d}px`)}),onSwipeCancel:ee(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ee(t.onSwipeEnd,c=>{const{x:u,y:d}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${d}px`),l(!1)})})})});JE.displayName=tu;var[Aj,Oj]=HE(tu,{onClose(){}}),Pj=b.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:u,onSwipeMove:d,onSwipeCancel:f,onSwipeEnd:h,...m}=t,g=wh(tu,n),[y,v]=b.useState(null),w=Le(e,D=>v(D)),x=b.useRef(null),k=b.useRef(null),S=s||g.duration,C=b.useRef(0),E=b.useRef(S),_=b.useRef(0),{onToastAdd:A,onToastRemove:T}=g,z=Mn(()=>{var Q;(y==null?void 0:y.contains(document.activeElement))&&((Q=g.viewport)==null||Q.focus()),o()}),I=b.useCallback(D=>{!D||D===1/0||(window.clearTimeout(_.current),C.current=new Date().getTime(),_.current=window.setTimeout(z,D))},[z]);b.useEffect(()=>{const D=g.viewport;if(D){const Q=()=>{I(E.current),c==null||c()},F=()=>{const J=new Date().getTime()-C.current;E.current=E.current-J,window.clearTimeout(_.current),l==null||l()};return D.addEventListener(Cg,F),D.addEventListener(_g,Q),()=>{D.removeEventListener(Cg,F),D.removeEventListener(_g,Q)}}},[g.viewport,S,l,c,I]),b.useEffect(()=>{i&&!g.isClosePausedRef.current&&I(S)},[i,S,g.isClosePausedRef,I]),b.useEffect(()=>(A(),()=>T()),[A,T]);const q=b.useMemo(()=>y?nC(y):null,[y]);return g.viewport?p.jsxs(p.Fragment,{children:[q&&p.jsx(Rj,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:q}),p.jsx(Aj,{scope:n,onClose:z,children:mo.createPortal(p.jsx($v.ItemSlot,{scope:n,children:p.jsx(uj,{asChild:!0,onEscapeKeyDown:ee(a,()=>{g.isFocusedToastEscapeKeyDownRef.current||z(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:p.jsx(ge.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":g.swipeDirection,...m,ref:w,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:ee(t.onKeyDown,D=>{D.key==="Escape"&&(a==null||a(D.nativeEvent),D.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,z()))}),onPointerDown:ee(t.onPointerDown,D=>{D.button===0&&(x.current={x:D.clientX,y:D.clientY})}),onPointerMove:ee(t.onPointerMove,D=>{if(!x.current)return;const Q=D.clientX-x.current.x,F=D.clientY-x.current.y,J=!!k.current,N=["left","right"].includes(g.swipeDirection),P=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,B=N?P(0,Q):0,te=N?0:P(0,F),Y=D.pointerType==="touch"?10:2,ue={x:B,y:te},ie={originalEvent:D,delta:ue};J?(k.current=ue,Ru(_j,d,ie,{discrete:!1})):kx(ue,g.swipeDirection,Y)?(k.current=ue,Ru(Cj,u,ie,{discrete:!1}),D.target.setPointerCapture(D.pointerId)):(Math.abs(Q)>Y||Math.abs(F)>Y)&&(x.current=null)}),onPointerUp:ee(t.onPointerUp,D=>{const Q=k.current,F=D.target;if(F.hasPointerCapture(D.pointerId)&&F.releasePointerCapture(D.pointerId),k.current=null,x.current=null,Q){const J=D.currentTarget,N={originalEvent:D,delta:Q};kx(Q,g.swipeDirection,g.swipeThreshold)?Ru(Nj,h,N,{discrete:!0}):Ru(Tj,f,N,{discrete:!0}),J.addEventListener("click",P=>P.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),Rj=t=>{const{__scopeToast:e,children:n,...r}=t,s=wh(tu,e),[i,o]=b.useState(!1),[a,l]=b.useState(!1);return Ij(()=>o(!0)),b.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:p.jsx(yh,{asChild:!0,children:p.jsx(vh,{...r,children:i&&p.jsxs(p.Fragment,{children:[s.label," ",n]})})})},Mj="ToastTitle",QE=b.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return p.jsx(ge.div,{...r,ref:e})});QE.displayName=Mj;var jj="ToastDescription",YE=b.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return p.jsx(ge.div,{...r,ref:e})});YE.displayName=jj;var ZE="ToastAction",XE=b.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?p.jsx(tC,{altText:n,asChild:!0,children:p.jsx(Fv,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${ZE}\`. Expected non-empty \`string\`.`),null)});XE.displayName=ZE;var eC="ToastClose",Fv=b.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=Oj(eC,n);return p.jsx(tC,{asChild:!0,children:p.jsx(ge.button,{type:"button",...r,ref:e,onClick:ee(t.onClick,s.onClose)})})});Fv.displayName=eC;var tC=b.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return p.jsx(ge.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function nC(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),Dj(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...nC(r))}}),e}function Ru(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?FE(s,i):s.dispatchEvent(i)}var kx=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function Ij(t=()=>{}){const e=Mn(t);Tt(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function Dj(t){return t.nodeType===t.ELEMENT_NODE}function Lj(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Ip(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var $j=WE,rC=qE,sC=JE,iC=QE,oC=YE,aC=XE,lC=Fv;function cC(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=cC(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function uC(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=cC(t))&&(r&&(r+=" "),r+=e);return r}const Sx=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Ex=uC,xh=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return Ex(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(c=>{const u=n==null?void 0:n[c],d=i==null?void 0:i[c];if(u===null)return null;const f=Sx(u)||Sx(d);return s[c][f]}),a=n&&Object.entries(n).reduce((c,u)=>{let[d,f]=u;return f===void 0||(c[d]=f),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,u)=>{let{class:d,className:f,...h}=u;return Object.entries(h).every(m=>{let[g,y]=m;return Array.isArray(y)?y.includes({...i,...a}[g]):{...i,...a}[g]===y})?[...c,d,f]:c},[]);return Ex(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fj=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),dC=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var zj={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bj=b.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>b.createElement("svg",{ref:l,...zj,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:dC("lucide",s),...a},[...o.map(([c,u])=>b.createElement(c,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=(t,e)=>{const n=b.forwardRef(({className:r,...s},i)=>b.createElement(Bj,{ref:i,iconNode:e,className:dC(`lucide-${Fj(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fC=le("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zv=le("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uj=le("Bold",[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vj=le("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hC=le("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hj=le("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pC=le("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wj=le("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kj=le("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cx=le("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _x=le("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qj=le("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gj=le("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jj=le("Heading1",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"m17 12 3-2v8",key:"1hhhft"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qj=le("Heading2",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M21 18h-4c0-4 4-3 4-6 0-1.5-2-2.5-4-1",key:"9jr5yi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yj=le("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zj=le("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xj=le("Italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eI=le("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tI=le("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nI=le("ListOrdered",[["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 18h11",key:"11hvi2"}],["path",{d:"M10 6h11",key:"c7qv1k"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rI=le("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ri=le("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mC=le("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ma=le("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sI=le("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iI=le("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gC=le("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oI=le("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aI=le("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lI=le("Redo",[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cI=le("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uI=le("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dI=le("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yC=le("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fI=le("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hI=le("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pI=le("Undo",[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mI=le("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ja=le("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gI=le("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yI=le("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vC=le("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Bv="-",vI=t=>{const e=xI(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(Bv);return a[0]===""&&a.length!==1&&a.shift(),wC(a,e)||wI(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},wC=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?wC(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(Bv);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},Tx=/^\[(.+)\]$/,wI=t=>{if(Tx.test(t)){const e=Tx.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},xI=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return kI(Object.entries(t.classGroups),n).forEach(([i,o])=>{Ng(o,r,i,e)}),r},Ng=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:Nx(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(bI(s)){Ng(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{Ng(o,Nx(e,i),n,r)})})},Nx=(t,e)=>{let n=t;return e.split(Bv).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},bI=t=>t.isThemeGetter,kI=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,SI=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},xC="!",EI=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let c=0,u=0,d;for(let y=0;y<a.length;y++){let v=a[y];if(c===0){if(v===s&&(r||a.slice(y,y+i)===e)){l.push(a.slice(u,y)),u=y+i;continue}if(v==="/"){d=y;continue}}v==="["?c++:v==="]"&&c--}const f=l.length===0?a:a.substring(u),h=f.startsWith(xC),m=h?f.substring(1):f,g=d&&d>u?d-u:void 0;return{modifiers:l,hasImportantModifier:h,baseClassName:m,maybePostfixModifierPosition:g}};return n?a=>n({className:a,parseClassName:o}):o},CI=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},_I=t=>({cache:SI(t.cacheSize),parseClassName:EI(t),...vI(t)}),TI=/\s+/,NI=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(TI);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:u,hasImportantModifier:d,baseClassName:f,maybePostfixModifierPosition:h}=n(c);let m=!!h,g=r(m?f.substring(0,h):f);if(!g){if(!m){a=c+(a.length>0?" "+a:a);continue}if(g=r(f),!g){a=c+(a.length>0?" "+a:a);continue}m=!1}const y=CI(u).join(":"),v=d?y+xC:y,w=v+g;if(i.includes(w))continue;i.push(w);const x=s(g,m);for(let k=0;k<x.length;++k){const S=x[k];i.push(v+S)}a=c+(a.length>0?" "+a:a)}return a};function AI(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=bC(e))&&(r&&(r+=" "),r+=n);return r}const bC=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=bC(t[r]))&&(n&&(n+=" "),n+=e);return n};function OI(t,...e){let n,r,s,i=o;function o(l){const c=e.reduce((u,d)=>d(u),t());return n=_I(c),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const c=r(l);if(c)return c;const u=NI(l,n);return s(l,u),u}return function(){return i(AI.apply(null,arguments))}}const Fe=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},kC=/^\[(?:([a-z-]+):)?(.+)\]$/i,PI=/^\d+\/\d+$/,RI=new Set(["px","full","screen"]),MI=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,jI=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,II=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,DI=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,LI=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Cr=t=>la(t)||RI.has(t)||PI.test(t),ss=t=>Xa(t,"length",WI),la=t=>!!t&&!Number.isNaN(Number(t)),Dp=t=>Xa(t,"number",la),vl=t=>!!t&&Number.isInteger(Number(t)),$I=t=>t.endsWith("%")&&la(t.slice(0,-1)),de=t=>kC.test(t),is=t=>MI.test(t),FI=new Set(["length","size","percentage"]),zI=t=>Xa(t,FI,SC),BI=t=>Xa(t,"position",SC),UI=new Set(["image","url"]),VI=t=>Xa(t,UI,qI),HI=t=>Xa(t,"",KI),wl=()=>!0,Xa=(t,e,n)=>{const r=kC.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},WI=t=>jI.test(t)&&!II.test(t),SC=()=>!1,KI=t=>DI.test(t),qI=t=>LI.test(t),GI=()=>{const t=Fe("colors"),e=Fe("spacing"),n=Fe("blur"),r=Fe("brightness"),s=Fe("borderColor"),i=Fe("borderRadius"),o=Fe("borderSpacing"),a=Fe("borderWidth"),l=Fe("contrast"),c=Fe("grayscale"),u=Fe("hueRotate"),d=Fe("invert"),f=Fe("gap"),h=Fe("gradientColorStops"),m=Fe("gradientColorStopPositions"),g=Fe("inset"),y=Fe("margin"),v=Fe("opacity"),w=Fe("padding"),x=Fe("saturate"),k=Fe("scale"),S=Fe("sepia"),C=Fe("skew"),E=Fe("space"),_=Fe("translate"),A=()=>["auto","contain","none"],T=()=>["auto","hidden","clip","visible","scroll"],z=()=>["auto",de,e],I=()=>[de,e],q=()=>["",Cr,ss],D=()=>["auto",la,de],Q=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],F=()=>["solid","dashed","dotted","double","none"],J=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],N=()=>["start","end","center","between","around","evenly","stretch"],P=()=>["","0",de],B=()=>["auto","avoid","all","avoid-page","page","left","right","column"],te=()=>[la,de];return{cacheSize:500,separator:":",theme:{colors:[wl],spacing:[Cr,ss],blur:["none","",is,de],brightness:te(),borderColor:[t],borderRadius:["none","","full",is,de],borderSpacing:I(),borderWidth:q(),contrast:te(),grayscale:P(),hueRotate:te(),invert:P(),gap:I(),gradientColorStops:[t],gradientColorStopPositions:[$I,ss],inset:z(),margin:z(),opacity:te(),padding:I(),saturate:te(),scale:te(),sepia:P(),skew:te(),space:I(),translate:I()},classGroups:{aspect:[{aspect:["auto","square","video",de]}],container:["container"],columns:[{columns:[is]}],"break-after":[{"break-after":B()}],"break-before":[{"break-before":B()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Q(),de]}],overflow:[{overflow:T()}],"overflow-x":[{"overflow-x":T()}],"overflow-y":[{"overflow-y":T()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",vl,de]}],basis:[{basis:z()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",de]}],grow:[{grow:P()}],shrink:[{shrink:P()}],order:[{order:["first","last","none",vl,de]}],"grid-cols":[{"grid-cols":[wl]}],"col-start-end":[{col:["auto",{span:["full",vl,de]},de]}],"col-start":[{"col-start":D()}],"col-end":[{"col-end":D()}],"grid-rows":[{"grid-rows":[wl]}],"row-start-end":[{row:["auto",{span:[vl,de]},de]}],"row-start":[{"row-start":D()}],"row-end":[{"row-end":D()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",de]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",de]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...N()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...N(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...N(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[E]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[E]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",de,e]}],"min-w":[{"min-w":[de,e,"min","max","fit"]}],"max-w":[{"max-w":[de,e,"none","full","min","max","fit","prose",{screen:[is]},is]}],h:[{h:[de,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[de,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[de,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[de,e,"auto","min","max","fit"]}],"font-size":[{text:["base",is,ss]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Dp]}],"font-family":[{font:[wl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",de]}],"line-clamp":[{"line-clamp":["none",la,Dp]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Cr,de]}],"list-image":[{"list-image":["none",de]}],"list-style-type":[{list:["none","disc","decimal",de]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...F(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Cr,ss]}],"underline-offset":[{"underline-offset":["auto",Cr,de]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",de]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",de]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Q(),BI]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",zI]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},VI]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[m]}],"gradient-via-pos":[{via:[m]}],"gradient-to-pos":[{to:[m]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...F(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:F()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...F()]}],"outline-offset":[{"outline-offset":[Cr,de]}],"outline-w":[{outline:[Cr,ss]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:q()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[Cr,ss]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",is,HI]}],"shadow-color":[{shadow:[wl]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...J(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":J()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",is,de]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[x]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",de]}],duration:[{duration:te()}],ease:[{ease:["linear","in","out","in-out",de]}],delay:[{delay:te()}],animate:[{animate:["none","spin","ping","pulse","bounce",de]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[k]}],"scale-x":[{"scale-x":[k]}],"scale-y":[{"scale-y":[k]}],rotate:[{rotate:[vl,de]}],"translate-x":[{"translate-x":[_]}],"translate-y":[{"translate-y":[_]}],"skew-x":[{"skew-x":[C]}],"skew-y":[{"skew-y":[C]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",de]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",de]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",de]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Cr,ss,Dp]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},JI=OI(GI);function ke(...t){return JI(uC(t))}const QI=$j,EC=b.forwardRef(({className:t,...e},n)=>p.jsx(rC,{ref:n,className:ke("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));EC.displayName=rC.displayName;const YI=xh("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),CC=b.forwardRef(({className:t,variant:e,...n},r)=>p.jsx(sC,{ref:r,className:ke(YI({variant:e}),t),...n}));CC.displayName=sC.displayName;const ZI=b.forwardRef(({className:t,...e},n)=>p.jsx(aC,{ref:n,className:ke("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",t),...e}));ZI.displayName=aC.displayName;const _C=b.forwardRef(({className:t,...e},n)=>p.jsx(lC,{ref:n,className:ke("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:p.jsx(vC,{className:"h-4 w-4"})}));_C.displayName=lC.displayName;const TC=b.forwardRef(({className:t,...e},n)=>p.jsx(iC,{ref:n,className:ke("text-sm font-semibold",t),...e}));TC.displayName=iC.displayName;const NC=b.forwardRef(({className:t,...e},n)=>p.jsx(oC,{ref:n,className:ke("text-sm opacity-90",t),...e}));NC.displayName=oC.displayName;function XI(){const{toasts:t}=DE();return p.jsxs(QI,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return p.jsxs(CC,{...i,children:[p.jsxs("div",{className:"grid gap-1",children:[n&&p.jsx(TC,{children:n}),r&&p.jsx(NC,{children:r})]}),s,p.jsx(_C,{})]},e)}),p.jsx(EC,{})]})}var Ax=["light","dark"],e2="(prefers-color-scheme: dark)",t2=b.createContext(void 0),n2={setTheme:t=>{},themes:[]},r2=()=>{var t;return(t=b.useContext(t2))!=null?t:n2};b.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:a,nonce:l})=>{let c=i==="system",u=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(m=>`'${m}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,d=s?Ax.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",f=(m,g=!1,y=!0)=>{let v=o?o[m]:m,w=g?m+"|| ''":`'${v}'`,x="";return s&&y&&!g&&Ax.includes(m)&&(x+=`d.style.colorScheme = '${m}';`),n==="class"?g||v?x+=`c.add(${w})`:x+="null":v&&(x+=`d[s](n,${w})`),x},h=t?`!function(){${u}${f(t)}}()`:r?`!function(){try{${u}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${c})){var t='${e2}',m=window.matchMedia(t);if(m.media!==t||m.matches){${f("dark")}}else{${f("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}${c?"":"else{"+f(i,!1,!1)+"}"}${d}}catch(e){}}()`:`!function(){try{${u}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}else{${f(i,!1,!1)};}${d}}catch(t){}}();`;return b.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:h}})});var s2=t=>{switch(t){case"success":return a2;case"info":return c2;case"warning":return l2;case"error":return u2;default:return null}},i2=Array(12).fill(0),o2=({visible:t,className:e})=>L.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},L.createElement("div",{className:"sonner-spinner"},i2.map((n,r)=>L.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),a2=L.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},L.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),l2=L.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},L.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),c2=L.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},L.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),u2=L.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},L.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),d2=L.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},L.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),L.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),f2=()=>{let[t,e]=L.useState(document.hidden);return L.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},Ag=1,h2=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...r}=t,s=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:Ag++,i=this.toasts.find(a=>a.id===s),o=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),i?this.toasts=this.toasts.map(a=>a.id===s?(this.publish({...a,...t,id:s,title:n}),{...a,...t,id:s,dismissible:o,title:n}):a):this.addToast({title:n,...r,dismissible:o,id:s}),s},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=t instanceof Promise?t:t(),s=n!==void 0,i,o=r.then(async l=>{if(i=["resolve",l],L.isValidElement(l))s=!1,this.create({id:n,type:"default",message:l});else if(m2(l)&&!l.ok){s=!1;let c=typeof e.error=="function"?await e.error(`HTTP error! status: ${l.status}`):e.error,u=typeof e.description=="function"?await e.description(`HTTP error! status: ${l.status}`):e.description;this.create({id:n,type:"error",message:c,description:u})}else if(e.success!==void 0){s=!1;let c=typeof e.success=="function"?await e.success(l):e.success,u=typeof e.description=="function"?await e.description(l):e.description;this.create({id:n,type:"success",message:c,description:u})}}).catch(async l=>{if(i=["reject",l],e.error!==void 0){s=!1;let c=typeof e.error=="function"?await e.error(l):e.error,u=typeof e.description=="function"?await e.description(l):e.description;this.create({id:n,type:"error",message:c,description:u})}}).finally(()=>{var l;s&&(this.dismiss(n),n=void 0),(l=e.finally)==null||l.call(e)}),a=()=>new Promise((l,c)=>o.then(()=>i[0]==="reject"?c(i[1]):l(i[1])).catch(c));return typeof n!="string"&&typeof n!="number"?{unwrap:a}:Object.assign(n,{unwrap:a})},this.custom=(t,e)=>{let n=(e==null?void 0:e.id)||Ag++;return this.create({jsx:t(n),id:n,...e}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Qt=new h2,p2=(t,e)=>{let n=(e==null?void 0:e.id)||Ag++;return Qt.addToast({title:t,...e,id:n}),n},m2=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",g2=p2,y2=()=>Qt.toasts,v2=()=>Qt.getActiveToasts();Object.assign(g2,{success:Qt.success,info:Qt.info,warning:Qt.warning,error:Qt.error,custom:Qt.custom,message:Qt.message,promise:Qt.promise,dismiss:Qt.dismiss,loading:Qt.loading},{getHistory:y2,getToasts:v2});function w2(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}w2(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Mu(t){return t.label!==void 0}var x2=3,b2="32px",k2="16px",Ox=4e3,S2=356,E2=14,C2=20,_2=200;function Fn(...t){return t.filter(Boolean).join(" ")}function T2(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var N2=t=>{var e,n,r,s,i,o,a,l,c,u,d;let{invert:f,toast:h,unstyled:m,interacting:g,setHeights:y,visibleToasts:v,heights:w,index:x,toasts:k,expanded:S,removeToast:C,defaultRichColors:E,closeButton:_,style:A,cancelButtonStyle:T,actionButtonStyle:z,className:I="",descriptionClassName:q="",duration:D,position:Q,gap:F,loadingIcon:J,expandByDefault:N,classNames:P,icons:B,closeButtonAriaLabel:te="Close toast",pauseWhenPageIsHidden:Y}=t,[ue,ie]=L.useState(null),[$e,Je]=L.useState(null),[U,Oe]=L.useState(!1),[Qe,Ne]=L.useState(!1),[be,Ce]=L.useState(!1),[Nt,gn]=L.useState(!1),[yi,Xr]=L.useState(!1),[vi,ll]=L.useState(0),[bo,nw]=L.useState(0),cl=L.useRef(h.duration||D||Ox),rw=L.useRef(null),wi=L.useRef(null),lP=x===0,cP=x+1<=v,yn=h.type,ko=h.dismissible!==!1,uP=h.className||"",dP=h.descriptionClassName||"",fu=L.useMemo(()=>w.findIndex(oe=>oe.toastId===h.id)||0,[w,h.id]),fP=L.useMemo(()=>{var oe;return(oe=h.closeButton)!=null?oe:_},[h.closeButton,_]),sw=L.useMemo(()=>h.duration||D||Ox,[h.duration,D]),sp=L.useRef(0),So=L.useRef(0),iw=L.useRef(0),Eo=L.useRef(null),[hP,pP]=Q.split("-"),ow=L.useMemo(()=>w.reduce((oe,Re,Ve)=>Ve>=fu?oe:oe+Re.height,0),[w,fu]),aw=f2(),mP=h.invert||f,ip=yn==="loading";So.current=L.useMemo(()=>fu*F+ow,[fu,ow]),L.useEffect(()=>{cl.current=sw},[sw]),L.useEffect(()=>{Oe(!0)},[]),L.useEffect(()=>{let oe=wi.current;if(oe){let Re=oe.getBoundingClientRect().height;return nw(Re),y(Ve=>[{toastId:h.id,height:Re,position:h.position},...Ve]),()=>y(Ve=>Ve.filter(In=>In.toastId!==h.id))}},[y,h.id]),L.useLayoutEffect(()=>{if(!U)return;let oe=wi.current,Re=oe.style.height;oe.style.height="auto";let Ve=oe.getBoundingClientRect().height;oe.style.height=Re,nw(Ve),y(In=>In.find(Dn=>Dn.toastId===h.id)?In.map(Dn=>Dn.toastId===h.id?{...Dn,height:Ve}:Dn):[{toastId:h.id,height:Ve,position:h.position},...In])},[U,h.title,h.description,y,h.id]);let es=L.useCallback(()=>{Ne(!0),ll(So.current),y(oe=>oe.filter(Re=>Re.toastId!==h.id)),setTimeout(()=>{C(h)},_2)},[h,C,y,So]);L.useEffect(()=>{if(h.promise&&yn==="loading"||h.duration===1/0||h.type==="loading")return;let oe;return S||g||Y&&aw?(()=>{if(iw.current<sp.current){let Re=new Date().getTime()-sp.current;cl.current=cl.current-Re}iw.current=new Date().getTime()})():cl.current!==1/0&&(sp.current=new Date().getTime(),oe=setTimeout(()=>{var Re;(Re=h.onAutoClose)==null||Re.call(h,h),es()},cl.current)),()=>clearTimeout(oe)},[S,g,h,yn,Y,aw,es]),L.useEffect(()=>{h.delete&&es()},[es,h.delete]);function gP(){var oe,Re,Ve;return B!=null&&B.loading?L.createElement("div",{className:Fn(P==null?void 0:P.loader,(oe=h==null?void 0:h.classNames)==null?void 0:oe.loader,"sonner-loader"),"data-visible":yn==="loading"},B.loading):J?L.createElement("div",{className:Fn(P==null?void 0:P.loader,(Re=h==null?void 0:h.classNames)==null?void 0:Re.loader,"sonner-loader"),"data-visible":yn==="loading"},J):L.createElement(o2,{className:Fn(P==null?void 0:P.loader,(Ve=h==null?void 0:h.classNames)==null?void 0:Ve.loader),visible:yn==="loading"})}return L.createElement("li",{tabIndex:0,ref:wi,className:Fn(I,uP,P==null?void 0:P.toast,(e=h==null?void 0:h.classNames)==null?void 0:e.toast,P==null?void 0:P.default,P==null?void 0:P[yn],(n=h==null?void 0:h.classNames)==null?void 0:n[yn]),"data-sonner-toast":"","data-rich-colors":(r=h.richColors)!=null?r:E,"data-styled":!(h.jsx||h.unstyled||m),"data-mounted":U,"data-promise":!!h.promise,"data-swiped":yi,"data-removed":Qe,"data-visible":cP,"data-y-position":hP,"data-x-position":pP,"data-index":x,"data-front":lP,"data-swiping":be,"data-dismissible":ko,"data-type":yn,"data-invert":mP,"data-swipe-out":Nt,"data-swipe-direction":$e,"data-expanded":!!(S||N&&U),style:{"--index":x,"--toasts-before":x,"--z-index":k.length-x,"--offset":`${Qe?vi:So.current}px`,"--initial-height":N?"auto":`${bo}px`,...A,...h.style},onDragEnd:()=>{Ce(!1),ie(null),Eo.current=null},onPointerDown:oe=>{ip||!ko||(rw.current=new Date,ll(So.current),oe.target.setPointerCapture(oe.pointerId),oe.target.tagName!=="BUTTON"&&(Ce(!0),Eo.current={x:oe.clientX,y:oe.clientY}))},onPointerUp:()=>{var oe,Re,Ve,In;if(Nt||!ko)return;Eo.current=null;let Dn=Number(((oe=wi.current)==null?void 0:oe.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),ts=Number(((Re=wi.current)==null?void 0:Re.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),xi=new Date().getTime()-((Ve=rw.current)==null?void 0:Ve.getTime()),Ln=ue==="x"?Dn:ts,ns=Math.abs(Ln)/xi;if(Math.abs(Ln)>=C2||ns>.11){ll(So.current),(In=h.onDismiss)==null||In.call(h,h),Je(ue==="x"?Dn>0?"right":"left":ts>0?"down":"up"),es(),gn(!0),Xr(!1);return}Ce(!1),ie(null)},onPointerMove:oe=>{var Re,Ve,In,Dn;if(!Eo.current||!ko||((Re=window.getSelection())==null?void 0:Re.toString().length)>0)return;let ts=oe.clientY-Eo.current.y,xi=oe.clientX-Eo.current.x,Ln=(Ve=t.swipeDirections)!=null?Ve:T2(Q);!ue&&(Math.abs(xi)>1||Math.abs(ts)>1)&&ie(Math.abs(xi)>Math.abs(ts)?"x":"y");let ns={x:0,y:0};ue==="y"?(Ln.includes("top")||Ln.includes("bottom"))&&(Ln.includes("top")&&ts<0||Ln.includes("bottom")&&ts>0)&&(ns.y=ts):ue==="x"&&(Ln.includes("left")||Ln.includes("right"))&&(Ln.includes("left")&&xi<0||Ln.includes("right")&&xi>0)&&(ns.x=xi),(Math.abs(ns.x)>0||Math.abs(ns.y)>0)&&Xr(!0),(In=wi.current)==null||In.style.setProperty("--swipe-amount-x",`${ns.x}px`),(Dn=wi.current)==null||Dn.style.setProperty("--swipe-amount-y",`${ns.y}px`)}},fP&&!h.jsx?L.createElement("button",{"aria-label":te,"data-disabled":ip,"data-close-button":!0,onClick:ip||!ko?()=>{}:()=>{var oe;es(),(oe=h.onDismiss)==null||oe.call(h,h)},className:Fn(P==null?void 0:P.closeButton,(s=h==null?void 0:h.classNames)==null?void 0:s.closeButton)},(i=B==null?void 0:B.close)!=null?i:d2):null,h.jsx||b.isValidElement(h.title)?h.jsx?h.jsx:typeof h.title=="function"?h.title():h.title:L.createElement(L.Fragment,null,yn||h.icon||h.promise?L.createElement("div",{"data-icon":"",className:Fn(P==null?void 0:P.icon,(o=h==null?void 0:h.classNames)==null?void 0:o.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||gP():null,h.type!=="loading"?h.icon||(B==null?void 0:B[yn])||s2(yn):null):null,L.createElement("div",{"data-content":"",className:Fn(P==null?void 0:P.content,(a=h==null?void 0:h.classNames)==null?void 0:a.content)},L.createElement("div",{"data-title":"",className:Fn(P==null?void 0:P.title,(l=h==null?void 0:h.classNames)==null?void 0:l.title)},typeof h.title=="function"?h.title():h.title),h.description?L.createElement("div",{"data-description":"",className:Fn(q,dP,P==null?void 0:P.description,(c=h==null?void 0:h.classNames)==null?void 0:c.description)},typeof h.description=="function"?h.description():h.description):null),b.isValidElement(h.cancel)?h.cancel:h.cancel&&Mu(h.cancel)?L.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||T,onClick:oe=>{var Re,Ve;Mu(h.cancel)&&ko&&((Ve=(Re=h.cancel).onClick)==null||Ve.call(Re,oe),es())},className:Fn(P==null?void 0:P.cancelButton,(u=h==null?void 0:h.classNames)==null?void 0:u.cancelButton)},h.cancel.label):null,b.isValidElement(h.action)?h.action:h.action&&Mu(h.action)?L.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||z,onClick:oe=>{var Re,Ve;Mu(h.action)&&((Ve=(Re=h.action).onClick)==null||Ve.call(Re,oe),!oe.defaultPrevented&&es())},className:Fn(P==null?void 0:P.actionButton,(d=h==null?void 0:h.classNames)==null?void 0:d.actionButton)},h.action.label):null))};function Px(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function A2(t,e){let n={};return[t,e].forEach((r,s)=>{let i=s===1,o=i?"--mobile-offset":"--offset",a=i?k2:b2;function l(c){["top","right","bottom","left"].forEach(u=>{n[`${o}-${u}`]=typeof c=="number"?`${c}px`:c})}typeof r=="number"||typeof r=="string"?l(r):typeof r=="object"?["top","right","bottom","left"].forEach(c=>{r[c]===void 0?n[`${o}-${c}`]=a:n[`${o}-${c}`]=typeof r[c]=="number"?`${r[c]}px`:r[c]}):l(a)}),n}var O2=b.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:o,className:a,offset:l,mobileOffset:c,theme:u="light",richColors:d,duration:f,style:h,visibleToasts:m=x2,toastOptions:g,dir:y=Px(),gap:v=E2,loadingIcon:w,icons:x,containerAriaLabel:k="Notifications",pauseWhenPageIsHidden:S}=t,[C,E]=L.useState([]),_=L.useMemo(()=>Array.from(new Set([r].concat(C.filter(Y=>Y.position).map(Y=>Y.position)))),[C,r]),[A,T]=L.useState([]),[z,I]=L.useState(!1),[q,D]=L.useState(!1),[Q,F]=L.useState(u!=="system"?u:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),J=L.useRef(null),N=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),P=L.useRef(null),B=L.useRef(!1),te=L.useCallback(Y=>{E(ue=>{var ie;return(ie=ue.find($e=>$e.id===Y.id))!=null&&ie.delete||Qt.dismiss(Y.id),ue.filter(({id:$e})=>$e!==Y.id)})},[]);return L.useEffect(()=>Qt.subscribe(Y=>{if(Y.dismiss){E(ue=>ue.map(ie=>ie.id===Y.id?{...ie,delete:!0}:ie));return}setTimeout(()=>{Iv.flushSync(()=>{E(ue=>{let ie=ue.findIndex($e=>$e.id===Y.id);return ie!==-1?[...ue.slice(0,ie),{...ue[ie],...Y},...ue.slice(ie+1)]:[Y,...ue]})})})}),[]),L.useEffect(()=>{if(u!=="system"){F(u);return}if(u==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?F("dark"):F("light")),typeof window>"u")return;let Y=window.matchMedia("(prefers-color-scheme: dark)");try{Y.addEventListener("change",({matches:ue})=>{F(ue?"dark":"light")})}catch{Y.addListener(({matches:ie})=>{try{F(ie?"dark":"light")}catch($e){console.error($e)}})}},[u]),L.useEffect(()=>{C.length<=1&&I(!1)},[C]),L.useEffect(()=>{let Y=ue=>{var ie,$e;s.every(Je=>ue[Je]||ue.code===Je)&&(I(!0),(ie=J.current)==null||ie.focus()),ue.code==="Escape"&&(document.activeElement===J.current||($e=J.current)!=null&&$e.contains(document.activeElement))&&I(!1)};return document.addEventListener("keydown",Y),()=>document.removeEventListener("keydown",Y)},[s]),L.useEffect(()=>{if(J.current)return()=>{P.current&&(P.current.focus({preventScroll:!0}),P.current=null,B.current=!1)}},[J.current]),L.createElement("section",{ref:e,"aria-label":`${k} ${N}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},_.map((Y,ue)=>{var ie;let[$e,Je]=Y.split("-");return C.length?L.createElement("ol",{key:Y,dir:y==="auto"?Px():y,tabIndex:-1,ref:J,className:a,"data-sonner-toaster":!0,"data-theme":Q,"data-y-position":$e,"data-lifted":z&&C.length>1&&!i,"data-x-position":Je,style:{"--front-toast-height":`${((ie=A[0])==null?void 0:ie.height)||0}px`,"--width":`${S2}px`,"--gap":`${v}px`,...h,...A2(l,c)},onBlur:U=>{B.current&&!U.currentTarget.contains(U.relatedTarget)&&(B.current=!1,P.current&&(P.current.focus({preventScroll:!0}),P.current=null))},onFocus:U=>{U.target instanceof HTMLElement&&U.target.dataset.dismissible==="false"||B.current||(B.current=!0,P.current=U.relatedTarget)},onMouseEnter:()=>I(!0),onMouseMove:()=>I(!0),onMouseLeave:()=>{q||I(!1)},onDragEnd:()=>I(!1),onPointerDown:U=>{U.target instanceof HTMLElement&&U.target.dataset.dismissible==="false"||D(!0)},onPointerUp:()=>D(!1)},C.filter(U=>!U.position&&ue===0||U.position===Y).map((U,Oe)=>{var Qe,Ne;return L.createElement(N2,{key:U.id,icons:x,index:Oe,toast:U,defaultRichColors:d,duration:(Qe=g==null?void 0:g.duration)!=null?Qe:f,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:n,visibleToasts:m,closeButton:(Ne=g==null?void 0:g.closeButton)!=null?Ne:o,interacting:q,position:Y,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:te,toasts:C.filter(be=>be.position==U.position),heights:A.filter(be=>be.position==U.position),setHeights:T,expandByDefault:i,gap:v,loadingIcon:w,expanded:z,pauseWhenPageIsHidden:S,swipeDirections:t.swipeDirections})})):null}))});const P2=({...t})=>{const{theme:e="system"}=r2();return p.jsx(O2,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var R2=Hy[" useId ".trim().toString()]||(()=>{}),M2=0;function Ws(t){const[e,n]=b.useState(R2());return Tt(()=>{t||n(r=>r??String(M2++))},[t]),t||(e?`radix-${e}`:"")}const j2=["top","right","bottom","left"],ti=Math.min,an=Math.max,Gd=Math.round,ju=Math.floor,vr=t=>({x:t,y:t}),I2={left:"right",right:"left",bottom:"top",top:"bottom"},D2={start:"end",end:"start"};function Og(t,e,n){return an(t,ti(e,n))}function Kr(t,e){return typeof t=="function"?t(e):t}function qr(t){return t.split("-")[0]}function el(t){return t.split("-")[1]}function Uv(t){return t==="x"?"y":"x"}function Vv(t){return t==="y"?"height":"width"}const L2=new Set(["top","bottom"]);function mr(t){return L2.has(qr(t))?"y":"x"}function Hv(t){return Uv(mr(t))}function $2(t,e,n){n===void 0&&(n=!1);const r=el(t),s=Hv(t),i=Vv(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Jd(o)),[o,Jd(o)]}function F2(t){const e=Jd(t);return[Pg(t),e,Pg(e)]}function Pg(t){return t.replace(/start|end/g,e=>D2[e])}const Rx=["left","right"],Mx=["right","left"],z2=["top","bottom"],B2=["bottom","top"];function U2(t,e,n){switch(t){case"top":case"bottom":return n?e?Mx:Rx:e?Rx:Mx;case"left":case"right":return e?z2:B2;default:return[]}}function V2(t,e,n,r){const s=el(t);let i=U2(qr(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(Pg)))),i}function Jd(t){return t.replace(/left|right|bottom|top/g,e=>I2[e])}function H2(t){return{top:0,right:0,bottom:0,left:0,...t}}function AC(t){return typeof t!="number"?H2(t):{top:t,right:t,bottom:t,left:t}}function Qd(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function jx(t,e,n){let{reference:r,floating:s}=t;const i=mr(e),o=Hv(e),a=Vv(o),l=qr(e),c=i==="y",u=r.x+r.width/2-s.width/2,d=r.y+r.height/2-s.height/2,f=r[a]/2-s[a]/2;let h;switch(l){case"top":h={x:u,y:r.y-s.height};break;case"bottom":h={x:u,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:d};break;case"left":h={x:r.x-s.width,y:d};break;default:h={x:r.x,y:r.y}}switch(el(e)){case"start":h[o]-=f*(n&&c?-1:1);break;case"end":h[o]+=f*(n&&c?-1:1);break}return h}const W2=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:u,y:d}=jx(c,r,l),f=r,h={},m=0;for(let g=0;g<a.length;g++){const{name:y,fn:v}=a[g],{x:w,y:x,data:k,reset:S}=await v({x:u,y:d,initialPlacement:r,placement:f,strategy:s,middlewareData:h,rects:c,platform:o,elements:{reference:t,floating:e}});u=w??u,d=x??d,h={...h,[y]:{...h[y],...k}},S&&m<=50&&(m++,typeof S=="object"&&(S.placement&&(f=S.placement),S.rects&&(c=S.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):S.rects),{x:u,y:d}=jx(c,f,l)),g=-1)}return{x:u,y:d,placement:f,strategy:s,middlewareData:h}};async function xc(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:f=!1,padding:h=0}=Kr(e,t),m=AC(h),y=a[f?d==="floating"?"reference":"floating":d],v=Qd(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(y)))==null||n?y:y.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),w=d==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,x=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),k=await(i.isElement==null?void 0:i.isElement(x))?await(i.getScale==null?void 0:i.getScale(x))||{x:1,y:1}:{x:1,y:1},S=Qd(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:w,offsetParent:x,strategy:l}):w);return{top:(v.top-S.top+m.top)/k.y,bottom:(S.bottom-v.bottom+m.bottom)/k.y,left:(v.left-S.left+m.left)/k.x,right:(S.right-v.right+m.right)/k.x}}const K2=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=Kr(t,e)||{};if(c==null)return{};const d=AC(u),f={x:n,y:r},h=Hv(s),m=Vv(h),g=await o.getDimensions(c),y=h==="y",v=y?"top":"left",w=y?"bottom":"right",x=y?"clientHeight":"clientWidth",k=i.reference[m]+i.reference[h]-f[h]-i.floating[m],S=f[h]-i.reference[h],C=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let E=C?C[x]:0;(!E||!await(o.isElement==null?void 0:o.isElement(C)))&&(E=a.floating[x]||i.floating[m]);const _=k/2-S/2,A=E/2-g[m]/2-1,T=ti(d[v],A),z=ti(d[w],A),I=T,q=E-g[m]-z,D=E/2-g[m]/2+_,Q=Og(I,D,q),F=!l.arrow&&el(s)!=null&&D!==Q&&i.reference[m]/2-(D<I?T:z)-g[m]/2<0,J=F?D<I?D-I:D-q:0;return{[h]:f[h]+J,data:{[h]:Q,centerOffset:D-Q-J,...F&&{alignmentOffset:J}},reset:F}}}),q2=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:f,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:g=!0,...y}=Kr(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const v=qr(s),w=mr(a),x=qr(a)===a,k=await(l.isRTL==null?void 0:l.isRTL(c.floating)),S=f||(x||!g?[Jd(a)]:F2(a)),C=m!=="none";!f&&C&&S.push(...V2(a,g,m,k));const E=[a,...S],_=await xc(e,y),A=[];let T=((r=i.flip)==null?void 0:r.overflows)||[];if(u&&A.push(_[v]),d){const D=$2(s,o,k);A.push(_[D[0]],_[D[1]])}if(T=[...T,{placement:s,overflows:A}],!A.every(D=>D<=0)){var z,I;const D=(((z=i.flip)==null?void 0:z.index)||0)+1,Q=E[D];if(Q&&(!(d==="alignment"?w!==mr(Q):!1)||T.every(N=>N.overflows[0]>0&&mr(N.placement)===w)))return{data:{index:D,overflows:T},reset:{placement:Q}};let F=(I=T.filter(J=>J.overflows[0]<=0).sort((J,N)=>J.overflows[1]-N.overflows[1])[0])==null?void 0:I.placement;if(!F)switch(h){case"bestFit":{var q;const J=(q=T.filter(N=>{if(C){const P=mr(N.placement);return P===w||P==="y"}return!0}).map(N=>[N.placement,N.overflows.filter(P=>P>0).reduce((P,B)=>P+B,0)]).sort((N,P)=>N[1]-P[1])[0])==null?void 0:q[0];J&&(F=J);break}case"initialPlacement":F=a;break}if(s!==F)return{reset:{placement:F}}}return{}}}};function Ix(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Dx(t){return j2.some(e=>t[e]>=0)}const G2=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Kr(t,e);switch(r){case"referenceHidden":{const i=await xc(e,{...s,elementContext:"reference"}),o=Ix(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Dx(o)}}}case"escaped":{const i=await xc(e,{...s,altBoundary:!0}),o=Ix(i,n.floating);return{data:{escapedOffsets:o,escaped:Dx(o)}}}default:return{}}}}},OC=new Set(["left","top"]);async function J2(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=qr(n),a=el(n),l=mr(n)==="y",c=OC.has(o)?-1:1,u=i&&l?-1:1,d=Kr(e,t);let{mainAxis:f,crossAxis:h,alignmentAxis:m}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&typeof m=="number"&&(h=a==="end"?m*-1:m),l?{x:h*u,y:f*c}:{x:f*c,y:h*u}}const Q2=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await J2(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},Y2=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:y=>{let{x:v,y:w}=y;return{x:v,y:w}}},...l}=Kr(t,e),c={x:n,y:r},u=await xc(e,l),d=mr(qr(s)),f=Uv(d);let h=c[f],m=c[d];if(i){const y=f==="y"?"top":"left",v=f==="y"?"bottom":"right",w=h+u[y],x=h-u[v];h=Og(w,h,x)}if(o){const y=d==="y"?"top":"left",v=d==="y"?"bottom":"right",w=m+u[y],x=m-u[v];m=Og(w,m,x)}const g=a.fn({...e,[f]:h,[d]:m});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[f]:i,[d]:o}}}}}},Z2=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Kr(t,e),u={x:n,y:r},d=mr(s),f=Uv(d);let h=u[f],m=u[d];const g=Kr(a,e),y=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const x=f==="y"?"height":"width",k=i.reference[f]-i.floating[x]+y.mainAxis,S=i.reference[f]+i.reference[x]-y.mainAxis;h<k?h=k:h>S&&(h=S)}if(c){var v,w;const x=f==="y"?"width":"height",k=OC.has(qr(s)),S=i.reference[d]-i.floating[x]+(k&&((v=o.offset)==null?void 0:v[d])||0)+(k?0:y.crossAxis),C=i.reference[d]+i.reference[x]+(k?0:((w=o.offset)==null?void 0:w[d])||0)-(k?y.crossAxis:0);m<S?m=S:m>C&&(m=C)}return{[f]:h,[d]:m}}}},X2=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...c}=Kr(t,e),u=await xc(e,c),d=qr(s),f=el(s),h=mr(s)==="y",{width:m,height:g}=i.floating;let y,v;d==="top"||d==="bottom"?(y=d,v=f===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(v=d,y=f==="end"?"top":"bottom");const w=g-u.top-u.bottom,x=m-u.left-u.right,k=ti(g-u[y],w),S=ti(m-u[v],x),C=!e.middlewareData.shift;let E=k,_=S;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(_=x),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(E=w),C&&!f){const T=an(u.left,0),z=an(u.right,0),I=an(u.top,0),q=an(u.bottom,0);h?_=m-2*(T!==0||z!==0?T+z:an(u.left,u.right)):E=g-2*(I!==0||q!==0?I+q:an(u.top,u.bottom))}await l({...e,availableWidth:_,availableHeight:E});const A=await o.getDimensions(a.floating);return m!==A.width||g!==A.height?{reset:{rects:!0}}:{}}}};function bh(){return typeof window<"u"}function tl(t){return PC(t)?(t.nodeName||"").toLowerCase():"#document"}function dn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Er(t){var e;return(e=(PC(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function PC(t){return bh()?t instanceof Node||t instanceof dn(t).Node:!1}function tr(t){return bh()?t instanceof Element||t instanceof dn(t).Element:!1}function xr(t){return bh()?t instanceof HTMLElement||t instanceof dn(t).HTMLElement:!1}function Lx(t){return!bh()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof dn(t).ShadowRoot}const eD=new Set(["inline","contents"]);function nu(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=nr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!eD.has(s)}const tD=new Set(["table","td","th"]);function nD(t){return tD.has(tl(t))}const rD=[":popover-open",":modal"];function kh(t){return rD.some(e=>{try{return t.matches(e)}catch{return!1}})}const sD=["transform","translate","scale","rotate","perspective"],iD=["transform","translate","scale","rotate","perspective","filter"],oD=["paint","layout","strict","content"];function Wv(t){const e=Kv(),n=tr(t)?nr(t):t;return sD.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||iD.some(r=>(n.willChange||"").includes(r))||oD.some(r=>(n.contain||"").includes(r))}function aD(t){let e=ni(t);for(;xr(e)&&!Ia(e);){if(Wv(e))return e;if(kh(e))return null;e=ni(e)}return null}function Kv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const lD=new Set(["html","body","#document"]);function Ia(t){return lD.has(tl(t))}function nr(t){return dn(t).getComputedStyle(t)}function Sh(t){return tr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ni(t){if(tl(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Lx(t)&&t.host||Er(t);return Lx(e)?e.host:e}function RC(t){const e=ni(t);return Ia(e)?t.ownerDocument?t.ownerDocument.body:t.body:xr(e)&&nu(e)?e:RC(e)}function bc(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=RC(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=dn(s);if(i){const a=Rg(o);return e.concat(o,o.visualViewport||[],nu(s)?s:[],a&&n?bc(a):[])}return e.concat(s,bc(s,[],n))}function Rg(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function MC(t){const e=nr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=xr(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=Gd(n)!==i||Gd(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function qv(t){return tr(t)?t:t.contextElement}function ca(t){const e=qv(t);if(!xr(e))return vr(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=MC(e);let o=(i?Gd(n.width):n.width)/r,a=(i?Gd(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const cD=vr(0);function jC(t){const e=dn(t);return!Kv()||!e.visualViewport?cD:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function uD(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==dn(t)?!1:e}function to(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=qv(t);let o=vr(1);e&&(r?tr(r)&&(o=ca(r)):o=ca(t));const a=uD(i,n,r)?jC(i):vr(0);let l=(s.left+a.x)/o.x,c=(s.top+a.y)/o.y,u=s.width/o.x,d=s.height/o.y;if(i){const f=dn(i),h=r&&tr(r)?dn(r):r;let m=f,g=Rg(m);for(;g&&r&&h!==m;){const y=ca(g),v=g.getBoundingClientRect(),w=nr(g),x=v.left+(g.clientLeft+parseFloat(w.paddingLeft))*y.x,k=v.top+(g.clientTop+parseFloat(w.paddingTop))*y.y;l*=y.x,c*=y.y,u*=y.x,d*=y.y,l+=x,c+=k,m=dn(g),g=Rg(m)}}return Qd({width:u,height:d,x:l,y:c})}function Gv(t,e){const n=Sh(t).scrollLeft;return e?e.left+n:to(Er(t)).left+n}function IC(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:Gv(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function dD(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=Er(r),a=e?kh(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},c=vr(1);const u=vr(0),d=xr(r);if((d||!d&&!i)&&((tl(r)!=="body"||nu(o))&&(l=Sh(r)),xr(r))){const h=to(r);c=ca(r),u.x=h.x+r.clientLeft,u.y=h.y+r.clientTop}const f=o&&!d&&!i?IC(o,l,!0):vr(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+f.x,y:n.y*c.y-l.scrollTop*c.y+u.y+f.y}}function fD(t){return Array.from(t.getClientRects())}function hD(t){const e=Er(t),n=Sh(t),r=t.ownerDocument.body,s=an(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=an(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Gv(t);const a=-n.scrollTop;return nr(r).direction==="rtl"&&(o+=an(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function pD(t,e){const n=dn(t),r=Er(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const c=Kv();(!c||c&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}const mD=new Set(["absolute","fixed"]);function gD(t,e){const n=to(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=xr(t)?ca(t):vr(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,c=r*i.y;return{width:o,height:a,x:l,y:c}}function $x(t,e,n){let r;if(e==="viewport")r=pD(t,n);else if(e==="document")r=hD(Er(t));else if(tr(e))r=gD(e,n);else{const s=jC(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Qd(r)}function DC(t,e){const n=ni(t);return n===e||!tr(n)||Ia(n)?!1:nr(n).position==="fixed"||DC(n,e)}function yD(t,e){const n=e.get(t);if(n)return n;let r=bc(t,[],!1).filter(a=>tr(a)&&tl(a)!=="body"),s=null;const i=nr(t).position==="fixed";let o=i?ni(t):t;for(;tr(o)&&!Ia(o);){const a=nr(o),l=Wv(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&mD.has(s.position)||nu(o)&&!l&&DC(t,o))?r=r.filter(u=>u!==o):s=a,o=ni(o)}return e.set(t,r),r}function vD(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?kh(e)?[]:yD(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,u)=>{const d=$x(e,u,s);return c.top=an(d.top,c.top),c.right=ti(d.right,c.right),c.bottom=ti(d.bottom,c.bottom),c.left=an(d.left,c.left),c},$x(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function wD(t){const{width:e,height:n}=MC(t);return{width:e,height:n}}function xD(t,e,n){const r=xr(e),s=Er(e),i=n==="fixed",o=to(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=vr(0);function c(){l.x=Gv(s)}if(r||!r&&!i)if((tl(e)!=="body"||nu(s))&&(a=Sh(e)),r){const h=to(e,!0,i,e);l.x=h.x+e.clientLeft,l.y=h.y+e.clientTop}else s&&c();i&&!r&&s&&c();const u=s&&!r&&!i?IC(s,a):vr(0),d=o.left+a.scrollLeft-l.x-u.x,f=o.top+a.scrollTop-l.y-u.y;return{x:d,y:f,width:o.width,height:o.height}}function Lp(t){return nr(t).position==="static"}function Fx(t,e){if(!xr(t)||nr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Er(t)===n&&(n=n.ownerDocument.body),n}function LC(t,e){const n=dn(t);if(kh(t))return n;if(!xr(t)){let s=ni(t);for(;s&&!Ia(s);){if(tr(s)&&!Lp(s))return s;s=ni(s)}return n}let r=Fx(t,e);for(;r&&nD(r)&&Lp(r);)r=Fx(r,e);return r&&Ia(r)&&Lp(r)&&!Wv(r)?n:r||aD(t)||n}const bD=async function(t){const e=this.getOffsetParent||LC,n=this.getDimensions,r=await n(t.floating);return{reference:xD(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function kD(t){return nr(t).direction==="rtl"}const SD={convertOffsetParentRelativeRectToViewportRelativeRect:dD,getDocumentElement:Er,getClippingRect:vD,getOffsetParent:LC,getElementRects:bD,getClientRects:fD,getDimensions:wD,getScale:ca,isElement:tr,isRTL:kD};function $C(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function ED(t,e){let n=null,r;const s=Er(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const c=t.getBoundingClientRect(),{left:u,top:d,width:f,height:h}=c;if(a||e(),!f||!h)return;const m=ju(d),g=ju(s.clientWidth-(u+f)),y=ju(s.clientHeight-(d+h)),v=ju(u),x={rootMargin:-m+"px "+-g+"px "+-y+"px "+-v+"px",threshold:an(0,ti(1,l))||1};let k=!0;function S(C){const E=C[0].intersectionRatio;if(E!==l){if(!k)return o();E?o(!1,E):r=setTimeout(()=>{o(!1,1e-7)},1e3)}E===1&&!$C(c,t.getBoundingClientRect())&&o(),k=!1}try{n=new IntersectionObserver(S,{...x,root:s.ownerDocument})}catch{n=new IntersectionObserver(S,x)}n.observe(t)}return o(!0),i}function CD(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=qv(t),u=s||i?[...c?bc(c):[],...bc(e)]:[];u.forEach(v=>{s&&v.addEventListener("scroll",n,{passive:!0}),i&&v.addEventListener("resize",n)});const d=c&&a?ED(c,n):null;let f=-1,h=null;o&&(h=new ResizeObserver(v=>{let[w]=v;w&&w.target===c&&h&&(h.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var x;(x=h)==null||x.observe(e)})),n()}),c&&!l&&h.observe(c),h.observe(e));let m,g=l?to(t):null;l&&y();function y(){const v=to(t);g&&!$C(g,v)&&n(),g=v,m=requestAnimationFrame(y)}return n(),()=>{var v;u.forEach(w=>{s&&w.removeEventListener("scroll",n),i&&w.removeEventListener("resize",n)}),d==null||d(),(v=h)==null||v.disconnect(),h=null,l&&cancelAnimationFrame(m)}}const _D=Q2,TD=Y2,ND=q2,AD=X2,OD=G2,zx=K2,PD=Z2,RD=(t,e,n)=>{const r=new Map,s={platform:SD,...n},i={...s.platform,_c:r};return W2(t,e,{...s,platform:i})};var MD=typeof document<"u",jD=function(){},gd=MD?b.useLayoutEffect:jD;function Yd(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Yd(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!Yd(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function FC(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Bx(t,e){const n=FC(t);return Math.round(e*n)/n}function $p(t){const e=b.useRef(t);return gd(()=>{e.current=t}),e}function ID(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[u,d]=b.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[f,h]=b.useState(r);Yd(f,r)||h(r);const[m,g]=b.useState(null),[y,v]=b.useState(null),w=b.useCallback(N=>{N!==C.current&&(C.current=N,g(N))},[]),x=b.useCallback(N=>{N!==E.current&&(E.current=N,v(N))},[]),k=i||m,S=o||y,C=b.useRef(null),E=b.useRef(null),_=b.useRef(u),A=l!=null,T=$p(l),z=$p(s),I=$p(c),q=b.useCallback(()=>{if(!C.current||!E.current)return;const N={placement:e,strategy:n,middleware:f};z.current&&(N.platform=z.current),RD(C.current,E.current,N).then(P=>{const B={...P,isPositioned:I.current!==!1};D.current&&!Yd(_.current,B)&&(_.current=B,mo.flushSync(()=>{d(B)}))})},[f,e,n,z,I]);gd(()=>{c===!1&&_.current.isPositioned&&(_.current.isPositioned=!1,d(N=>({...N,isPositioned:!1})))},[c]);const D=b.useRef(!1);gd(()=>(D.current=!0,()=>{D.current=!1}),[]),gd(()=>{if(k&&(C.current=k),S&&(E.current=S),k&&S){if(T.current)return T.current(k,S,q);q()}},[k,S,q,T,A]);const Q=b.useMemo(()=>({reference:C,floating:E,setReference:w,setFloating:x}),[w,x]),F=b.useMemo(()=>({reference:k,floating:S}),[k,S]),J=b.useMemo(()=>{const N={position:n,left:0,top:0};if(!F.floating)return N;const P=Bx(F.floating,u.x),B=Bx(F.floating,u.y);return a?{...N,transform:"translate("+P+"px, "+B+"px)",...FC(F.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:P,top:B}},[n,a,F.floating,u.x,u.y]);return b.useMemo(()=>({...u,update:q,refs:Q,elements:F,floatingStyles:J}),[u,q,Q,F,J])}const DD=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?zx({element:r.current,padding:s}).fn(n):{}:r?zx({element:r,padding:s}).fn(n):{}}}},LD=(t,e)=>({..._D(t),options:[t,e]}),$D=(t,e)=>({...TD(t),options:[t,e]}),FD=(t,e)=>({...PD(t),options:[t,e]}),zD=(t,e)=>({...ND(t),options:[t,e]}),BD=(t,e)=>({...AD(t),options:[t,e]}),UD=(t,e)=>({...OD(t),options:[t,e]}),VD=(t,e)=>({...DD(t),options:[t,e]});var HD="Arrow",zC=b.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return p.jsx(ge.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:p.jsx("polygon",{points:"0,0 30,0 15,10"})})});zC.displayName=HD;var WD=zC;function KD(t){const[e,n]=b.useState(void 0);return Tt(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Jv="Popper",[BC,Eh]=ui(Jv),[qD,UC]=BC(Jv),VC=t=>{const{__scopePopper:e,children:n}=t,[r,s]=b.useState(null);return p.jsx(qD,{scope:e,anchor:r,onAnchorChange:s,children:n})};VC.displayName=Jv;var HC="PopperAnchor",WC=b.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=UC(HC,n),o=b.useRef(null),a=Le(e,o);return b.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:p.jsx(ge.div,{...s,ref:a})});WC.displayName=HC;var Qv="PopperContent",[GD,JD]=BC(Qv),KC=b.forwardRef((t,e)=>{var U,Oe,Qe,Ne,be,Ce;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:d="partial",hideWhenDetached:f=!1,updatePositionStrategy:h="optimized",onPlaced:m,...g}=t,y=UC(Qv,n),[v,w]=b.useState(null),x=Le(e,Nt=>w(Nt)),[k,S]=b.useState(null),C=KD(k),E=(C==null?void 0:C.width)??0,_=(C==null?void 0:C.height)??0,A=r+(i!=="center"?"-"+i:""),T=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},z=Array.isArray(c)?c:[c],I=z.length>0,q={padding:T,boundary:z.filter(YD),altBoundary:I},{refs:D,floatingStyles:Q,placement:F,isPositioned:J,middlewareData:N}=ID({strategy:"fixed",placement:A,whileElementsMounted:(...Nt)=>CD(...Nt,{animationFrame:h==="always"}),elements:{reference:y.anchor},middleware:[LD({mainAxis:s+_,alignmentAxis:o}),l&&$D({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?FD():void 0,...q}),l&&zD({...q}),BD({...q,apply:({elements:Nt,rects:gn,availableWidth:yi,availableHeight:Xr})=>{const{width:vi,height:ll}=gn.reference,bo=Nt.floating.style;bo.setProperty("--radix-popper-available-width",`${yi}px`),bo.setProperty("--radix-popper-available-height",`${Xr}px`),bo.setProperty("--radix-popper-anchor-width",`${vi}px`),bo.setProperty("--radix-popper-anchor-height",`${ll}px`)}}),k&&VD({element:k,padding:a}),ZD({arrowWidth:E,arrowHeight:_}),f&&UD({strategy:"referenceHidden",...q})]}),[P,B]=JC(F),te=Mn(m);Tt(()=>{J&&(te==null||te())},[J,te]);const Y=(U=N.arrow)==null?void 0:U.x,ue=(Oe=N.arrow)==null?void 0:Oe.y,ie=((Qe=N.arrow)==null?void 0:Qe.centerOffset)!==0,[$e,Je]=b.useState();return Tt(()=>{v&&Je(window.getComputedStyle(v).zIndex)},[v]),p.jsx("div",{ref:D.setFloating,"data-radix-popper-content-wrapper":"",style:{...Q,transform:J?Q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:$e,"--radix-popper-transform-origin":[(Ne=N.transformOrigin)==null?void 0:Ne.x,(be=N.transformOrigin)==null?void 0:be.y].join(" "),...((Ce=N.hide)==null?void 0:Ce.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:p.jsx(GD,{scope:n,placedSide:P,onArrowChange:S,arrowX:Y,arrowY:ue,shouldHideArrow:ie,children:p.jsx(ge.div,{"data-side":P,"data-align":B,...g,ref:x,style:{...g.style,animation:J?void 0:"none"}})})})});KC.displayName=Qv;var qC="PopperArrow",QD={top:"bottom",right:"left",bottom:"top",left:"right"},GC=b.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=JD(qC,r),o=QD[i.placedSide];return p.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:p.jsx(WD,{...s,ref:n,style:{...s.style,display:"block"}})})});GC.displayName=qC;function YD(t){return t!==null}var ZD=t=>({name:"transformOrigin",options:t,fn(e){var y,v,w;const{placement:n,rects:r,middlewareData:s}=e,o=((y=s.arrow)==null?void 0:y.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,u]=JC(n),d={start:"0%",center:"50%",end:"100%"}[u],f=(((v=s.arrow)==null?void 0:v.x)??0)+a/2,h=(((w=s.arrow)==null?void 0:w.y)??0)+l/2;let m="",g="";return c==="bottom"?(m=o?d:`${f}px`,g=`${-l}px`):c==="top"?(m=o?d:`${f}px`,g=`${r.floating.height+l}px`):c==="right"?(m=`${-l}px`,g=o?d:`${h}px`):c==="left"&&(m=`${r.floating.width+l}px`,g=o?d:`${h}px`),{data:{x:m,y:g}}}});function JC(t){const[e,n="center"]=t.split("-");return[e,n]}var XD=VC,QC=WC,YC=KC,ZC=GC,[Ch,R9]=ui("Tooltip",[Eh]),Yv=Eh(),XC="TooltipProvider",eL=700,Ux="tooltip.open",[tL,e_]=Ch(XC),t_=t=>{const{__scopeTooltip:e,delayDuration:n=eL,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,o=b.useRef(!0),a=b.useRef(!1),l=b.useRef(0);return b.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),p.jsx(tL,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:b.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:b.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:b.useCallback(c=>{a.current=c},[]),disableHoverableContent:s,children:i})};t_.displayName=XC;var n_="Tooltip",[M9,_h]=Ch(n_),Mg="TooltipTrigger",nL=b.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=_h(Mg,n),i=e_(Mg,n),o=Yv(n),a=b.useRef(null),l=Le(e,a,s.onTriggerChange),c=b.useRef(!1),u=b.useRef(!1),d=b.useCallback(()=>c.current=!1,[]);return b.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),p.jsx(QC,{asChild:!0,...o,children:p.jsx(ge.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:ee(t.onPointerMove,f=>{f.pointerType!=="touch"&&!u.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),u.current=!0)}),onPointerLeave:ee(t.onPointerLeave,()=>{s.onTriggerLeave(),u.current=!1}),onPointerDown:ee(t.onPointerDown,()=>{s.open&&s.onClose(),c.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:ee(t.onFocus,()=>{c.current||s.onOpen()}),onBlur:ee(t.onBlur,s.onClose),onClick:ee(t.onClick,s.onClose)})})});nL.displayName=Mg;var rL="TooltipPortal",[j9,sL]=Ch(rL,{forceMount:void 0}),Da="TooltipContent",r_=b.forwardRef((t,e)=>{const n=sL(Da,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=_h(Da,t.__scopeTooltip);return p.jsx(go,{present:r||o.open,children:o.disableHoverableContent?p.jsx(s_,{side:s,...i,ref:e}):p.jsx(iL,{side:s,...i,ref:e})})}),iL=b.forwardRef((t,e)=>{const n=_h(Da,t.__scopeTooltip),r=e_(Da,t.__scopeTooltip),s=b.useRef(null),i=Le(e,s),[o,a]=b.useState(null),{trigger:l,onClose:c}=n,u=s.current,{onPointerInTransitChange:d}=r,f=b.useCallback(()=>{a(null),d(!1)},[d]),h=b.useCallback((m,g)=>{const y=m.currentTarget,v={x:m.clientX,y:m.clientY},w=uL(v,y.getBoundingClientRect()),x=dL(v,w),k=fL(g.getBoundingClientRect()),S=pL([...x,...k]);a(S),d(!0)},[d]);return b.useEffect(()=>()=>f(),[f]),b.useEffect(()=>{if(l&&u){const m=y=>h(y,u),g=y=>h(y,l);return l.addEventListener("pointerleave",m),u.addEventListener("pointerleave",g),()=>{l.removeEventListener("pointerleave",m),u.removeEventListener("pointerleave",g)}}},[l,u,h,f]),b.useEffect(()=>{if(o){const m=g=>{const y=g.target,v={x:g.clientX,y:g.clientY},w=(l==null?void 0:l.contains(y))||(u==null?void 0:u.contains(y)),x=!hL(v,o);w?f():x&&(f(),c())};return document.addEventListener("pointermove",m),()=>document.removeEventListener("pointermove",m)}},[l,u,o,c,f]),p.jsx(s_,{...t,ref:i})}),[oL,aL]=Ch(n_,{isInside:!1}),lL=ZM("TooltipContent"),s_=b.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,l=_h(Da,n),c=Yv(n),{onClose:u}=l;return b.useEffect(()=>(document.addEventListener(Ux,u),()=>document.removeEventListener(Ux,u)),[u]),b.useEffect(()=>{if(l.trigger){const d=f=>{const h=f.target;h!=null&&h.contains(l.trigger)&&u()};return window.addEventListener("scroll",d,{capture:!0}),()=>window.removeEventListener("scroll",d,{capture:!0})}},[l.trigger,u]),p.jsx(eu,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:d=>d.preventDefault(),onDismiss:u,children:p.jsxs(YC,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[p.jsx(lL,{children:r}),p.jsx(oL,{scope:n,isInside:!0,children:p.jsx(xj,{id:l.contentId,role:"tooltip",children:s||r})})]})})});r_.displayName=Da;var i_="TooltipArrow",cL=b.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Yv(n);return aL(i_,n).isInside?null:p.jsx(ZC,{...s,...r,ref:e})});cL.displayName=i_;function uL(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function dL(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function fL(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function hL(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i],l=e[o],c=a.x,u=a.y,d=l.x,f=l.y;u>r!=f>r&&n<(d-c)*(r-u)/(f-u)+c&&(s=!s)}return s}function pL(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),mL(e)}function mL(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var gL=t_,o_=r_;const yL=gL,vL=b.forwardRef(({className:t,sideOffset:e=4,...n},r)=>p.jsx(o_,{ref:r,sideOffset:e,className:ke("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));vL.displayName=o_.displayName;var Th=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Nh=typeof window>"u"||"Deno"in globalThis;function Vn(){}function wL(t,e){return typeof t=="function"?t(e):t}function xL(t){return typeof t=="number"&&t>=0&&t!==1/0}function bL(t,e){return Math.max(t+(e||0)-Date.now(),0)}function jg(t,e){return typeof t=="function"?t(e):t}function kL(t,e){return typeof t=="function"?t(e):t}function Vx(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==Zv(o,e.options))return!1}else if(!Sc(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function Hx(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(kc(e.options.mutationKey)!==kc(i))return!1}else if(!Sc(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function Zv(t,e){return((e==null?void 0:e.queryKeyHashFn)||kc)(t)}function kc(t){return JSON.stringify(t,(e,n)=>Ig(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Sc(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Sc(t[n],e[n])):!1}function a_(t,e){if(t===e)return t;const n=Wx(t)&&Wx(e);if(n||Ig(t)&&Ig(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{},l=new Set(r);let c=0;for(let u=0;u<o;u++){const d=n?u:i[u];(!n&&l.has(d)||n)&&t[d]===void 0&&e[d]===void 0?(a[d]=void 0,c++):(a[d]=a_(t[d],e[d]),a[d]===t[d]&&t[d]!==void 0&&c++)}return s===o&&c===s?t:a}return e}function Wx(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Ig(t){if(!Kx(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!Kx(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Kx(t){return Object.prototype.toString.call(t)==="[object Object]"}function SL(t){return new Promise(e=>{setTimeout(e,t)})}function EL(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?a_(t,e):e}function CL(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function _L(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var Xv=Symbol();function l_(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Xv?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Li,Cs,ga,mk,TL=(mk=class extends Th{constructor(){super();_e(this,Li);_e(this,Cs);_e(this,ga);ae(this,ga,e=>{if(!Nh&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){O(this,Cs)||this.setEventListener(O(this,ga))}onUnsubscribe(){var e;this.hasListeners()||((e=O(this,Cs))==null||e.call(this),ae(this,Cs,void 0))}setEventListener(e){var n;ae(this,ga,e),(n=O(this,Cs))==null||n.call(this),ae(this,Cs,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){O(this,Li)!==e&&(ae(this,Li,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof O(this,Li)=="boolean"?O(this,Li):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Li=new WeakMap,Cs=new WeakMap,ga=new WeakMap,mk),c_=new TL,ya,_s,va,gk,NL=(gk=class extends Th{constructor(){super();_e(this,ya,!0);_e(this,_s);_e(this,va);ae(this,va,e=>{if(!Nh&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){O(this,_s)||this.setEventListener(O(this,va))}onUnsubscribe(){var e;this.hasListeners()||((e=O(this,_s))==null||e.call(this),ae(this,_s,void 0))}setEventListener(e){var n;ae(this,va,e),(n=O(this,_s))==null||n.call(this),ae(this,_s,e(this.setOnline.bind(this)))}setOnline(e){O(this,ya)!==e&&(ae(this,ya,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return O(this,ya)}},ya=new WeakMap,_s=new WeakMap,va=new WeakMap,gk),Zd=new NL;function AL(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function OL(t){return Math.min(1e3*2**t,3e4)}function u_(t){return(t??"online")==="online"?Zd.isOnline():!0}var d_=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Fp(t){return t instanceof d_}function f_(t){let e=!1,n=0,r=!1,s;const i=AL(),o=g=>{var y;r||(f(new d_(g)),(y=t.abort)==null||y.call(t))},a=()=>{e=!0},l=()=>{e=!1},c=()=>c_.isFocused()&&(t.networkMode==="always"||Zd.isOnline())&&t.canRun(),u=()=>u_(t.networkMode)&&t.canRun(),d=g=>{var y;r||(r=!0,(y=t.onSuccess)==null||y.call(t,g),s==null||s(),i.resolve(g))},f=g=>{var y;r||(r=!0,(y=t.onError)==null||y.call(t,g),s==null||s(),i.reject(g))},h=()=>new Promise(g=>{var y;s=v=>{(r||c())&&g(v)},(y=t.onPause)==null||y.call(t)}).then(()=>{var g;s=void 0,r||(g=t.onContinue)==null||g.call(t)}),m=()=>{if(r)return;let g;const y=n===0?t.initialPromise:void 0;try{g=y??t.fn()}catch(v){g=Promise.reject(v)}Promise.resolve(g).then(d).catch(v=>{var C;if(r)return;const w=t.retry??(Nh?0:3),x=t.retryDelay??OL,k=typeof x=="function"?x(n,v):x,S=w===!0||typeof w=="number"&&n<w||typeof w=="function"&&w(n,v);if(e||!S){f(v);return}n++,(C=t.onFail)==null||C.call(t,n,v),SL(k).then(()=>c()?void 0:h()).then(()=>{e?f(v):m()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:l,canStart:u,start:()=>(u()?m():h().then(m),i)}}var PL=t=>setTimeout(t,0);function RL(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=PL;const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var Ut=RL(),$i,yk,h_=(yk=class{constructor(){_e(this,$i)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),xL(this.gcTime)&&ae(this,$i,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Nh?1/0:5*60*1e3))}clearGcTimeout(){O(this,$i)&&(clearTimeout(O(this,$i)),ae(this,$i,void 0))}},$i=new WeakMap,yk),wa,Fi,xn,zi,Rt,qc,Bi,Hn,Ar,vk,ML=(vk=class extends h_{constructor(e){super();_e(this,Hn);_e(this,wa);_e(this,Fi);_e(this,xn);_e(this,zi);_e(this,Rt);_e(this,qc);_e(this,Bi);ae(this,Bi,!1),ae(this,qc,e.defaultOptions),this.setOptions(e.options),this.observers=[],ae(this,zi,e.client),ae(this,xn,O(this,zi).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,ae(this,wa,IL(this.options)),this.state=e.state??O(this,wa),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=O(this,Rt))==null?void 0:e.promise}setOptions(e){this.options={...O(this,qc),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&O(this,xn).remove(this)}setData(e,n){const r=EL(this.state.data,e,this.options);return At(this,Hn,Ar).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){At(this,Hn,Ar).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,s;const n=(r=O(this,Rt))==null?void 0:r.promise;return(s=O(this,Rt))==null||s.cancel(e),n?n.then(Vn).catch(Vn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(O(this,wa))}isActive(){return this.observers.some(e=>kL(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Xv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>jg(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!bL(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=O(this,Rt))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=O(this,Rt))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),O(this,xn).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(O(this,Rt)&&(O(this,Bi)?O(this,Rt).cancel({revert:!0}):O(this,Rt).cancelRetry()),this.scheduleGc()),O(this,xn).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||At(this,Hn,Ar).call(this,{type:"invalidate"})}fetch(e,n){var c,u,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(O(this,Rt))return O(this,Rt).continueRetry(),O(this,Rt).promise}if(e&&this.setOptions(e),!this.options.queryFn){const f=this.observers.find(h=>h.options.queryFn);f&&this.setOptions(f.options)}const r=new AbortController,s=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(ae(this,Bi,!0),r.signal)})},i=()=>{const f=l_(this.options,n),m=(()=>{const g={client:O(this,zi),queryKey:this.queryKey,meta:this.meta};return s(g),g})();return ae(this,Bi,!1),this.options.persister?this.options.persister(f,m,this):f(m)},a=(()=>{const f={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:O(this,zi),state:this.state,fetchFn:i};return s(f),f})();(c=this.options.behavior)==null||c.onFetch(a,this),ae(this,Fi,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=a.fetchOptions)==null?void 0:u.meta))&&At(this,Hn,Ar).call(this,{type:"fetch",meta:(d=a.fetchOptions)==null?void 0:d.meta});const l=f=>{var h,m,g,y;Fp(f)&&f.silent||At(this,Hn,Ar).call(this,{type:"error",error:f}),Fp(f)||((m=(h=O(this,xn).config).onError)==null||m.call(h,f,this),(y=(g=O(this,xn).config).onSettled)==null||y.call(g,this.state.data,f,this)),this.scheduleGc()};return ae(this,Rt,f_({initialPromise:n==null?void 0:n.initialPromise,fn:a.fetchFn,abort:r.abort.bind(r),onSuccess:f=>{var h,m,g,y;if(f===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(v){l(v);return}(m=(h=O(this,xn).config).onSuccess)==null||m.call(h,f,this),(y=(g=O(this,xn).config).onSettled)==null||y.call(g,f,this.state.error,this),this.scheduleGc()},onError:l,onFail:(f,h)=>{At(this,Hn,Ar).call(this,{type:"failed",failureCount:f,error:h})},onPause:()=>{At(this,Hn,Ar).call(this,{type:"pause"})},onContinue:()=>{At(this,Hn,Ar).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),O(this,Rt).start()}},wa=new WeakMap,Fi=new WeakMap,xn=new WeakMap,zi=new WeakMap,Rt=new WeakMap,qc=new WeakMap,Bi=new WeakMap,Hn=new WeakSet,Ar=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...jL(r.data,this.options),fetchMeta:e.meta??null};case"success":return ae(this,Fi,void 0),{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return Fp(s)&&s.revert&&O(this,Fi)?{...O(this,Fi),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),Ut.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),O(this,xn).notify({query:this,type:"updated",action:e})})},vk);function jL(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:u_(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function IL(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var ur,wk,DL=(wk=class extends Th{constructor(e={}){super();_e(this,ur);this.config=e,ae(this,ur,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??Zv(s,n);let o=this.get(i);return o||(o=new ML({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){O(this,ur).has(e.queryHash)||(O(this,ur).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=O(this,ur).get(e.queryHash);n&&(e.destroy(),n===e&&O(this,ur).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Ut.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return O(this,ur).get(e)}getAll(){return[...O(this,ur).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>Vx(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>Vx(e,r)):n}notify(e){Ut.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Ut.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Ut.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},ur=new WeakMap,wk),dr,zt,Ui,fr,cs,xk,LL=(xk=class extends h_{constructor(e){super();_e(this,fr);_e(this,dr);_e(this,zt);_e(this,Ui);this.mutationId=e.mutationId,ae(this,zt,e.mutationCache),ae(this,dr,[]),this.state=e.state||$L(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){O(this,dr).includes(e)||(O(this,dr).push(e),this.clearGcTimeout(),O(this,zt).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){ae(this,dr,O(this,dr).filter(n=>n!==e)),this.scheduleGc(),O(this,zt).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){O(this,dr).length||(this.state.status==="pending"?this.scheduleGc():O(this,zt).remove(this))}continue(){var e;return((e=O(this,Ui))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,o,a,l,c,u,d,f,h,m,g,y,v,w,x,k,S,C,E,_;const n=()=>{At(this,fr,cs).call(this,{type:"continue"})};ae(this,Ui,f_({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(A,T)=>{At(this,fr,cs).call(this,{type:"failed",failureCount:A,error:T})},onPause:()=>{At(this,fr,cs).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>O(this,zt).canRun(this)}));const r=this.state.status==="pending",s=!O(this,Ui).canStart();try{if(r)n();else{At(this,fr,cs).call(this,{type:"pending",variables:e,isPaused:s}),await((o=(i=O(this,zt).config).onMutate)==null?void 0:o.call(i,e,this));const T=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,e));T!==this.state.context&&At(this,fr,cs).call(this,{type:"pending",context:T,variables:e,isPaused:s})}const A=await O(this,Ui).start();return await((u=(c=O(this,zt).config).onSuccess)==null?void 0:u.call(c,A,e,this.state.context,this)),await((f=(d=this.options).onSuccess)==null?void 0:f.call(d,A,e,this.state.context)),await((m=(h=O(this,zt).config).onSettled)==null?void 0:m.call(h,A,null,this.state.variables,this.state.context,this)),await((y=(g=this.options).onSettled)==null?void 0:y.call(g,A,null,e,this.state.context)),At(this,fr,cs).call(this,{type:"success",data:A}),A}catch(A){try{throw await((w=(v=O(this,zt).config).onError)==null?void 0:w.call(v,A,e,this.state.context,this)),await((k=(x=this.options).onError)==null?void 0:k.call(x,A,e,this.state.context)),await((C=(S=O(this,zt).config).onSettled)==null?void 0:C.call(S,void 0,A,this.state.variables,this.state.context,this)),await((_=(E=this.options).onSettled)==null?void 0:_.call(E,void 0,A,e,this.state.context)),A}finally{At(this,fr,cs).call(this,{type:"error",error:A})}}finally{O(this,zt).runNext(this)}}},dr=new WeakMap,zt=new WeakMap,Ui=new WeakMap,fr=new WeakSet,cs=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Ut.batch(()=>{O(this,dr).forEach(r=>{r.onMutationUpdate(e)}),O(this,zt).notify({mutation:this,type:"updated",action:e})})},xk);function $L(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Dr,Wn,Gc,bk,FL=(bk=class extends Th{constructor(e={}){super();_e(this,Dr);_e(this,Wn);_e(this,Gc);this.config=e,ae(this,Dr,new Set),ae(this,Wn,new Map),ae(this,Gc,0)}build(e,n,r){const s=new LL({mutationCache:this,mutationId:++hu(this,Gc)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){O(this,Dr).add(e);const n=Iu(e);if(typeof n=="string"){const r=O(this,Wn).get(n);r?r.push(e):O(this,Wn).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(O(this,Dr).delete(e)){const n=Iu(e);if(typeof n=="string"){const r=O(this,Wn).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&O(this,Wn).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=Iu(e);if(typeof n=="string"){const r=O(this,Wn).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=Iu(e);if(typeof n=="string"){const s=(r=O(this,Wn).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Ut.batch(()=>{O(this,Dr).forEach(e=>{this.notify({type:"removed",mutation:e})}),O(this,Dr).clear(),O(this,Wn).clear()})}getAll(){return Array.from(O(this,Dr))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>Hx(n,r))}findAll(e={}){return this.getAll().filter(n=>Hx(e,n))}notify(e){Ut.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Ut.batch(()=>Promise.all(e.map(n=>n.continue().catch(Vn))))}},Dr=new WeakMap,Wn=new WeakMap,Gc=new WeakMap,bk);function Iu(t){var e;return(e=t.options.scope)==null?void 0:e.id}function qx(t){return{onFetch:(e,n)=>{var u,d,f,h,m;const r=e.options,s=(f=(d=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:d.fetchMore)==null?void 0:f.direction,i=((h=e.state.data)==null?void 0:h.pages)||[],o=((m=e.state.data)==null?void 0:m.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let g=!1;const y=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},v=l_(e.options,e.fetchOptions),w=async(x,k,S)=>{if(g)return Promise.reject();if(k==null&&x.pages.length)return Promise.resolve(x);const E=(()=>{const z={client:e.client,queryKey:e.queryKey,pageParam:k,direction:S?"backward":"forward",meta:e.options.meta};return y(z),z})(),_=await v(E),{maxPages:A}=e.options,T=S?_L:CL;return{pages:T(x.pages,_,A),pageParams:T(x.pageParams,k,A)}};if(s&&i.length){const x=s==="backward",k=x?zL:Gx,S={pages:i,pageParams:o},C=k(r,S);a=await w(S,C,x)}else{const x=t??i.length;do{const k=l===0?o[0]??r.initialPageParam:Gx(r,a);if(l>0&&k==null)break;a=await w(a,k),l++}while(l<x)}return a};e.options.persister?e.fetchFn=()=>{var g,y;return(y=(g=e.options).persister)==null?void 0:y.call(g,c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function Gx(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function zL(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Ze,Ts,Ns,xa,ba,As,ka,Sa,kk,BL=(kk=class{constructor(t={}){_e(this,Ze);_e(this,Ts);_e(this,Ns);_e(this,xa);_e(this,ba);_e(this,As);_e(this,ka);_e(this,Sa);ae(this,Ze,t.queryCache||new DL),ae(this,Ts,t.mutationCache||new FL),ae(this,Ns,t.defaultOptions||{}),ae(this,xa,new Map),ae(this,ba,new Map),ae(this,As,0)}mount(){hu(this,As)._++,O(this,As)===1&&(ae(this,ka,c_.subscribe(async t=>{t&&(await this.resumePausedMutations(),O(this,Ze).onFocus())})),ae(this,Sa,Zd.subscribe(async t=>{t&&(await this.resumePausedMutations(),O(this,Ze).onOnline())})))}unmount(){var t,e;hu(this,As)._--,O(this,As)===0&&((t=O(this,ka))==null||t.call(this),ae(this,ka,void 0),(e=O(this,Sa))==null||e.call(this),ae(this,Sa,void 0))}isFetching(t){return O(this,Ze).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return O(this,Ts).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=O(this,Ze).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=O(this,Ze).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(jg(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return O(this,Ze).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=O(this,Ze).get(r.queryHash),i=s==null?void 0:s.state.data,o=wL(e,i);if(o!==void 0)return O(this,Ze).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Ut.batch(()=>O(this,Ze).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=O(this,Ze).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=O(this,Ze);Ut.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=O(this,Ze);return Ut.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Ut.batch(()=>O(this,Ze).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(Vn).catch(Vn)}invalidateQueries(t,e={}){return Ut.batch(()=>(O(this,Ze).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Ut.batch(()=>O(this,Ze).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(Vn)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(Vn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=O(this,Ze).build(this,e);return n.isStaleByTime(jg(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Vn).catch(Vn)}fetchInfiniteQuery(t){return t.behavior=qx(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Vn).catch(Vn)}ensureInfiniteQueryData(t){return t.behavior=qx(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Zd.isOnline()?O(this,Ts).resumePausedMutations():Promise.resolve()}getQueryCache(){return O(this,Ze)}getMutationCache(){return O(this,Ts)}getDefaultOptions(){return O(this,Ns)}setDefaultOptions(t){ae(this,Ns,t)}setQueryDefaults(t,e){O(this,xa).set(kc(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...O(this,xa).values()],n={};return e.forEach(r=>{Sc(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){O(this,ba).set(kc(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...O(this,ba).values()],n={};return e.forEach(r=>{Sc(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...O(this,Ns).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Zv(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Xv&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...O(this,Ns).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){O(this,Ze).clear(),O(this,Ts).clear()}},Ze=new WeakMap,Ts=new WeakMap,Ns=new WeakMap,xa=new WeakMap,ba=new WeakMap,As=new WeakMap,ka=new WeakMap,Sa=new WeakMap,kk),UL=b.createContext(void 0),VL=({client:t,children:e})=>(b.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),p.jsx(UL.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ec(){return Ec=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ec.apply(this,arguments)}var Rs;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Rs||(Rs={}));const Jx="popstate";function HL(t){t===void 0&&(t={});function e(s,i){let{pathname:o="/",search:a="",hash:l=""}=yo(s.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),Dg("",{pathname:o,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){let o=s.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=s.location.href,c=l.indexOf("#");a=c===-1?l:l.slice(0,c)}return a+"#"+(typeof i=="string"?i:Xd(i))}function r(s,i){e0(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return KL(e,n,r,t)}function ot(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function e0(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function WL(){return Math.random().toString(36).substr(2,8)}function Qx(t,e){return{usr:t.state,key:t.key,idx:e}}function Dg(t,e,n,r){return n===void 0&&(n=null),Ec({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?yo(e):e,{state:n,key:e&&e.key||r||WL()})}function Xd(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function yo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function KL(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=Rs.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(Ec({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function d(){a=Rs.Pop;let y=u(),v=y==null?null:y-c;c=y,l&&l({action:a,location:g.location,delta:v})}function f(y,v){a=Rs.Push;let w=Dg(g.location,y,v);n&&n(w,y),c=u()+1;let x=Qx(w,c),k=g.createHref(w);try{o.pushState(x,"",k)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(k)}i&&l&&l({action:a,location:g.location,delta:1})}function h(y,v){a=Rs.Replace;let w=Dg(g.location,y,v);n&&n(w,y),c=u();let x=Qx(w,c),k=g.createHref(w);o.replaceState(x,"",k),i&&l&&l({action:a,location:g.location,delta:0})}function m(y){let v=s.location.origin!=="null"?s.location.origin:s.location.href,w=typeof y=="string"?y:Xd(y);return w=w.replace(/ $/,"%20"),ot(v,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,v)}let g={get action(){return a},get location(){return t(s,o)},listen(y){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(Jx,d),l=y,()=>{s.removeEventListener(Jx,d),l=null}},createHref(y){return e(s,y)},createURL:m,encodeLocation(y){let v=m(y);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:f,replace:h,go(y){return o.go(y)}};return g}var Yx;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Yx||(Yx={}));function qL(t,e,n){return n===void 0&&(n="/"),GL(t,e,n,!1)}function GL(t,e,n,r){let s=typeof e=="string"?yo(e):e,i=t0(s.pathname||"/",n);if(i==null)return null;let o=p_(t);JL(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=o$(i);a=s$(o[l],c,r)}return a}function p_(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(ot(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Ks([r,l.relativePath]),u=n.concat(l);i.children&&i.children.length>0&&(ot(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),p_(i.children,e,u,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:n$(c,i.index),routesMeta:u})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of m_(i.path))s(i,o,l)}),e}function m_(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=m_(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function JL(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:r$(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const QL=/^:[\w-]+$/,YL=3,ZL=2,XL=1,e$=10,t$=-2,Zx=t=>t==="*";function n$(t,e){let n=t.split("/"),r=n.length;return n.some(Zx)&&(r+=t$),e&&(r+=ZL),n.filter(s=>!Zx(s)).reduce((s,i)=>s+(QL.test(i)?YL:i===""?XL:e$),r)}function r$(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function s$(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=i==="/"?e:e.slice(i.length)||"/",d=Xx({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),f=l.route;if(!d&&c&&n&&!r[r.length-1].route.index&&(d=Xx({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!d)return null;Object.assign(s,d.params),o.push({params:s,pathname:Ks([i,d.pathname]),pathnameBase:u$(Ks([i,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(i=Ks([i,d.pathnameBase]))}return o}function Xx(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=i$(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,u,d)=>{let{paramName:f,isOptional:h}=u;if(f==="*"){let g=a[d]||"";o=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const m=a[d];return h&&!m?c[f]=void 0:c[f]=(m||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:t}}function i$(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),e0(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function o$(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return e0(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function t0(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function a$(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?yo(t):t;return{pathname:n?n.startsWith("/")?n:l$(n,e):e,search:d$(r),hash:f$(s)}}function l$(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function zp(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function c$(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function n0(t,e){let n=c$(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function r0(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=yo(t):(s=Ec({},t),ot(!s.pathname||!s.pathname.includes("?"),zp("?","pathname","search",s)),ot(!s.pathname||!s.pathname.includes("#"),zp("#","pathname","hash",s)),ot(!s.search||!s.search.includes("#"),zp("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;s.pathname=f.join("/")}a=d>=0?e[d]:"/"}let l=a$(s,a),c=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Ks=t=>t.join("/").replace(/\/\/+/g,"/"),u$=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),d$=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,f$=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function h$(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const g_=["post","put","patch","delete"];new Set(g_);const p$=["get",...g_];new Set(p$);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cc(){return Cc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cc.apply(this,arguments)}const s0=b.createContext(null),m$=b.createContext(null),di=b.createContext(null),Ah=b.createContext(null),Yr=b.createContext({outlet:null,matches:[],isDataRoute:!1}),y_=b.createContext(null);function g$(t,e){let{relative:n}=e===void 0?{}:e;nl()||ot(!1);let{basename:r,navigator:s}=b.useContext(di),{hash:i,pathname:o,search:a}=w_(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Ks([r,o])),s.createHref({pathname:l,search:a,hash:i})}function nl(){return b.useContext(Ah)!=null}function rl(){return nl()||ot(!1),b.useContext(Ah).location}function v_(t){b.useContext(di).static||b.useLayoutEffect(t)}function ru(){let{isDataRoute:t}=b.useContext(Yr);return t?O$():y$()}function y$(){nl()||ot(!1);let t=b.useContext(s0),{basename:e,future:n,navigator:r}=b.useContext(di),{matches:s}=b.useContext(Yr),{pathname:i}=rl(),o=JSON.stringify(n0(s,n.v7_relativeSplatPath)),a=b.useRef(!1);return v_(()=>{a.current=!0}),b.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let d=r0(c,JSON.parse(o),i,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Ks([e,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[e,r,o,i,t])}function v$(){let{matches:t}=b.useContext(Yr),e=t[t.length-1];return e?e.params:{}}function w_(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=b.useContext(di),{matches:s}=b.useContext(Yr),{pathname:i}=rl(),o=JSON.stringify(n0(s,r.v7_relativeSplatPath));return b.useMemo(()=>r0(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function w$(t,e){return x$(t,e)}function x$(t,e,n,r){nl()||ot(!1);let{navigator:s}=b.useContext(di),{matches:i}=b.useContext(Yr),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=rl(),u;if(e){var d;let y=typeof e=="string"?yo(e):e;l==="/"||(d=y.pathname)!=null&&d.startsWith(l)||ot(!1),u=y}else u=c;let f=u.pathname||"/",h=f;if(l!=="/"){let y=l.replace(/^\//,"").split("/");h="/"+f.replace(/^\//,"").split("/").slice(y.length).join("/")}let m=qL(t,{pathname:h}),g=C$(m&&m.map(y=>Object.assign({},y,{params:Object.assign({},a,y.params),pathname:Ks([l,s.encodeLocation?s.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?l:Ks([l,s.encodeLocation?s.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),i,n,r);return e&&g?b.createElement(Ah.Provider,{value:{location:Cc({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Rs.Pop}},g):g}function b$(){let t=A$(),e=h$(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},e),n?b.createElement("pre",{style:s},n):null,null)}const k$=b.createElement(b$,null);class S$ extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?b.createElement(Yr.Provider,{value:this.props.routeContext},b.createElement(y_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function E$(t){let{routeContext:e,match:n,children:r}=t,s=b.useContext(s0);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),b.createElement(Yr.Provider,{value:e},r)}function C$(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let u=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);u>=0||ot(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let d=o[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:f,errors:h}=n,m=d.route.loader&&f[d.route.id]===void 0&&(!h||h[d.route.id]===void 0);if(d.route.lazy||m){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,d,f)=>{let h,m=!1,g=null,y=null;n&&(h=a&&d.route.id?a[d.route.id]:void 0,g=d.route.errorElement||k$,l&&(c<0&&f===0?(m=!0,y=null):c===f&&(m=!0,y=d.route.hydrateFallbackElement||null)));let v=e.concat(o.slice(0,f+1)),w=()=>{let x;return h?x=g:m?x=y:d.route.Component?x=b.createElement(d.route.Component,null):d.route.element?x=d.route.element:x=u,b.createElement(E$,{match:d,routeContext:{outlet:u,matches:v,isDataRoute:n!=null},children:x})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?b.createElement(S$,{location:n.location,revalidation:n.revalidation,component:g,error:h,children:w(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):w()},null)}var x_=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(x_||{}),ef=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(ef||{});function _$(t){let e=b.useContext(s0);return e||ot(!1),e}function T$(t){let e=b.useContext(m$);return e||ot(!1),e}function N$(t){let e=b.useContext(Yr);return e||ot(!1),e}function b_(t){let e=N$(),n=e.matches[e.matches.length-1];return n.route.id||ot(!1),n.route.id}function A$(){var t;let e=b.useContext(y_),n=T$(ef.UseRouteError),r=b_(ef.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function O$(){let{router:t}=_$(x_.UseNavigateStable),e=b_(ef.UseNavigateStable),n=b.useRef(!1);return v_(()=>{n.current=!0}),b.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Cc({fromRouteId:e},i)))},[t,e])}function P$(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function R$(t){let{to:e,replace:n,state:r,relative:s}=t;nl()||ot(!1);let{future:i,static:o}=b.useContext(di),{matches:a}=b.useContext(Yr),{pathname:l}=rl(),c=ru(),u=r0(e,n0(a,i.v7_relativeSplatPath),l,s==="path"),d=JSON.stringify(u);return b.useEffect(()=>c(JSON.parse(d),{replace:n,state:r,relative:s}),[c,d,s,n,r]),null}function us(t){ot(!1)}function M$(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Rs.Pop,navigator:i,static:o=!1,future:a}=t;nl()&&ot(!1);let l=e.replace(/^\/*/,"/"),c=b.useMemo(()=>({basename:l,navigator:i,static:o,future:Cc({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=yo(r));let{pathname:u="/",search:d="",hash:f="",state:h=null,key:m="default"}=r,g=b.useMemo(()=>{let y=t0(u,l);return y==null?null:{location:{pathname:y,search:d,hash:f,state:h,key:m},navigationType:s}},[l,u,d,f,h,m,s]);return g==null?null:b.createElement(di.Provider,{value:c},b.createElement(Ah.Provider,{children:n,value:g}))}function j$(t){let{children:e,location:n}=t;return w$(Lg(e),n)}new Promise(()=>{});function Lg(t,e){e===void 0&&(e=[]);let n=[];return b.Children.forEach(t,(r,s)=>{if(!b.isValidElement(r))return;let i=[...e,s];if(r.type===b.Fragment){n.push.apply(n,Lg(r.props.children,i));return}r.type!==us&&ot(!1),!r.props.index||!r.props.children||ot(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Lg(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $g(){return $g=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$g.apply(this,arguments)}function I$(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function D$(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function L$(t,e){return t.button===0&&(!e||e==="_self")&&!D$(t)}const $$=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],F$="6";try{window.__reactRouterVersion=F$}catch{}const z$="startTransition",eb=Hy[z$];function B$(t){let{basename:e,children:n,future:r,window:s}=t,i=b.useRef();i.current==null&&(i.current=HL({window:s,v5Compat:!0}));let o=i.current,[a,l]=b.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},u=b.useCallback(d=>{c&&eb?eb(()=>l(d)):l(d)},[l,c]);return b.useLayoutEffect(()=>o.listen(u),[o,u]),b.useEffect(()=>P$(r),[r]),b.createElement(M$,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const U$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",V$=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Jn=b.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:c,preventScrollReset:u,viewTransition:d}=e,f=I$(e,$$),{basename:h}=b.useContext(di),m,g=!1;if(typeof c=="string"&&V$.test(c)&&(m=c,U$))try{let x=new URL(window.location.href),k=c.startsWith("//")?new URL(x.protocol+c):new URL(c),S=t0(k.pathname,h);k.origin===x.origin&&S!=null?c=S+k.search+k.hash:g=!0}catch{}let y=g$(c,{relative:s}),v=H$(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:s,viewTransition:d});function w(x){r&&r(x),x.defaultPrevented||v(x)}return b.createElement("a",$g({},f,{href:m||y,onClick:g||i?r:w,ref:n,target:l}))});var tb;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(tb||(tb={}));var nb;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(nb||(nb={}));function H$(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,l=ru(),c=rl(),u=w_(t,{relative:o});return b.useCallback(d=>{if(L$(d,n)){d.preventDefault();let f=r!==void 0?r:Xd(c)===Xd(u);l(t,{replace:f,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[c,l,u,r,s,n,t,i,o,a])}const W$=xh("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),pe=b.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?QM:"button";return p.jsx(o,{className:ke(W$({variant:e,size:n,className:t})),ref:i,...s})});pe.displayName="Button";const i0="/excomag/assets/excomag-logo-BvG4QEUS.png",ua=()=>{const[t,e]=b.useState(!1);return p.jsx("header",{className:"bg-card card-shadow border-b sticky top-0 z-50",children:p.jsxs("div",{className:"container mx-auto px-4 py-4",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("div",{className:"flex items-center space-x-3",children:p.jsx("img",{src:i0,alt:"ExcoMag Africa Logo",className:"h-12 w-auto"})}),p.jsxs("nav",{className:"hidden md:flex items-center justify-center space-x-8 flex-1",children:[p.jsx(Jn,{to:"/",className:"text-foreground hover:text-accent transition-colors",children:"Home"}),p.jsx("a",{href:"/#articles",className:"text-foreground hover:text-accent transition-colors",children:"Articles"}),p.jsx(Jn,{to:"/about",className:"text-foreground hover:text-accent transition-colors",children:"About"}),p.jsx(Jn,{to:"/contact",className:"text-foreground hover:text-accent transition-colors",children:"Contact"})]}),p.jsx(pe,{variant:"ghost",size:"icon",className:"md:hidden",onClick:()=>e(!t),children:p.jsx(iI,{className:"h-6 w-6"})})]}),t&&p.jsx("nav",{className:"md:hidden mt-4 pb-4 border-t pt-4",children:p.jsxs("div",{className:"flex flex-col space-y-4",children:[p.jsx(Jn,{to:"/",className:"text-foreground hover:text-accent",children:"Home"}),p.jsx("a",{href:"/#articles",className:"text-foreground hover:text-accent",children:"Articles"}),p.jsx(Jn,{to:"/about",className:"text-foreground hover:text-accent",children:"About"}),p.jsx(Jn,{to:"/contact",className:"text-foreground hover:text-accent",children:"Contact"})]})})]})})},K$="/excomag/assets/hero-cover-BOPIIN8I.png",q$=()=>p.jsxs("section",{className:"hero-gradient text-primary-foreground py-20 relative overflow-hidden",children:[p.jsx("div",{className:"absolute inset-0 bg-black/40"}),p.jsx("div",{className:"absolute inset-0 bg-cover bg-center md:bg-center bg-no-repeat",style:{backgroundImage:`url(${K$})`,backgroundPosition:"center 20%"}}),p.jsx("div",{className:"container mx-auto px-4 relative z-10",children:p.jsx("div",{className:"max-w-2xl mx-auto text-center",children:p.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center mt-8",children:[p.jsxs(pe,{size:"lg",className:"bg-secondary hover:bg-secondary/90 text-secondary-foreground px-6 py-4 text-base elegant-shadow",children:[p.jsx(Vj,{className:"mr-2 h-4 w-4"}),"Read Latest Updates",p.jsx(zv,{className:"ml-2 h-4 w-4"})]}),p.jsx(pe,{variant:"outline",size:"lg",className:"border-white/20 text-white hover:bg-white/10 px-6 py-4 text-base",children:"Explore More Articles"})]})})})]}),Gr=b.forwardRef(({className:t,...e},n)=>p.jsx("div",{ref:n,className:ke("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Gr.displayName="Card";const no=b.forwardRef(({className:t,...e},n)=>p.jsx("div",{ref:n,className:ke("flex flex-col space-y-1.5 p-6",t),...e}));no.displayName="CardHeader";const La=b.forwardRef(({className:t,...e},n)=>p.jsx("h3",{ref:n,className:ke("text-2xl font-semibold leading-none tracking-tight",t),...e}));La.displayName="CardTitle";const tf=b.forwardRef(({className:t,...e},n)=>p.jsx("p",{ref:n,className:ke("text-sm text-muted-foreground",t),...e}));tf.displayName="CardDescription";const Jr=b.forwardRef(({className:t,...e},n)=>p.jsx("div",{ref:n,className:ke("p-6 pt-0",t),...e}));Jr.displayName="CardContent";const G$=b.forwardRef(({className:t,...e},n)=>p.jsx("div",{ref:n,className:ke("flex items-center p-6 pt-0",t),...e}));G$.displayName="CardFooter";const J$=xh("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function _c({className:t,variant:e,...n}){return p.jsx("div",{className:ke(J$({variant:e}),t),...n})}const Q$=({article:t,onRead:e})=>p.jsxs(Gr,{className:"card-shadow hover:shadow-lg transition-all duration-300 group cursor-pointer overflow-hidden",onClick:()=>e(t.id),children:[t.imageUrl&&p.jsx("div",{className:"aspect-video overflow-hidden",children:p.jsx("img",{src:t.imageUrl,alt:t.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"})}),p.jsxs(no,{className:"pb-3",children:[p.jsxs("div",{className:"flex items-center justify-between mb-3",children:[p.jsx(_c,{variant:"secondary",className:"bg-accent text-accent-foreground",children:t.category}),p.jsx("span",{className:"text-sm text-muted-foreground",children:t.readTime})]}),p.jsx("h3",{className:"text-xl font-bold leading-tight group-hover:text-accent transition-colors",children:t.title})]}),p.jsxs(Jr,{className:"pt-0",children:[p.jsx("p",{className:"text-muted-foreground mb-4 line-clamp-3",children:t.excerpt}),p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center space-x-4 text-sm text-muted-foreground",children:[p.jsxs("div",{className:"flex items-center space-x-1",children:[p.jsx(ja,{className:"h-4 w-4"}),p.jsx("span",{children:t.author})]}),p.jsxs("div",{className:"flex items-center space-x-1",children:[p.jsx(hC,{className:"h-4 w-4"}),p.jsx("span",{children:t.date})]})]}),p.jsxs(pe,{variant:"ghost",size:"sm",onClick:n=>{n.stopPropagation(),e(t.id)},className:"text-accent hover:text-accent/80",children:["Read More",p.jsx(zv,{className:"ml-1 h-4 w-4"})]})]})]})]}),Y$=({articles:t,onReadArticle:e})=>{const n=t.slice(0,6);return p.jsx("section",{id:"articles",className:"py-16 bg-muted/30",children:p.jsxs("div",{className:"container mx-auto px-4",children:[p.jsxs("div",{className:"text-center mb-12",children:[p.jsxs("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:["Latest ",p.jsx("span",{className:"text-accent",children:"Insights"})]}),p.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Discover the latest trends, innovations, and stories shaping Africa's entrepreneurial landscape."})]}),t.length===0?p.jsx("div",{className:"text-center py-16",children:p.jsxs("div",{className:"max-w-md mx-auto",children:[p.jsx("h3",{className:"text-xl font-semibold mb-4",children:"No Articles Yet"}),p.jsx("p",{className:"text-muted-foreground mb-6",children:"Our editorial team is working on bringing you the latest insights. Check back soon for exciting content!"}),p.jsx("div",{className:"w-24 h-1 bg-accent mx-auto rounded"})]})}):p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-12",children:n.map(r=>p.jsx(Q$,{article:r,onRead:e},r.id))}),t.length>6&&p.jsx("div",{className:"text-center",children:p.jsxs(pe,{size:"lg",variant:"outline",className:"border-accent text-accent hover:bg-accent hover:text-accent-foreground",children:["View All Articles",p.jsx(zv,{className:"ml-2 h-5 w-5"})]})})]})]})})},nt=b.forwardRef(({className:t,type:e,...n},r)=>p.jsx("input",{type:e,className:ke("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));nt.displayName="Input";const Z$="modulepreload",X$=function(t){return"/excomag/"+t},rb={},su=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=X$(l),l in rb)return;rb[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":Z$,c||(d.as="script"),d.crossOrigin="",d.href=l,a&&d.setAttribute("nonce",a),document.head.appendChild(d),c)return new Promise((f,h)=>{d.addEventListener("load",f),d.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},e4=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>su(async()=>{const{default:r}=await Promise.resolve().then(()=>sl);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class o0 extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class t4 extends o0{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class sb extends o0{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class ib extends o0{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Fg;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Fg||(Fg={}));var n4=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class r4{constructor(e,{headers:n={},customFetch:r,region:s=Fg.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=e4(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return n4(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=n;let a={},{region:l}=n;l||(l=this.region);const c=new URL(`${this.url}/${e}`);l&&l!=="any"&&(a["x-region"]=l,c.searchParams.set("forceFunctionRegion",l));let u;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(a["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(a["Content-Type"]="application/json",u=JSON.stringify(o)));const d=yield this.fetch(c.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:u}).catch(g=>{throw new t4(g)}),f=d.headers.get("x-relay-error");if(f&&f==="true")throw new sb(d);if(!d.ok)throw new ib(d);let h=((r=d.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),m;return h==="application/json"?m=yield d.json():h==="application/octet-stream"?m=yield d.blob():h==="text/event-stream"?m=d:h==="multipart/form-data"?m=yield d.formData():m=yield d.text(),{data:m,error:null,response:d}}catch(s){return{data:null,error:s,response:s instanceof ib||s instanceof sb?s.context:void 0}}})}}var Zt={},a0={},Oh={},iu={},Ph={},Rh={},s4=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},$a=s4();const i4=$a.fetch,k_=$a.fetch.bind($a),S_=$a.Headers,o4=$a.Request,a4=$a.Response,sl=Object.freeze(Object.defineProperty({__proto__:null,Headers:S_,Request:o4,Response:a4,default:k_,fetch:i4},Symbol.toStringTag,{value:"Module"})),l4=vP(sl);var Mh={};Object.defineProperty(Mh,"__esModule",{value:!0});let c4=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Mh.default=c4;var E_=On&&On.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Rh,"__esModule",{value:!0});const u4=E_(l4),d4=E_(Mh);let f4=class{constructor(e){var n,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(n=e.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=u4.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=new Headers(this.headers),this.headers.set(e,n),this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,l,c;let u=null,d=null,f=null,h=i.status,m=i.statusText;if(i.ok){if(this.method!=="HEAD"){const w=await i.text();w===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?d=w:d=JSON.parse(w))}const y=(a=this.headers.get("Prefer"))===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),v=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");y&&v&&v.length>1&&(f=parseInt(v[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,h=406,m="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const y=await i.text();try{u=JSON.parse(y),Array.isArray(u)&&i.status===404&&(d=[],u=null,h=200,m="OK")}catch{i.status===404&&y===""?(h=204,m="No Content"):u={message:y}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,h=200,m="OK"),u&&this.shouldThrowOnError)throw new d4.default(u)}return{error:u,data:d,count:f,status:h,statusText:m}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,a,l;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,n)}returns(){return this}overrideTypes(){return this}};Rh.default=f4;var h4=On&&On.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ph,"__esModule",{value:!0});const p4=h4(Rh);let m4=class extends p4.default{select(e){let n=!1;const r=(e??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var a;const l=[e?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${c}"; options=${l};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};Ph.default=m4;var g4=On&&On.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(iu,"__esModule",{value:!0});const y4=g4(Ph);let v4=class extends y4.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${o}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};iu.default=v4;var w4=On&&On.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Oh,"__esModule",{value:!0});const xl=w4(iu);let x4=class{constructor(e,{headers:n={},schema:r,fetch:s}){this.url=e,this.headers=new Headers(n),this.schema=r,this.fetch=s}select(e,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),r&&this.headers.append("Prefer",`count=${r}`),new xl.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:n,defaultToNull:r=!0}={}){var s;const i="POST";if(n&&this.headers.append("Prefer",`count=${n}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const o=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new xl.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){var o;const a="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),s&&this.headers.append("Prefer",`count=${s}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new xl.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(e,{count:n}={}){var r;const s="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new xl.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var n;const r="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new xl.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};Oh.default=x4;var C_=On&&On.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(a0,"__esModule",{value:!0});const b4=C_(Oh),k4=C_(iu);let S4=class __{constructor(e,{headers:n={},schema:r,fetch:s}={}){this.url=e,this.headers=new Headers(n),this.schemaName=r,this.fetch=s}from(e){const n=new URL(`${this.url}/${e}`);return new b4.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new __(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:s=!1,count:i}={}){var o;let a;const l=new URL(`${this.url}/rpc/${e}`);let c;r||s?(a=r?"HEAD":"GET",Object.entries(n).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{l.searchParams.append(d,f)})):(a="POST",c=n);const u=new Headers(this.headers);return i&&u.set("Prefer",`count=${i}`),new k4.default({method:a,url:l,headers:u,schema:this.schemaName,body:c,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};a0.default=S4;var il=On&&On.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Zt,"__esModule",{value:!0});Zt.PostgrestError=Zt.PostgrestBuilder=Zt.PostgrestTransformBuilder=Zt.PostgrestFilterBuilder=Zt.PostgrestQueryBuilder=Zt.PostgrestClient=void 0;const T_=il(a0);Zt.PostgrestClient=T_.default;const N_=il(Oh);Zt.PostgrestQueryBuilder=N_.default;const A_=il(iu);Zt.PostgrestFilterBuilder=A_.default;const O_=il(Ph);Zt.PostgrestTransformBuilder=O_.default;const P_=il(Rh);Zt.PostgrestBuilder=P_.default;const R_=il(Mh);Zt.PostgrestError=R_.default;var E4=Zt.default={PostgrestClient:T_.default,PostgrestQueryBuilder:N_.default,PostgrestFilterBuilder:A_.default,PostgrestTransformBuilder:O_.default,PostgrestBuilder:P_.default,PostgrestError:R_.default};const{PostgrestClient:C4,PostgrestQueryBuilder:z9,PostgrestFilterBuilder:B9,PostgrestTransformBuilder:U9,PostgrestBuilder:V9,PostgrestError:H9}=E4;class _4{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,s=parseInt(r.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const T4="2.15.5",N4=`realtime-js/${T4}`,A4="1.0.0",zg=1e4,O4=1e3,P4=100;var Hl;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Hl||(Hl={}));var dt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(dt||(dt={}));var qn;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(qn||(qn={}));var Bg;(function(t){t.websocket="websocket"})(Bg||(Bg={}));var Ti;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Ti||(Ti={}));class R4{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+s));o=o+s;const l=r.decode(e.slice(o,o+i));o=o+i;const c=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class M_{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var je;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(je||(je={}));const ob=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,o)=>(i[o]=M4(o,t,e,s),i),{})},M4=(t,e,n,r)=>{const s=e.find(a=>a.name===t),i=s==null?void 0:s.type,o=n[t];return i&&!r.includes(i)?j_(i,o):Ug(o)},j_=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return L4(e,n)}switch(t){case je.bool:return j4(e);case je.float4:case je.float8:case je.int2:case je.int4:case je.int8:case je.numeric:case je.oid:return I4(e);case je.json:case je.jsonb:return D4(e);case je.timestamp:return $4(e);case je.abstime:case je.date:case je.daterange:case je.int4range:case je.int8range:case je.money:case je.reltime:case je.text:case je.time:case je.timestamptz:case je.timetz:case je.tsrange:case je.tstzrange:return Ug(e);default:return Ug(e)}},Ug=t=>t,j4=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},I4=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},D4=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},L4=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>j_(e,a))}return t},$4=t=>typeof t=="string"?t.replace(" ","T"):t,I_=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class Bp{constructor(e,n,r={},s=zg){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var ab;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(ab||(ab={}));class Wl{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Wl.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=Wl.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Wl.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const i=this.cloneDeep(e),o=this.transformState(n),a={},l={};return this.map(i,(c,u)=>{o[c]||(l[c]=u)}),this.map(o,(c,u)=>{const d=i[c];if(d){const f=u.map(y=>y.presence_ref),h=d.map(y=>y.presence_ref),m=u.filter(y=>h.indexOf(y.presence_ref)<0),g=d.filter(y=>f.indexOf(y.presence_ref)<0);m.length>0&&(a[c]=m),g.length>0&&(l[c]=g)}else a[c]=u}),this.syncDiff(i,{joins:a,leaves:l},r,s)}static syncDiff(e,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var c;const u=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),u.length>0){const d=e[a].map(h=>h.presence_ref),f=u.filter(h=>d.indexOf(h.presence_ref)<0);e[a].unshift(...f)}r(a,u,l)}),this.map(o,(a,l)=>{let c=e[a];if(!c)return;const u=l.map(d=>d.presence_ref);c=c.filter(d=>u.indexOf(d.presence_ref)<0),e[a]=c,s(a,c,l),c.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var lb;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(lb||(lb={}));var Kl;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Kl||(Kl={}));var Mr;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Mr||(Mr={}));class l0{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=dt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Bp(this,qn.join,this.params,this.timeout),this.rejoinTimer=new M_(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=dt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=dt.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=dt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=dt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=dt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(qn.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Wl(this),this.broadcastEndpointURL=I_(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==dt.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,c=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(h=>h.filter))!==null&&s!==void 0?s:[],u=!!this.bindings[Kl.PRESENCE]&&this.bindings[Kl.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,d={},f={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:u}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(h=>e==null?void 0:e(Mr.CHANNEL_ERROR,h)),this._onClose(()=>e==null?void 0:e(Mr.CLOSED)),this.updateJoinPayload(Object.assign({config:f},d)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:h})=>{var m;if(this.socket.setAuth(),h===void 0){e==null||e(Mr.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,y=(m=g==null?void 0:g.length)!==null&&m!==void 0?m:0,v=[];for(let w=0;w<y;w++){const x=g[w],{filter:{event:k,schema:S,table:C,filter:E}}=x,_=h&&h[w];if(_&&_.event===k&&_.schema===S&&_.table===C&&_.filter===E)v.push(Object.assign(Object.assign({},x),{id:_.id}));else{this.unsubscribe(),this.state=dt.errored,e==null||e(Mr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,e&&e(Mr.SUBSCRIBED);return}}).receive("error",h=>{this.state=dt.errored,e==null||e(Mr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Mr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===dt.joined&&e===Kl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,r)}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const c=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=dt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(qn.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new Bp(this,qn.leave,{},e),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=dt.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Bp(this,e,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>P4){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=qn;if(r&&[a,l,c,u].indexOf(o)>=0&&r!==this._joinRef())return;let f=this._onMessage(o,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(h=>{var m,g,y;return((m=h.filter)===null||m===void 0?void 0:m.event)==="*"||((y=(g=h.filter)===null||g===void 0?void 0:g.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===o}).map(h=>h.callback(f,r)):(i=this.bindings[o])===null||i===void 0||i.filter(h=>{var m,g,y,v,w,x;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in h){const k=h.id,S=(m=h.filter)===null||m===void 0?void 0:m.event;return k&&((g=n.ids)===null||g===void 0?void 0:g.includes(k))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((y=n.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const k=(w=(v=h==null?void 0:h.filter)===null||v===void 0?void 0:v.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return k==="*"||k===((x=n==null?void 0:n.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===o}).map(h=>{if(typeof f=="object"&&"ids"in f){const m=f.data,{schema:g,table:y,commit_timestamp:v,type:w,errors:x}=m;f=Object.assign(Object.assign({},{schema:g,table:y,commit_timestamp:v,eventType:w,new:{},old:{},errors:x}),this._getPayloadRecords(m))}h.callback(f,r)})}_isClosed(){return this.state===dt.closed}_isJoined(){return this.state===dt.joined}_isJoining(){return this.state===dt.joining}_isLeaving(){return this.state===dt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&l0.isEqual(s.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(qn.close,{},e)}_onError(e){this._on(qn.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=dt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=ob(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=ob(e.columns,e.old_record)),n}}const Up=()=>{},Du={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},F4=[1e3,2e3,5e3,1e4],z4=1e4,B4=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class U4{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=zg,this.transport=null,this.heartbeatIntervalMs=Du.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Up,this.ref=0,this.reconnectTimer=null,this.logger=Up,this.conn=null,this.sendBuffer=[],this.serializer=new R4,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...o)=>su(async()=>{const{default:a}=await Promise.resolve().then(()=>sl);return{default:a}},void 0).then(({default:a})=>a(...o)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${Bg.websocket}`,this.httpEndpoint=I_(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=_4.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:A4}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Hl.connecting:return Ti.Connecting;case Hl.open:return Ti.Open;case Hl.closing:return Ti.Closing;default:return Ti.Closed}}isConnected(){return this.connectionState()===Ti.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new l0(`realtime:${e}`,n,this);return this.channels.push(i),i}}push(e){const{topic:n,event:r,payload:s,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(O4,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Du.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:s,payload:i,ref:o}=n,a=o?`(${o})`:"",l=i.status||"";this.log("receive",`${l} ${r} ${s} ${a}`.trim(),i),this.channels.filter(c=>c._isMember(r)).forEach(c=>c._trigger(s,i,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(qn.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([B4],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:N4};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(qn.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new M_(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Du.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,s,i,o,a,l,c,u;if(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:zg,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:Du.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=e==null?void 0:e.heartbeatCallback)!==null&&a!==void 0?a:Up,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=e==null?void 0:e.reconnectAfterMs)!==null&&l!==void 0?l:d=>F4[d-1]||z4,this.encode=(c=e==null?void 0:e.encode)!==null&&c!==void 0?c:(d,f)=>f(JSON.stringify(d)),this.decode=(u=e==null?void 0:e.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class c0 extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ft(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class V4 extends c0{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Vg extends c0{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var H4=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const D_=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>su(async()=>{const{default:r}=await Promise.resolve().then(()=>sl);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},W4=()=>H4(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield su(()=>Promise.resolve().then(()=>sl),void 0)).Response:Response}),Hg=t=>{if(Array.isArray(t))return t.map(n=>Hg(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=Hg(r)}),e},K4=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var vo=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const Vp=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),q4=(t,e,n)=>vo(void 0,void 0,void 0,function*(){const r=yield W4();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{const i=t.status||500,o=(s==null?void 0:s.statusCode)||i+"";e(new V4(Vp(s),i,o))}).catch(s=>{e(new Vg(Vp(s),s))}):e(new Vg(Vp(t),t))}),G4=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?s:(K4(r)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(r)):s.body=r,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),n))};function ou(t,e,n,r,s,i){return vo(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(n,G4(e,r,s,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>q4(l,a,r))})})}function nf(t,e,n,r){return vo(this,void 0,void 0,function*(){return ou(t,"GET",e,n,r)})}function or(t,e,n,r,s){return vo(this,void 0,void 0,function*(){return ou(t,"POST",e,r,s,n)})}function Wg(t,e,n,r,s){return vo(this,void 0,void 0,function*(){return ou(t,"PUT",e,r,s,n)})}function J4(t,e,n,r){return vo(this,void 0,void 0,function*(){return ou(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function L_(t,e,n,r,s){return vo(this,void 0,void 0,function*(){return ou(t,"DELETE",e,r,s,n)})}var Ft=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const Q4={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},cb={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Y4{constructor(e,n={},r,s){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=r,this.fetch=D_(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,r,s){return Ft(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},cb),s);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const c=this._removeEmptyFolders(n),u=this._getFinalPath(c),d=yield(e=="PUT"?Wg:or)(this.fetch,`${this.url}/object/${u}`,i,Object.assign({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:c,id:d.Id,fullPath:d.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ft(i))return{data:null,error:i};throw i}})}upload(e,n,r){return Ft(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,s){return Ft(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const c=Object.assign({upsert:cb.upsert},s),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const d=yield Wg(this.fetch,a.toString(),l,{headers:u});return{data:{path:i,fullPath:d.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(ft(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,n){return Ft(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield or(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new c0("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ft(r))return{data:null,error:r};throw r}})}update(e,n,r){return Ft(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return Ft(this,void 0,void 0,function*(){try{return{data:yield or(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ft(s))return{data:null,error:s};throw s}})}copy(e,n,r){return Ft(this,void 0,void 0,function*(){try{return{data:{path:(yield or(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ft(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,r){return Ft(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield or(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ft(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,r){return Ft(this,void 0,void 0,function*(){try{const s=yield or(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ft(s))return{data:null,error:s};throw s}})}download(e,n){return Ft(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield nf(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ft(a))return{data:null,error:a};throw a}})}info(e){return Ft(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield nf(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Hg(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ft(r))return{data:null,error:r};throw r}})}exists(e){return Ft(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield J4(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ft(r)&&r instanceof Vg){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&s.push(l);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(e){return Ft(this,void 0,void 0,function*(){try{return{data:yield L_(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ft(n))return{data:null,error:n};throw n}})}list(e,n,r){return Ft(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Q4),n),{prefix:e||""});return{data:yield or(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ft(s))return{data:null,error:s};throw s}})}listV2(e,n){return Ft(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield or(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ft(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const Z4="2.12.0",X4={"X-Client-Info":`storage-js/${Z4}`};var _o=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class e3{constructor(e,n={},r,s){this.shouldThrowOnError=!1;const i=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},X4),n),this.fetch=D_(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return _o(this,void 0,void 0,function*(){try{return{data:yield nf(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ft(e))return{data:null,error:e};throw e}})}getBucket(e){return _o(this,void 0,void 0,function*(){try{return{data:yield nf(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ft(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return _o(this,void 0,void 0,function*(){try{return{data:yield or(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ft(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return _o(this,void 0,void 0,function*(){try{return{data:yield Wg(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ft(r))return{data:null,error:r};throw r}})}emptyBucket(e){return _o(this,void 0,void 0,function*(){try{return{data:yield or(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ft(n))return{data:null,error:n};throw n}})}deleteBucket(e){return _o(this,void 0,void 0,function*(){try{return{data:yield L_(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ft(n))return{data:null,error:n};throw n}})}}class t3 extends e3{constructor(e,n={},r,s){super(e,n,r,s)}from(e){return new Y4(this.url,this.headers,e,this.fetch)}}const n3="2.57.2";let Tl="";typeof Deno<"u"?Tl="deno":typeof document<"u"?Tl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Tl="react-native":Tl="node";const r3={"X-Client-Info":`supabase-js-${Tl}/${n3}`},s3={headers:r3},i3={schema:"public"},o3={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},a3={};var l3=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const c3=t=>{let e;return t?e=t:typeof fetch>"u"?e=k_:e=fetch,(...n)=>e(...n)},u3=()=>typeof Headers>"u"?S_:Headers,d3=(t,e,n)=>{const r=c3(n),s=u3();return(i,o)=>l3(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let c=new s(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},o),{headers:c}))})};var f3=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};function h3(t){return t.endsWith("/")?t:t+"/"}function p3(t,e){var n,r;const{db:s,auth:i,realtime:o,global:a}=t,{db:l,auth:c,realtime:u,global:d}=e,f={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},u),o),storage:{},global:Object.assign(Object.assign(Object.assign({},d),a),{headers:Object.assign(Object.assign({},(n=d==null?void 0:d.headers)!==null&&n!==void 0?n:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>f3(this,void 0,void 0,function*(){return""})};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}const $_="2.71.1",Do=30*1e3,Kg=3,Hp=Kg*Do,m3="http://localhost:9999",g3="supabase.auth.token",y3={"X-Client-Info":`gotrue-js/${$_}`},qg="X-Supabase-Api-Version",F_={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},v3=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,w3=10*60*1e3;class u0 extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function ce(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class x3 extends u0{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function b3(t){return ce(t)&&t.name==="AuthApiError"}class z_ extends u0{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class fi extends u0{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class ds extends fi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function k3(t){return ce(t)&&t.name==="AuthSessionMissingError"}class Lu extends fi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class $u extends fi{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Fu extends fi{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function S3(t){return ce(t)&&t.name==="AuthImplicitGrantRedirectError"}class ub extends fi{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Gg extends fi{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Wp(t){return ce(t)&&t.name==="AuthRetryableFetchError"}class db extends fi{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Jg extends fi{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const rf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),fb=` 	
\r=`.split(""),E3=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<fb.length;e+=1)t[fb[e].charCodeAt(0)]=-2;for(let e=0;e<rf.length;e+=1)t[rf[e].charCodeAt(0)]=e;return t})();function hb(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(rf[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(rf[r]),e.queuedBits-=6}}function B_(t,e,n){const r=E3[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function pb(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{T3(o,r,n)};for(let o=0;o<t.length;o+=1)B_(t.charCodeAt(o),s,i);return e.join("")}function C3(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function _3(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}C3(r,e)}}function T3(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function N3(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)B_(t.charCodeAt(s),n,r);return new Uint8Array(e)}function A3(t){const e=[];return _3(t,n=>e.push(n)),new Uint8Array(e)}function O3(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};return t.forEach(s=>hb(s,n,r)),hb(null,n,r),e.join("")}function P3(t){return Math.round(Date.now()/1e3)+t}function R3(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const zn=()=>typeof window<"u"&&typeof document<"u",bi={tested:!1,writable:!1},U_=()=>{if(!zn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(bi.tested)return bi.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),bi.tested=!0,bi.writable=!0}catch{bi.tested=!0,bi.writable=!1}return bi.writable};function M3(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const V_=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>su(async()=>{const{default:r}=await Promise.resolve().then(()=>sl);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},j3=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Lo=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},ki=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},as=async(t,e)=>{await t.removeItem(e)};class jh{constructor(){this.promise=new jh.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}jh.promiseConstructor=Promise;function Kp(t){const e=t.split(".");if(e.length!==3)throw new Jg("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!v3.test(e[r]))throw new Jg("JWT not in base64url format");return{header:JSON.parse(pb(e[0])),payload:JSON.parse(pb(e[1])),signature:N3(e[2]),raw:{header:e[0],payload:e[1]}}}async function I3(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function D3(t,e){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function L3(t){return("0"+t.toString(16)).substr(-2)}function $3(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,L3).join("")}async function F3(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function z3(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await F3(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function To(t,e,n=!1){const r=$3();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await Lo(t,`${e}-code-verifier`,s);const i=await z3(r);return[i,r===i?"plain":"s256"]}const B3=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function U3(t){const e=t.headers.get(qg);if(!e||!e.match(B3))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function V3(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function H3(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const W3=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function No(t){if(!W3.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function qp(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function mb(t){return JSON.parse(JSON.stringify(t))}var K3=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};const _i=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),q3=[502,503,504];async function gb(t){var e;if(!j3(t))throw new Gg(_i(t),0);if(q3.includes(t.status))throw new Gg(_i(t),t.status);let n;try{n=await t.json()}catch(i){throw new z_(_i(i),i)}let r;const s=U3(t);if(s&&s.getTime()>=F_["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new db(_i(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new ds}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new db(_i(n),t.status,n.weak_password.reasons);throw new x3(_i(n),t.status||500,r)}const G3=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function ve(t,e,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[qg]||(i[qg]=F_["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await J3(t,e,n+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function J3(t,e,n,r,s,i){const o=G3(e,r,s,i);let a;try{a=await t(n,Object.assign({},o))}catch(l){throw console.error(l),new Gg(_i(l),0)}if(a.ok||await gb(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await gb(l)}}function Or(t){var e;let n=null;X3(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=P3(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function yb(t){const e=Or(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function ks(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Q3(t){return{data:t,error:null}}function Y3(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=t,o=K3(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function Z3(t){return t}function X3(t){return t.access_token&&t.refresh_token&&t.expires_in}const Gp=["global","local","others"];var eF=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};class tF{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=V_(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=Gp[0]){if(Gp.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Gp.join(", ")}`);try{return await ve(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ce(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await ve(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:ks})}catch(r){if(ce(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=eF(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await ve(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Y3,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(ce(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await ve(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:ks})}catch(n){if(ce(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await ve(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Z3});if(u.error)throw u.error;const d=await u.json(),f=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,h=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return h.length>0&&(h.forEach(m=>{const g=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(m.split(";")[1].split("=")[1]);c[`${y}Page`]=g}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(ce(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){No(e);try{return await ve(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:ks})}catch(n){if(ce(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){No(e);try{return await ve(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:ks})}catch(r){if(ce(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){No(e);try{return await ve(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:ks})}catch(r){if(ce(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){No(e.userId);try{const{data:n,error:r}=await ve(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(ce(n))return{data:null,error:n};throw n}}async _deleteFactor(e){No(e.userId),No(e.id);try{return{data:await ve(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(ce(n))return{data:null,error:n};throw n}}}function vb(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function nF(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Ao={debug:!!(globalThis&&U_()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class H_ extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class rF extends H_{}async function sF(t,e,n){Ao.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Ao.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Ao.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{Ao.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw Ao.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new rF(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Ao.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}nF();const iF={url:m3,storageKey:g3,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:y3,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function wb(t,e,n){return await n()}const Oo={};class Tc{constructor(e){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Tc.nextInstanceID,Tc.nextInstanceID+=1,this.instanceID>0&&zn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},iF),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new tF({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=V_(s.fetch),this.lock=s.lock||wb,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:zn()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=sF:this.lock=wb,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:U_()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=vb(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=vb(this.memoryStorage)),zn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var e,n;return(n=(e=Oo[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){Oo[this.storageKey]=Object.assign(Object.assign({},Oo[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=Oo[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Oo[this.storageKey]=Object.assign(Object.assign({},Oo[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${$_}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=M3(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),zn()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),S3(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ce(n)?{error:n}:{error:new z_("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const i=await ve(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:Or}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(ce(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var n,r,s;try{let i;if("email"in e){const{email:u,password:d,options:f}=e;let h=null,m=null;this.flowType==="pkce"&&([h,m]=await To(this.storage,this.storageKey)),i=await ve(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:u,password:d,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:h,code_challenge_method:m},xform:Or})}else if("phone"in e){const{phone:u,password:d,options:f}=e;i=await ve(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:d,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Or})}else throw new $u("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(ce(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:o,options:a}=e;n=await ve(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:yb})}else if("phone"in e){const{phone:i,password:o,options:a}=e;n=await ve(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:yb})}else throw new $u("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Lu}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(ce(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;if(n==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(e){var n,r,s,i,o,a,l,c,u,d,f,h;let m,g;if("message"in e)m=e.message,g=e.signature;else{const{chain:y,wallet:v,statement:w,options:x}=e;let k;if(zn())if(typeof v=="object")k=v;else{const C=window;if("solana"in C&&typeof C.solana=="object"&&("signIn"in C.solana&&typeof C.solana.signIn=="function"||"signMessage"in C.solana&&typeof C.solana.signMessage=="function"))k=C.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=v}const S=new URL((n=x==null?void 0:x.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in k&&k.signIn){const C=await k.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},x==null?void 0:x.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),w?{statement:w}:null));let E;if(Array.isArray(C)&&C[0]&&typeof C[0]=="object")E=C[0];else if(C&&typeof C=="object"&&"signedMessage"in C&&"signature"in C)E=C;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in E&&"signature"in E&&(typeof E.signedMessage=="string"||E.signedMessage instanceof Uint8Array)&&E.signature instanceof Uint8Array)m=typeof E.signedMessage=="string"?E.signedMessage:new TextDecoder().decode(E.signedMessage),g=E.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in k)||typeof k.signMessage!="function"||!("publicKey"in k)||typeof k!="object"||!k.publicKey||!("toBase58"in k.publicKey)||typeof k.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");m=[`${S.host} wants you to sign in with your Solana account:`,k.publicKey.toBase58(),...w?["",w,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(s=(r=x==null?void 0:x.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=x==null?void 0:x.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${x.signInWithSolana.notBefore}`]:[],...!((o=x==null?void 0:x.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${x.signInWithSolana.expirationTime}`]:[],...!((a=x==null?void 0:x.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${x.signInWithSolana.chainId}`]:[],...!((l=x==null?void 0:x.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${x.signInWithSolana.nonce}`]:[],...!((c=x==null?void 0:x.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${x.signInWithSolana.requestId}`]:[],...!((d=(u=x==null?void 0:x.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||d===void 0)&&d.length?["Resources",...x.signInWithSolana.resources.map(E=>`- ${E}`)]:[]].join(`
`);const C=await k.signMessage(new TextEncoder().encode(m),"utf8");if(!C||!(C instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=C}}try{const{data:y,error:v}=await ve(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:m,signature:O3(g)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=e.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Or});if(v)throw v;return!y||!y.session||!y.user?{data:{user:null,session:null},error:new Lu}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:Object.assign({},y),error:v})}catch(y){if(ce(y))return{data:{user:null,session:null},error:y};throw y}}async _exchangeCodeForSession(e){const n=await ki(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await ve(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Or});if(await as(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Lu}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(ce(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=e,a=await ve(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Or}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Lu}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(n){if(ce(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,s,i,o;try{if("email"in e){const{email:a,options:l}=e;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await To(this.storage,this.storageKey));const{error:d}=await ve(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:a,options:l}=e,{data:c,error:u}=await ve(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new $u("You must provide either an email or phone number.")}catch(a){if(ce(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var n,r;try{let s,i;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await ve(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Or});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(ce(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await To(this.storage,this.storageKey)),await ve(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Q3})}catch(i){if(ce(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new ds;const{error:s}=await ve(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(ce(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:i}=e,{error:o}=await ve(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:s,options:i}=e,{data:o,error:a}=await ve(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new $u("You must provide either an email or phone number and a type")}catch(n){if(ce(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await ki(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<Hp:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const o=await ki(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=qp()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,u)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await ve(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:ks}):await this._useSession(async n=>{var r,s,i;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ds}:await ve(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:ks})})}catch(n){if(ce(n))return k3(n)&&(await this._removeSession(),await as(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new ds;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await To(this.storage,this.storageKey));const{data:c,error:u}=await ve(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:ks});if(u)throw u;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(ce(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new ds;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=Kp(e.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(ce(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:a}=n;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new ds;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(ce(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!zn())throw new Fu("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Fu(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new ub("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Fu("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new ub("No code detected.");const{data:w,error:x}=await this._exchangeCodeForSession(e.code);if(x)throw x;const k=new URL(window.location.href);return k.searchParams.delete("code"),window.history.replaceState(window.history.state,"",k.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=e;if(!i||!a||!o||!c)throw new Fu("No session defined in URL");const u=Math.round(Date.now()/1e3),d=parseInt(a);let f=u+d;l&&(f=parseInt(l));const h=f-u;h*1e3<=Do&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${d}s`);const m=f-d;u-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,f,u):u-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,f,u);const{data:g,error:y}=await this._getUser(i);if(y)throw y;const v={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:d,expires_at:f,refresh_token:o,token_type:c,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:v,redirectType:e.type},error:null}}catch(r){if(ce(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await ki(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(b3(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await as(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=R3(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await To(this.storage,this.storageKey,!0));try{return await ve(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(ce(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(ce(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,a,l,c,u;const{data:d,error:f}=i;if(f)throw f;const h=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await ve(this.fetch,"GET",h,{headers:this.headers,jwt:(u=(c=d.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(s)throw s;return zn()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(ce(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await ve(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(ce(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await D3(async s=>(s>0&&await I3(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await ve(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Or})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Wp(i)&&Date.now()+o-r<Do})}catch(r){if(this._debug(n,"error",r),ce(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),zn()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await ki(this.storage,this.storageKey);if(s&&this.userStorage){let o=await ki(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await Lo(this.userStorage,this.storageKey+"-user",o)),s.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:qp()}else if(s&&!s.user&&!s.user){const o=await ki(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await as(this.storage,this.storageKey+"-user"),await Lo(this.storage,this.storageKey,s)):s.user=qp()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Hp;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${Hp}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),Wp(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(s.access_token);!a&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new ds;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new jh;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new ds;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),ce(i)){const o={session:null,error:i};return Wp(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,n)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Lo(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=mb(s);await Lo(this.storage,this.storageKey,i)}else{const s=mb(n);await Lo(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await as(this.storage,this.storageKey),await as(this.storage,this.storageKey+"-code-verifier"),await as(this.storage,this.storageKey+"-user"),this.userStorage&&await as(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&zn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Do);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/Do);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Do}ms, refresh threshold is ${Kg} ticks`),s<=Kg&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof H_)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!zn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await To(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await ve(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ce(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:c}=await ve(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(ce(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:a}=await ve(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(n){if(ce(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await ve(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ce(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Kp(s.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const u=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(a=>a.kid===e);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(a=>a.kid===e),r&&this.jwks_cached_at+w3>s)return r;const{data:i,error:o}=await ve(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(a=>a.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:h,error:m}=await this.getSession();if(m||!h.session)return{data:null,error:m};r=h.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:l}}=Kp(r);n!=null&&n.allowExpired||V3(i.exp);const c=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!c){const{error:h}=await this.getUser(r);if(h)throw h;return{data:{claims:i,header:s,signature:o},error:null}}const u=H3(s.alg),d=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,d,o,A3(`${a}.${l}`)))throw new Jg("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(ce(r))return{data:null,error:r};throw r}}}Tc.nextInstanceID=0;const oF=Tc;class aF extends oF{constructor(e){super(e)}}var lF=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class cF{constructor(e,n,r){var s,i,o;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=h3(e),l=new URL(a);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:i3,realtime:a3,auth:Object.assign(Object.assign({},o3),{storageKey:c}),global:s3},d=p3(r??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=d3(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new C4(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new t3(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new r4(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return lF(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,storageKey:o,flowType:a,lock:l,debug:c},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new aF({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),u),storageKey:o,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,flowType:a,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(h=>h.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new U4(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const uF=(t,e,n)=>new cF(t,e,n);function dF(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}dF()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const fF="https://mssifhdrquopobjmysvp.supabase.co",hF="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1zc2lmaGRycXVvcG9iam15c3ZwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTc0MDM3MDYsImV4cCI6MjA3Mjk3OTcwNn0.4Nx3wuGPB2OvL5fv9xjrs0Y_LBW_Zymeflkc6GgqNYU",xe=uF(fF,hF,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),pF=()=>{const[t,e]=b.useState(""),[n,r]=b.useState(!1),s=async i=>{i.preventDefault(),r(!0);try{const{error:o}=await xe.from("subscribers").insert([{email:t}]);if(o)if(o.code==="23505")fe({title:"Already Subscribed",description:"This email is already subscribed to our newsletter.",variant:"destructive"});else throw o;else fe({title:"Successfully Subscribed!",description:"You'll receive updates when we publish new articles."}),e("")}catch(o){console.error("Subscription error:",o),fe({title:"Subscription Failed",description:"Unable to subscribe. Please try again later.",variant:"destructive"})}finally{r(!1)}};return p.jsxs("div",{className:"bg-card rounded-lg p-6 card-shadow",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[p.jsx(Ma,{className:"h-5 w-5 text-accent"}),p.jsx("h3",{className:"font-semibold text-lg",children:"Subscribe to Our Newsletter"})]}),p.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:"Get the latest articles and insights delivered straight to your inbox."}),p.jsxs("form",{onSubmit:s,className:"flex gap-2",children:[p.jsx(nt,{type:"email",placeholder:"Enter your email",value:t,onChange:i=>e(i.target.value),required:!0,className:"flex-1"}),p.jsx(pe,{type:"submit",disabled:n,className:"bg-accent hover:bg-accent/90",children:n?"Subscribing...":"Subscribe"})]})]})},da=()=>p.jsx("footer",{className:"bg-primary text-primary-foreground py-12",children:p.jsxs("div",{className:"container mx-auto px-4",children:[p.jsx("div",{className:"mb-12",children:p.jsx(pF,{})}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[p.jsxs("div",{className:"md:col-span-2",children:[p.jsx("img",{src:i0,alt:"ExcoMag Africa",className:"h-16 w-auto mb-4"}),p.jsx("p",{className:"text-primary-foreground/80 mb-4 max-w-md",children:"Africa's premier virtual incubation hub, connecting entrepreneurs, innovators, and investors across the continent."}),p.jsxs("div",{className:"flex space-x-4",children:[p.jsxs("a",{href:"https://zw.linkedin.com/company/exhibitors-corner",target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-2 text-primary-foreground/60 hover:text-accent transition-colors",children:[p.jsx(tI,{className:"h-4 w-4"}),p.jsx("span",{children:"LinkedIn"})]}),p.jsxs("a",{href:"https://x.com/excomag01",target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-2 text-primary-foreground/60 hover:text-accent transition-colors",children:[p.jsx(hI,{className:"h-4 w-4"}),p.jsx("span",{children:"Twitter"})]}),p.jsxs("a",{href:"https://www.facebook.com/exhibitorscorner/",target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-2 text-primary-foreground/60 hover:text-accent transition-colors",children:[p.jsx(qj,{className:"h-4 w-4"}),p.jsx("span",{children:"Facebook"})]}),p.jsxs("a",{href:"https://www.instagram.com/excomag/",target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-2 text-primary-foreground/60 hover:text-accent transition-colors",children:[p.jsx(Zj,{className:"h-4 w-4"}),p.jsx("span",{children:"Instagram"})]})]})]}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-semibold mb-4",children:"Quick Links"}),p.jsxs("ul",{className:"space-y-2",children:[p.jsx("li",{children:p.jsx(Jn,{to:"/",onClick:()=>window.scrollTo(0,0),className:"text-primary-foreground/80 hover:text-accent transition-colors",children:"Home"})}),p.jsx("li",{children:p.jsx(Jn,{to:"/#articles",onClick:()=>{window.scrollTo(0,0),setTimeout(()=>{const t=document.getElementById("articles");t==null||t.scrollIntoView({behavior:"smooth"})},100)},className:"text-primary-foreground/80 hover:text-accent transition-colors",children:"Articles"})}),p.jsx("li",{children:p.jsx(Jn,{to:"/about",onClick:()=>window.scrollTo(0,0),className:"text-primary-foreground/80 hover:text-accent transition-colors",children:"About Us"})}),p.jsx("li",{children:p.jsx(Jn,{to:"/contact",onClick:()=>window.scrollTo(0,0),className:"text-primary-foreground/80 hover:text-accent transition-colors",children:"Contact"})})]})]}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-semibold mb-4",children:"Contact Info"}),p.jsxs("div",{className:"space-y-3",children:[p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsx(Ma,{className:"h-5 w-5 text-accent"}),p.jsx("span",{className:"text-primary-foreground/80 text-sm",children:"info@excomag.africa"})]}),p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsx(oI,{className:"h-5 w-5 text-accent"}),p.jsx("span",{className:"text-primary-foreground/80 text-sm",children:"+263 71 570 05930"})]}),p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsx(sI,{className:"h-5 w-5 text-accent"}),p.jsx("span",{className:"text-primary-foreground/80 text-sm",children:"Office 709,Charter House Cnr Fort St. & L Takawira Bulawayo, Zimbabwe"})]})]})]})]}),p.jsx("div",{className:"border-t border-primary-foreground/20 mt-8 pt-8 text-center",children:p.jsxs("p",{className:"text-primary-foreground/60 text-sm",children:[" ",new Date().getFullYear()," ExcoMag Africa. All rights reserved."]})})]})}),mF=()=>{const t=ru(),[e,n]=b.useState([]);b.useEffect(()=>{(async()=>{const{data:i,error:o}=await xe.from("articles").select("*").order("created_at",{ascending:!1});if(o){console.error("Error fetching articles:",o);return}if(i){const a=i.map(l=>({id:l.id,title:l.title,excerpt:l.excerpt||"",content:l.content||"",author:l.author||"",date:new Date(l.created_at).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),category:l.category||"",imageUrl:l.image_url||void 0,readTime:l.read_time||"",mediaUrls:l.media_urls||void 0}));n(a)}})()},[]);const r=s=>{t(`/article/${s}`)};return p.jsxs("div",{className:"min-h-screen bg-background",children:[p.jsx(ua,{}),p.jsxs("main",{children:[p.jsx(q$,{}),p.jsx(Y$,{articles:e,onReadArticle:r})]}),p.jsx(da,{})]})},gF="/excomag/assets/african-diversity-DoiB04XT.jpg",yF="/excomag/assets/african-innovation-Cs-rC7ET.jpg",vF="/excomag/assets/african-heritage-business-Di34vs2O.jpg",wF=()=>{const t=[{name:"Growth & Strategy",icon:fI,description:"Strategic insights and growth tactics for emerging businesses"},{name:"Funding & Finance",icon:dI,description:"Investment opportunities, funding strategies, and financial planning"},{name:"Tools & Tech",icon:eI,description:"Latest technologies and digital tools for African entrepreneurs"},{name:"Policy & Ecosystem",icon:Gj,description:"Business environment, regulations, and ecosystem developments"},{name:"Emerging Trailblazers",icon:gI,description:"Profiles of innovative entrepreneurs and rising business leaders"},{name:"Voices & Opinions",icon:gC,description:"Expert perspectives and thought leadership from industry leaders"}];return p.jsxs("div",{className:"min-h-screen bg-background",children:[p.jsx(ua,{}),p.jsxs("main",{className:"container mx-auto px-4 py-12",children:[p.jsxs("div",{className:"text-center mb-16",children:[p.jsx("div",{className:"hero-gradient text-transparent bg-clip-text mb-6",children:p.jsx("h1",{className:"text-4xl md:text-6xl font-bold",children:"EXCOMAG."})}),p.jsx("p",{className:"text-xl text-muted-foreground max-w-3xl mx-auto",children:"A digital-first business media platform spotlighting Africa's most promising emerging businesses"}),p.jsx("div",{className:"mt-12 rounded-lg overflow-hidden shadow-2xl",children:p.jsx("img",{src:gF,alt:"African cultural diversity and entrepreneurship",className:"w-full h-auto object-cover max-w-full",loading:"lazy"})})]}),p.jsxs("div",{className:"mb-16",children:[p.jsx("div",{className:"text-center mb-12",children:p.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-primary mb-4",children:"ABOUT."})}),p.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-center mb-16",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"text-2xl font-bold text-primary mb-6",children:"Our Story"}),p.jsx("p",{className:"text-muted-foreground mb-6 leading-relaxed",children:"ExcoMag Africa is a digital-first business media platform spotlighting the continent's most promising emerging businesses from bold startups to grassroots innovators and creative entrepreneurs."}),p.jsx("p",{className:"text-muted-foreground mb-6 leading-relaxed",children:"Our platform has evolved into a pan-African hub that blends powerful storytelling with actionable tools, tech, and insights for Africa's next generation of founders."}),p.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"We go beyond headlines giving entrepreneurs across the continent a voice, a stage, and a toolkit to grow, connect, and lead."})]}),p.jsxs("div",{className:"space-y-6",children:[p.jsx(Gr,{className:"card-shadow",children:p.jsxs(Jr,{className:"p-8",children:[p.jsx("h3",{className:"text-2xl font-bold text-primary mb-6",children:"Our Mission"}),p.jsx("p",{className:"text-lg text-foreground mb-4 leading-relaxed",children:"To inspire and equip Africa's emerging business leaders through storytelling, smart tools, and community."}),p.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"At ExcoMag Africa, we cover the stories, tools, and shifts shaping the future of African enterprise. Whether you're building a business from your bedroom or scaling across borders, our content is built for you  the emerging founder, the side hustler."})]})}),p.jsx("div",{className:"rounded-lg overflow-hidden shadow-lg",children:p.jsx("img",{src:vF,alt:"African heritage and modern business innovation",className:"w-full h-auto object-cover max-w-full",loading:"lazy"})})]})]}),p.jsx("div",{className:"mb-16 rounded-lg overflow-hidden shadow-2xl",children:p.jsx("img",{src:yF,alt:"African innovation and entrepreneurship ecosystem",className:"w-full h-auto object-cover max-w-full",loading:"lazy"})})]}),p.jsxs("div",{className:"mb-16",children:[p.jsxs("div",{className:"text-center mb-12",children:[p.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-primary mb-4",children:"Explore by Category."}),p.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Discover content tailored to your entrepreneurial journey across these key areas"})]}),p.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map((e,n)=>{const r=e.icon;return p.jsx(Gr,{className:"card-shadow hover:shadow-lg transition-all duration-300 group cursor-pointer",children:p.jsx(Jr,{className:"p-6",children:p.jsxs("div",{className:"flex items-start space-x-4",children:[p.jsx("div",{className:"p-3 rounded-lg bg-primary/10 group-hover:bg-primary/20 transition-colors",children:p.jsx(r,{className:"h-6 w-6 text-primary"})}),p.jsxs("div",{className:"flex-1",children:[p.jsx("h3",{className:"font-bold text-lg text-foreground mb-2 group-hover:text-primary transition-colors",children:e.name}),p.jsx("p",{className:"text-muted-foreground text-sm leading-relaxed",children:e.description})]})]})})},n)})})]}),p.jsxs("div",{className:"text-center bg-card p-12 rounded-lg card-shadow",children:[p.jsx("h2",{className:"text-2xl font-bold text-primary mb-4",children:"Ready to Join Africa's Entrepreneurial Movement?"}),p.jsx("p",{className:"text-muted-foreground mb-6 max-w-2xl mx-auto",children:"Stay updated with the latest stories, insights, and tools that are shaping the future of African business."}),p.jsx("div",{className:"flex flex-wrap justify-center gap-2",children:t.map((e,n)=>p.jsx(_c,{variant:"secondary",className:"text-sm",children:e.name},n))})]})]}),p.jsx(da,{})]})},xF=()=>{const{id:t}=v$(),e=ru(),[n,r]=b.useState(null),[s,i]=b.useState(!0);if(b.useEffect(()=>{(async()=>{if(!t)return;const{data:l,error:c}=await xe.from("articles").select("*").eq("id",t).single();if(c||!l){i(!1);return}const u={id:l.id,title:l.title,excerpt:l.excerpt||"",content:l.content||"",author:l.author||"",date:new Date(l.created_at).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),category:l.category||"",imageUrl:l.image_url||void 0,readTime:l.read_time||"",mediaUrls:l.media_urls||void 0};r(u),i(!1)})()},[t]),s)return p.jsxs("div",{className:"min-h-screen bg-background",children:[p.jsx(ua,{}),p.jsx("main",{className:"container mx-auto px-4 py-16",children:p.jsx("div",{className:"text-center",children:p.jsx("h1",{className:"text-2xl font-semibold mb-4",children:"Loading..."})})}),p.jsx(da,{})]});if(!n)return p.jsxs("div",{className:"min-h-screen bg-background",children:[p.jsx(ua,{}),p.jsx("main",{className:"container mx-auto px-4 py-16",children:p.jsxs("div",{className:"text-center",children:[p.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Article Not Found"}),p.jsx(pe,{onClick:()=>e("/"),children:"Return Home"})]})}),p.jsx(da,{})]});const o=()=>{const a=n.content||"";if(/<\/?[a-z][\s\S]*>/i.test(a.trim()))return a;let c=a;const u=m=>/(\.png|\.jpg|\.jpeg|\.gif|\.webp|\.avif)$/i.test(m),d=m=>/(\.mp4|\.webm|\.ogg|\.mov|\.m4v)$/i.test(m);c=c.replace(/\[IMAGE:(\d+)\]/g,(m,g)=>{var w;const y=parseInt(g,10),v=(w=n.mediaUrls)==null?void 0:w[y];return v?`<img src="${v}" alt="Article media ${y+1}" class="w-full max-w-3xl h-auto rounded-lg my-4 mx-auto block" loading="lazy" />`:""}),c=c.replace(/\[VIDEO:(\d+)\]/g,(m,g)=>{var w;const y=parseInt(g,10),v=(w=n.mediaUrls)==null?void 0:w[y];return v?`<video controls preload="metadata" class="w-full max-w-3xl rounded-lg my-4 mx-auto block"><source src="${v}" /></video>`:""});let f=0;return c=c.replace(/\[(IMAGE|VIDEO):\s*([^\]]*)\]/gi,(m,g)=>{var v;const y=(v=n.mediaUrls)==null?void 0:v[f++];return y?g.toUpperCase()==="IMAGE"||u(y)?`<img src="${y}" alt="Article media" class="w-full max-w-3xl h-auto rounded-lg my-4 mx-auto block" loading="lazy" />`:`<video controls preload="metadata" class="w-full max-w-3xl rounded-lg my-4 mx-auto block"><source src="${y}" /></video>`:""}),c=c.replace(/(https?:\/\/[^\s<]+[^\s<\.)])/g,m=>u(m)?`<img src="${m}" alt="Article image" class="w-full max-w-3xl h-auto rounded-lg my-4 mx-auto block" loading="lazy" />`:d(m)?`<video controls preload="metadata" class="w-full max-w-3xl rounded-lg my-4 mx-auto block"><source src="${m}" /></video>`:`<a href="${m}" target="_blank" rel="noopener noreferrer" class="underline">${m}</a>`),c.split(/\n{2,}/).map(m=>m.trim()).filter(Boolean).map(m=>m.startsWith("<")?m:`<p>${m.replace(/\n/g,"<br/>")}</p>`).join(`

`)};return p.jsxs("div",{className:"min-h-screen bg-background",children:[p.jsx(ua,{}),p.jsx("main",{className:"container mx-auto px-4 py-8",children:p.jsxs("article",{className:"max-w-4xl mx-auto",children:[p.jsxs(pe,{variant:"ghost",onClick:()=>e("/"),className:"mb-6",children:[p.jsx(fC,{className:"h-4 w-4 mr-2"}),"Back to Articles"]}),p.jsxs("header",{className:"mb-8",children:[p.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[p.jsx(_c,{variant:"secondary",className:"bg-accent text-accent-foreground",children:n.category}),p.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[p.jsx(Kj,{className:"h-4 w-4 mr-1"}),n.readTime]})]}),p.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-6 leading-tight",children:n.title}),p.jsxs("div",{className:"flex items-center gap-6 text-muted-foreground mb-6",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(ja,{className:"h-5 w-5"}),p.jsx("span",{className:"font-medium",children:n.author})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(hC,{className:"h-5 w-5"}),p.jsx("span",{children:n.date})]})]}),n.excerpt&&p.jsx("p",{className:"text-xl text-muted-foreground leading-relaxed border-l-4 border-accent pl-6 py-2",children:n.excerpt})]}),n.imageUrl&&p.jsx("div",{className:"mb-8 rounded-lg overflow-hidden shadow-xl",children:p.jsx("img",{src:n.imageUrl,alt:n.title,className:"w-full h-auto object-cover max-w-full",loading:"lazy"})}),p.jsx("div",{className:"prose prose-lg max-w-none dark:prose-invert prose-img:rounded-lg prose-img:mx-auto prose-img:my-4 prose-video:rounded-lg prose-video:mx-auto prose-video:my-4 prose-img:max-w-3xl prose-video:max-w-3xl",dangerouslySetInnerHTML:{__html:o()}}),p.jsx("footer",{className:"mt-12 pt-8 border-t border-border",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Written by"}),p.jsx("p",{className:"font-semibold text-lg",children:n.author})]}),p.jsx(pe,{onClick:()=>e("/"),children:"Back to Articles"})]})})]})}),p.jsx(da,{})]})};var bF="Label",W_=b.forwardRef((t,e)=>p.jsx(ge.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));W_.displayName=bF;var K_=W_;const kF=xh("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ie=b.forwardRef(({className:t,...e},n)=>p.jsx(K_,{ref:n,className:ke(kF(),t),...e}));Ie.displayName=K_.displayName;const Ih=b.forwardRef(({className:t,...e},n)=>p.jsx("textarea",{className:ke("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));Ih.displayName="Textarea";var Te;(function(t){t.assertEqual=s=>{};function e(s){}t.assertIs=e;function n(s){throw new Error}t.assertNever=n,t.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},t.getValidEnumValues=s=>{const i=t.objectKeys(s).filter(a=>typeof s[s[a]]!="number"),o={};for(const a of i)o[a]=s[a];return t.objectValues(o)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},t.find=(s,i)=>{for(const o of s)if(i(o))return o},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function r(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}t.joinValues=r,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(Te||(Te={}));var xb;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(xb||(xb={}));const K=Te.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),gs=t=>{switch(typeof t){case"undefined":return K.undefined;case"string":return K.string;case"number":return Number.isNaN(t)?K.nan:K.number;case"boolean":return K.boolean;case"function":return K.function;case"bigint":return K.bigint;case"symbol":return K.symbol;case"object":return Array.isArray(t)?K.array:t===null?K.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?K.promise:typeof Map<"u"&&t instanceof Map?K.map:typeof Set<"u"&&t instanceof Set?K.set:typeof Date<"u"&&t instanceof Date?K.date:K.object;default:return K.unknown}},$=Te.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class br extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(i){return i.message},r={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let a=r,l=0;for(;l<o.path.length;){const c=o.path[l];l===o.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(n(o))):a[c]=a[c]||{_errors:[]},a=a[c],l++}}};return s(this),r}static assert(e){if(!(e instanceof br))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Te.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const s of this.issues)if(s.path.length>0){const i=s.path[0];n[i]=n[i]||[],n[i].push(e(s))}else r.push(e(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}br.create=t=>new br(t);const Qg=(t,e)=>{let n;switch(t.code){case $.invalid_type:t.received===K.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case $.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,Te.jsonStringifyReplacer)}`;break;case $.unrecognized_keys:n=`Unrecognized key(s) in object: ${Te.joinValues(t.keys,", ")}`;break;case $.invalid_union:n="Invalid input";break;case $.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Te.joinValues(t.options)}`;break;case $.invalid_enum_value:n=`Invalid enum value. Expected ${Te.joinValues(t.options)}, received '${t.received}'`;break;case $.invalid_arguments:n="Invalid function arguments";break;case $.invalid_return_type:n="Invalid function return type";break;case $.invalid_date:n="Invalid date";break;case $.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:Te.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case $.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case $.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case $.custom:n="Invalid input";break;case $.invalid_intersection_types:n="Intersection results could not be merged";break;case $.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case $.not_finite:n="Number must be finite";break;default:n=e.defaultError,Te.assertNever(t)}return{message:n}};let SF=Qg;function EF(){return SF}const CF=t=>{const{data:e,path:n,errorMaps:r,issueData:s}=t,i=[...n,...s.path||[]],o={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let a="";const l=r.filter(c=>!!c).slice().reverse();for(const c of l)a=c(o,{data:e,defaultError:a}).message;return{...s,path:i,message:a}};function V(t,e){const n=EF(),r=CF({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===Qg?void 0:Qg].filter(s=>!!s)});t.common.issues.push(r)}class hn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const s of n){if(s.status==="aborted")return re;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const s of n){const i=await s.key,o=await s.value;r.push({key:i,value:o})}return hn.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const s of n){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return re;i.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(r[i.value]=o.value)}return{status:e.value,value:r}}}const re=Object.freeze({status:"aborted"}),Nl=t=>({status:"dirty",value:t}),jn=t=>({status:"valid",value:t}),bb=t=>t.status==="aborted",kb=t=>t.status==="dirty",Fa=t=>t.status==="valid",sf=t=>typeof Promise<"u"&&t instanceof Promise;var G;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(G||(G={}));class ri{constructor(e,n,r,s){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Sb=(t,e)=>{if(Fa(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new br(t.common.issues);return this._error=n,this._error}}};function ye(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:s}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(o,a)=>{const{message:l}=t;return o.code==="invalid_enum_value"?{message:l??a.defaultError}:typeof a.data>"u"?{message:l??r??a.defaultError}:o.code!=="invalid_type"?{message:a.defaultError}:{message:l??n??a.defaultError}},description:s}}class Ee{get description(){return this._def.description}_getType(e){return gs(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:gs(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new hn,ctx:{common:e.parent.common,data:e.data,parsedType:gs(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(sf(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){const r={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:gs(e)},s=this._parseSync({data:e,path:r.path,parent:r});return Sb(r,s)}"~validate"(e){var r,s;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:gs(e)};if(!this["~standard"].async)try{const i=this._parseSync({data:e,path:[],parent:n});return Fa(i)?{value:i.value}:{issues:n.common.issues}}catch(i){(s=(r=i==null?void 0:i.message)==null?void 0:r.toLowerCase())!=null&&s.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(i=>Fa(i)?{value:i.value}:{issues:n.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:gs(e)},s=this._parse({data:e,path:r.path,parent:r}),i=await(sf(s)?s:Promise.resolve(s));return Sb(r,i)}refine(e,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,i)=>{const o=e(s),a=()=>i.addIssue({code:$.custom,...r(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(l=>l?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,n){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(e){return new Ba({schema:this,typeName:se.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return qs.create(this,this._def)}nullable(){return Ua.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return wr.create(this)}promise(){return cf.create(this,this._def)}or(e){return af.create([this,e],this._def)}and(e){return lf.create(this,e,this._def)}transform(e){return new Ba({...ye(this._def),schema:this,typeName:se.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new Zg({...ye(this._def),innerType:this,defaultValue:n,typeName:se.ZodDefault})}brand(){return new GF({typeName:se.ZodBranded,type:this,...ye(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new Xg({...ye(this._def),innerType:this,catchValue:n,typeName:se.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return d0.create(this,e)}readonly(){return ey.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const _F=/^c[^\s-]{8,}$/i,TF=/^[0-9a-z]+$/,NF=/^[0-9A-HJKMNP-TV-Z]{26}$/i,AF=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,OF=/^[a-z0-9_-]{21}$/i,PF=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,RF=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,MF=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,jF="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Jp;const IF=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,DF=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,LF=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,$F=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,FF=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,zF=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,q_="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",BF=new RegExp(`^${q_}$`);function G_(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function UF(t){return new RegExp(`^${G_(t)}$`)}function VF(t){let e=`${q_}T${G_(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function HF(t,e){return!!((e==="v4"||!e)&&IF.test(t)||(e==="v6"||!e)&&LF.test(t))}function WF(t,e){if(!PF.test(t))return!1;try{const[n]=t.split(".");if(!n)return!1;const r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),s=JSON.parse(atob(r));return!(typeof s!="object"||s===null||"typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||e&&s.alg!==e)}catch{return!1}}function KF(t,e){return!!((e==="v4"||!e)&&DF.test(t)||(e==="v6"||!e)&&$F.test(t))}class Ms extends Ee{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==K.string){const i=this._getOrReturnCtx(e);return V(i,{code:$.invalid_type,expected:K.string,received:i.parsedType}),re}const r=new hn;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),V(s,{code:$.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),V(s,{code:$.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const o=e.data.length>i.value,a=e.data.length<i.value;(o||a)&&(s=this._getOrReturnCtx(e,s),o?V(s,{code:$.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):a&&V(s,{code:$.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")MF.test(e.data)||(s=this._getOrReturnCtx(e,s),V(s,{validation:"email",code:$.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")Jp||(Jp=new RegExp(jF,"u")),Jp.test(e.data)||(s=this._getOrReturnCtx(e,s),V(s,{validation:"emoji",code:$.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")AF.test(e.data)||(s=this._getOrReturnCtx(e,s),V(s,{validation:"uuid",code:$.invalid_string,message:i.message}),r.dirty());else if(i.kind==="nanoid")OF.test(e.data)||(s=this._getOrReturnCtx(e,s),V(s,{validation:"nanoid",code:$.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")_F.test(e.data)||(s=this._getOrReturnCtx(e,s),V(s,{validation:"cuid",code:$.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")TF.test(e.data)||(s=this._getOrReturnCtx(e,s),V(s,{validation:"cuid2",code:$.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")NF.test(e.data)||(s=this._getOrReturnCtx(e,s),V(s,{validation:"ulid",code:$.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),V(s,{validation:"url",code:$.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),V(s,{validation:"regex",code:$.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),V(s,{code:$.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),V(s,{code:$.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),V(s,{code:$.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?VF(i).test(e.data)||(s=this._getOrReturnCtx(e,s),V(s,{code:$.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="date"?BF.test(e.data)||(s=this._getOrReturnCtx(e,s),V(s,{code:$.invalid_string,validation:"date",message:i.message}),r.dirty()):i.kind==="time"?UF(i).test(e.data)||(s=this._getOrReturnCtx(e,s),V(s,{code:$.invalid_string,validation:"time",message:i.message}),r.dirty()):i.kind==="duration"?RF.test(e.data)||(s=this._getOrReturnCtx(e,s),V(s,{validation:"duration",code:$.invalid_string,message:i.message}),r.dirty()):i.kind==="ip"?HF(e.data,i.version)||(s=this._getOrReturnCtx(e,s),V(s,{validation:"ip",code:$.invalid_string,message:i.message}),r.dirty()):i.kind==="jwt"?WF(e.data,i.alg)||(s=this._getOrReturnCtx(e,s),V(s,{validation:"jwt",code:$.invalid_string,message:i.message}),r.dirty()):i.kind==="cidr"?KF(e.data,i.version)||(s=this._getOrReturnCtx(e,s),V(s,{validation:"cidr",code:$.invalid_string,message:i.message}),r.dirty()):i.kind==="base64"?FF.test(e.data)||(s=this._getOrReturnCtx(e,s),V(s,{validation:"base64",code:$.invalid_string,message:i.message}),r.dirty()):i.kind==="base64url"?zF.test(e.data)||(s=this._getOrReturnCtx(e,s),V(s,{validation:"base64url",code:$.invalid_string,message:i.message}),r.dirty()):Te.assertNever(i);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(s=>e.test(s),{validation:n,code:$.invalid_string,...G.errToObj(r)})}_addCheck(e){return new Ms({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...G.errToObj(e)})}url(e){return this._addCheck({kind:"url",...G.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...G.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...G.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...G.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...G.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...G.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...G.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...G.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...G.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...G.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...G.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...G.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...G.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...G.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...G.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...G.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...G.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...G.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...G.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...G.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...G.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...G.errToObj(n)})}nonempty(e){return this.min(1,G.errToObj(e))}trim(){return new Ms({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ms({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ms({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Ms.create=t=>new Ms({checks:[],typeName:se.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...ye(t)});function qF(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=n>r?n:r,i=Number.parseInt(t.toFixed(s).replace(".","")),o=Number.parseInt(e.toFixed(s).replace(".",""));return i%o/10**s}class Nc extends Ee{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==K.number){const i=this._getOrReturnCtx(e);return V(i,{code:$.invalid_type,expected:K.number,received:i.parsedType}),re}let r;const s=new hn;for(const i of this._def.checks)i.kind==="int"?Te.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),V(r,{code:$.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),V(r,{code:$.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),V(r,{code:$.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?qF(e.data,i.value)!==0&&(r=this._getOrReturnCtx(e,r),V(r,{code:$.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),V(r,{code:$.not_finite,message:i.message}),s.dirty()):Te.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,G.toString(n))}gt(e,n){return this.setLimit("min",e,!1,G.toString(n))}lte(e,n){return this.setLimit("max",e,!0,G.toString(n))}lt(e,n){return this.setLimit("max",e,!1,G.toString(n))}setLimit(e,n,r,s){return new Nc({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:G.toString(s)}]})}_addCheck(e){return new Nc({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:G.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:G.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:G.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:G.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:G.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:G.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:G.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:G.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:G.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Te.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Nc.create=t=>new Nc({checks:[],typeName:se.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...ye(t)});class Ac extends Ee{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==K.bigint)return this._getInvalidInput(e);let r;const s=new hn;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),V(r,{code:$.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),V(r,{code:$.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),V(r,{code:$.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):Te.assertNever(i);return{status:s.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return V(n,{code:$.invalid_type,expected:K.bigint,received:n.parsedType}),re}gte(e,n){return this.setLimit("min",e,!0,G.toString(n))}gt(e,n){return this.setLimit("min",e,!1,G.toString(n))}lte(e,n){return this.setLimit("max",e,!0,G.toString(n))}lt(e,n){return this.setLimit("max",e,!1,G.toString(n))}setLimit(e,n,r,s){return new Ac({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:G.toString(s)}]})}_addCheck(e){return new Ac({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:G.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:G.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:G.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:G.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:G.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Ac.create=t=>new Ac({checks:[],typeName:se.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...ye(t)});class Eb extends Ee{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==K.boolean){const r=this._getOrReturnCtx(e);return V(r,{code:$.invalid_type,expected:K.boolean,received:r.parsedType}),re}return jn(e.data)}}Eb.create=t=>new Eb({typeName:se.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...ye(t)});class of extends Ee{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==K.date){const i=this._getOrReturnCtx(e);return V(i,{code:$.invalid_type,expected:K.date,received:i.parsedType}),re}if(Number.isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return V(i,{code:$.invalid_date}),re}const r=new hn;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),V(s,{code:$.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),V(s,{code:$.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):Te.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new of({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:G.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:G.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}of.create=t=>new of({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:se.ZodDate,...ye(t)});class Cb extends Ee{_parse(e){if(this._getType(e)!==K.symbol){const r=this._getOrReturnCtx(e);return V(r,{code:$.invalid_type,expected:K.symbol,received:r.parsedType}),re}return jn(e.data)}}Cb.create=t=>new Cb({typeName:se.ZodSymbol,...ye(t)});class _b extends Ee{_parse(e){if(this._getType(e)!==K.undefined){const r=this._getOrReturnCtx(e);return V(r,{code:$.invalid_type,expected:K.undefined,received:r.parsedType}),re}return jn(e.data)}}_b.create=t=>new _b({typeName:se.ZodUndefined,...ye(t)});class Tb extends Ee{_parse(e){if(this._getType(e)!==K.null){const r=this._getOrReturnCtx(e);return V(r,{code:$.invalid_type,expected:K.null,received:r.parsedType}),re}return jn(e.data)}}Tb.create=t=>new Tb({typeName:se.ZodNull,...ye(t)});class Nb extends Ee{constructor(){super(...arguments),this._any=!0}_parse(e){return jn(e.data)}}Nb.create=t=>new Nb({typeName:se.ZodAny,...ye(t)});class Ab extends Ee{constructor(){super(...arguments),this._unknown=!0}_parse(e){return jn(e.data)}}Ab.create=t=>new Ab({typeName:se.ZodUnknown,...ye(t)});class si extends Ee{_parse(e){const n=this._getOrReturnCtx(e);return V(n,{code:$.invalid_type,expected:K.never,received:n.parsedType}),re}}si.create=t=>new si({typeName:se.ZodNever,...ye(t)});class Ob extends Ee{_parse(e){if(this._getType(e)!==K.undefined){const r=this._getOrReturnCtx(e);return V(r,{code:$.invalid_type,expected:K.void,received:r.parsedType}),re}return jn(e.data)}}Ob.create=t=>new Ob({typeName:se.ZodVoid,...ye(t)});class wr extends Ee{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),s=this._def;if(n.parsedType!==K.array)return V(n,{code:$.invalid_type,expected:K.array,received:n.parsedType}),re;if(s.exactLength!==null){const o=n.data.length>s.exactLength.value,a=n.data.length<s.exactLength.value;(o||a)&&(V(n,{code:o?$.too_big:$.too_small,minimum:a?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(V(n,{code:$.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(V(n,{code:$.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,a)=>s.type._parseAsync(new ri(n,o,n.path,a)))).then(o=>hn.mergeArray(r,o));const i=[...n.data].map((o,a)=>s.type._parseSync(new ri(n,o,n.path,a)));return hn.mergeArray(r,i)}get element(){return this._def.type}min(e,n){return new wr({...this._def,minLength:{value:e,message:G.toString(n)}})}max(e,n){return new wr({...this._def,maxLength:{value:e,message:G.toString(n)}})}length(e,n){return new wr({...this._def,exactLength:{value:e,message:G.toString(n)}})}nonempty(e){return this.min(1,e)}}wr.create=(t,e)=>new wr({type:t,minLength:null,maxLength:null,exactLength:null,typeName:se.ZodArray,...ye(e)});function $o(t){if(t instanceof Xe){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=qs.create($o(r))}return new Xe({...t._def,shape:()=>e})}else return t instanceof wr?new wr({...t._def,type:$o(t.element)}):t instanceof qs?qs.create($o(t.unwrap())):t instanceof Ua?Ua.create($o(t.unwrap())):t instanceof ro?ro.create(t.items.map(e=>$o(e))):t}class Xe extends Ee{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=Te.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==K.object){const c=this._getOrReturnCtx(e);return V(c,{code:$.invalid_type,expected:K.object,received:c.parsedType}),re}const{status:r,ctx:s}=this._processInputParams(e),{shape:i,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof si&&this._def.unknownKeys==="strip"))for(const c in s.data)o.includes(c)||a.push(c);const l=[];for(const c of o){const u=i[c],d=s.data[c];l.push({key:{status:"valid",value:c},value:u._parse(new ri(s,d,s.path,c)),alwaysSet:c in s.data})}if(this._def.catchall instanceof si){const c=this._def.unknownKeys;if(c==="passthrough")for(const u of a)l.push({key:{status:"valid",value:u},value:{status:"valid",value:s.data[u]}});else if(c==="strict")a.length>0&&(V(s,{code:$.unrecognized_keys,keys:a}),r.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const u of a){const d=s.data[u];l.push({key:{status:"valid",value:u},value:c._parse(new ri(s,d,s.path,u)),alwaysSet:u in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const c=[];for(const u of l){const d=await u.key,f=await u.value;c.push({key:d,value:f,alwaysSet:u.alwaysSet})}return c}).then(c=>hn.mergeObjectSync(r,c)):hn.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(e){return G.errToObj,new Xe({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var i,o;const s=((o=(i=this._def).errorMap)==null?void 0:o.call(i,n,r).message)??r.defaultError;return n.code==="unrecognized_keys"?{message:G.errToObj(e).message??s}:{message:s}}}:{}})}strip(){return new Xe({...this._def,unknownKeys:"strip"})}passthrough(){return new Xe({...this._def,unknownKeys:"passthrough"})}extend(e){return new Xe({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Xe({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:se.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new Xe({...this._def,catchall:e})}pick(e){const n={};for(const r of Te.objectKeys(e))e[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new Xe({...this._def,shape:()=>n})}omit(e){const n={};for(const r of Te.objectKeys(this.shape))e[r]||(n[r]=this.shape[r]);return new Xe({...this._def,shape:()=>n})}deepPartial(){return $o(this)}partial(e){const n={};for(const r of Te.objectKeys(this.shape)){const s=this.shape[r];e&&!e[r]?n[r]=s:n[r]=s.optional()}return new Xe({...this._def,shape:()=>n})}required(e){const n={};for(const r of Te.objectKeys(this.shape))if(e&&!e[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof qs;)i=i._def.innerType;n[r]=i}return new Xe({...this._def,shape:()=>n})}keyof(){return J_(Te.objectKeys(this.shape))}}Xe.create=(t,e)=>new Xe({shape:()=>t,unknownKeys:"strip",catchall:si.create(),typeName:se.ZodObject,...ye(e)});Xe.strictCreate=(t,e)=>new Xe({shape:()=>t,unknownKeys:"strict",catchall:si.create(),typeName:se.ZodObject,...ye(e)});Xe.lazycreate=(t,e)=>new Xe({shape:t,unknownKeys:"strip",catchall:si.create(),typeName:se.ZodObject,...ye(e)});class af extends Ee{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function s(i){for(const a of i)if(a.result.status==="valid")return a.result;for(const a of i)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const o=i.map(a=>new br(a.ctx.common.issues));return V(n,{code:$.invalid_union,unionErrors:o}),re}if(n.common.async)return Promise.all(r.map(async i=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const l of r){const c={...n,common:{...n.common,issues:[]},parent:null},u=l._parseSync({data:n.data,path:n.path,parent:c});if(u.status==="valid")return u;u.status==="dirty"&&!i&&(i={result:u,ctx:c}),c.common.issues.length&&o.push(c.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const a=o.map(l=>new br(l));return V(n,{code:$.invalid_union,unionErrors:a}),re}}get options(){return this._def.options}}af.create=(t,e)=>new af({options:t,typeName:se.ZodUnion,...ye(e)});function Yg(t,e){const n=gs(t),r=gs(e);if(t===e)return{valid:!0,data:t};if(n===K.object&&r===K.object){const s=Te.objectKeys(e),i=Te.objectKeys(t).filter(a=>s.indexOf(a)!==-1),o={...t,...e};for(const a of i){const l=Yg(t[a],e[a]);if(!l.valid)return{valid:!1};o[a]=l.data}return{valid:!0,data:o}}else if(n===K.array&&r===K.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<t.length;i++){const o=t[i],a=e[i],l=Yg(o,a);if(!l.valid)return{valid:!1};s.push(l.data)}return{valid:!0,data:s}}else return n===K.date&&r===K.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class lf extends Ee{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=(i,o)=>{if(bb(i)||bb(o))return re;const a=Yg(i.value,o.value);return a.valid?((kb(i)||kb(o))&&n.dirty(),{status:n.value,value:a.data}):(V(r,{code:$.invalid_intersection_types}),re)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}lf.create=(t,e,n)=>new lf({left:t,right:e,typeName:se.ZodIntersection,...ye(n)});class ro extends Ee{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==K.array)return V(r,{code:$.invalid_type,expected:K.array,received:r.parsedType}),re;if(r.data.length<this._def.items.length)return V(r,{code:$.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),re;!this._def.rest&&r.data.length>this._def.items.length&&(V(r,{code:$.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((o,a)=>{const l=this._def.items[a]||this._def.rest;return l?l._parse(new ri(r,o,r.path,a)):null}).filter(o=>!!o);return r.common.async?Promise.all(i).then(o=>hn.mergeArray(n,o)):hn.mergeArray(n,i)}get items(){return this._def.items}rest(e){return new ro({...this._def,rest:e})}}ro.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ro({items:t,typeName:se.ZodTuple,rest:null,...ye(e)})};class Pb extends Ee{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==K.map)return V(r,{code:$.invalid_type,expected:K.map,received:r.parsedType}),re;const s=this._def.keyType,i=this._def.valueType,o=[...r.data.entries()].map(([a,l],c)=>({key:s._parse(new ri(r,a,r.path,[c,"key"])),value:i._parse(new ri(r,l,r.path,[c,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const l of o){const c=await l.key,u=await l.value;if(c.status==="aborted"||u.status==="aborted")return re;(c.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(c.value,u.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const l of o){const c=l.key,u=l.value;if(c.status==="aborted"||u.status==="aborted")return re;(c.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(c.value,u.value)}return{status:n.value,value:a}}}}Pb.create=(t,e,n)=>new Pb({valueType:e,keyType:t,typeName:se.ZodMap,...ye(n)});class Oc extends Ee{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==K.set)return V(r,{code:$.invalid_type,expected:K.set,received:r.parsedType}),re;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(V(r,{code:$.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(V(r,{code:$.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const i=this._def.valueType;function o(l){const c=new Set;for(const u of l){if(u.status==="aborted")return re;u.status==="dirty"&&n.dirty(),c.add(u.value)}return{status:n.value,value:c}}const a=[...r.data.values()].map((l,c)=>i._parse(new ri(r,l,r.path,c)));return r.common.async?Promise.all(a).then(l=>o(l)):o(a)}min(e,n){return new Oc({...this._def,minSize:{value:e,message:G.toString(n)}})}max(e,n){return new Oc({...this._def,maxSize:{value:e,message:G.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}Oc.create=(t,e)=>new Oc({valueType:t,minSize:null,maxSize:null,typeName:se.ZodSet,...ye(e)});class Rb extends Ee{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Rb.create=(t,e)=>new Rb({getter:t,typeName:se.ZodLazy,...ye(e)});class Mb extends Ee{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return V(n,{received:n.data,code:$.invalid_literal,expected:this._def.value}),re}return{status:"valid",value:e.data}}get value(){return this._def.value}}Mb.create=(t,e)=>new Mb({value:t,typeName:se.ZodLiteral,...ye(e)});function J_(t,e){return new za({values:t,typeName:se.ZodEnum,...ye(e)})}class za extends Ee{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return V(n,{expected:Te.joinValues(r),received:n.parsedType,code:$.invalid_type}),re}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return V(n,{received:n.data,code:$.invalid_enum_value,options:r}),re}return jn(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return za.create(e,{...this._def,...n})}exclude(e,n=this._def){return za.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}za.create=J_;class jb extends Ee{_parse(e){const n=Te.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==K.string&&r.parsedType!==K.number){const s=Te.objectValues(n);return V(r,{expected:Te.joinValues(s),received:r.parsedType,code:$.invalid_type}),re}if(this._cache||(this._cache=new Set(Te.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const s=Te.objectValues(n);return V(r,{received:r.data,code:$.invalid_enum_value,options:s}),re}return jn(e.data)}get enum(){return this._def.values}}jb.create=(t,e)=>new jb({values:t,typeName:se.ZodNativeEnum,...ye(e)});class cf extends Ee{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==K.promise&&n.common.async===!1)return V(n,{code:$.invalid_type,expected:K.promise,received:n.parsedType}),re;const r=n.parsedType===K.promise?n.data:Promise.resolve(n.data);return jn(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}cf.create=(t,e)=>new cf({type:t,typeName:se.ZodPromise,...ye(e)});class Ba extends Ee{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===se.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:o=>{V(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const o=s.transform(r.data,i);if(r.common.async)return Promise.resolve(o).then(async a=>{if(n.value==="aborted")return re;const l=await this._def.schema._parseAsync({data:a,path:r.path,parent:r});return l.status==="aborted"?re:l.status==="dirty"||n.value==="dirty"?Nl(l.value):l});{if(n.value==="aborted")return re;const a=this._def.schema._parseSync({data:o,path:r.path,parent:r});return a.status==="aborted"?re:a.status==="dirty"||n.value==="dirty"?Nl(a.value):a}}if(s.type==="refinement"){const o=a=>{const l=s.refinement(a,i);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?re:(a.status==="dirty"&&n.dirty(),o(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?re:(a.status==="dirty"&&n.dirty(),o(a.value).then(()=>({status:n.value,value:a.value}))))}if(s.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Fa(o))return re;const a=s.transform(o.value,i);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>Fa(o)?Promise.resolve(s.transform(o.value,i)).then(a=>({status:n.value,value:a})):re);Te.assertNever(s)}}Ba.create=(t,e,n)=>new Ba({schema:t,typeName:se.ZodEffects,effect:e,...ye(n)});Ba.createWithPreprocess=(t,e,n)=>new Ba({schema:e,effect:{type:"preprocess",transform:t},typeName:se.ZodEffects,...ye(n)});class qs extends Ee{_parse(e){return this._getType(e)===K.undefined?jn(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}qs.create=(t,e)=>new qs({innerType:t,typeName:se.ZodOptional,...ye(e)});class Ua extends Ee{_parse(e){return this._getType(e)===K.null?jn(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ua.create=(t,e)=>new Ua({innerType:t,typeName:se.ZodNullable,...ye(e)});class Zg extends Ee{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===K.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Zg.create=(t,e)=>new Zg({innerType:t,typeName:se.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...ye(e)});class Xg extends Ee{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return sf(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new br(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new br(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Xg.create=(t,e)=>new Xg({innerType:t,typeName:se.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...ye(e)});class Ib extends Ee{_parse(e){if(this._getType(e)!==K.nan){const r=this._getOrReturnCtx(e);return V(r,{code:$.invalid_type,expected:K.nan,received:r.parsedType}),re}return{status:"valid",value:e.data}}}Ib.create=t=>new Ib({typeName:se.ZodNaN,...ye(t)});class GF extends Ee{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class d0 extends Ee{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?re:i.status==="dirty"?(n.dirty(),Nl(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?re:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(e,n){return new d0({in:e,out:n,typeName:se.ZodPipeline})}}class ey extends Ee{_parse(e){const n=this._def.innerType._parse(e),r=s=>(Fa(s)&&(s.value=Object.freeze(s.value)),s);return sf(n)?n.then(s=>r(s)):r(n)}unwrap(){return this._def.innerType}}ey.create=(t,e)=>new ey({innerType:t,typeName:se.ZodReadonly,...ye(e)});Xe.lazycreate;var se;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(se||(se={}));const zu=Ms.create;si.create;wr.create;const JF=Xe.create;Xe.strictCreate;af.create;lf.create;ro.create;za.create;cf.create;qs.create;Ua.create;const QF=JF({firstName:zu().trim().min(1,"First name is required").max(100),lastName:zu().trim().min(1,"Last name is required").max(100),email:zu().trim().email("Invalid email address").max(255),message:zu().trim().min(1,"Message is required").max(2e3)}),YF=()=>{const{toast:t}=DE(),[e,n]=b.useState(!1),[r,s]=b.useState({firstName:"",lastName:"",email:"",message:""}),i=async a=>{a.preventDefault(),n(!0);try{const l=QF.parse(r),{error:c}=await xe.functions.invoke("send-contact-email",{body:l});if(c)throw c;t({title:"Message sent!",description:"We'll get back to you as soon as possible."}),s({firstName:"",lastName:"",email:"",message:""})}catch(l){l instanceof br?t({title:"Validation error",description:l.errors[0].message,variant:"destructive"}):t({title:"Error",description:"Failed to send message. Please try again.",variant:"destructive"})}finally{n(!1)}},o=a=>{s(l=>({...l,[a.target.name]:a.target.value}))};return p.jsxs("div",{className:"min-h-screen flex flex-col",children:[p.jsx(ua,{}),p.jsx("main",{className:"flex-1 bg-background",children:p.jsx("section",{className:"py-20",children:p.jsxs("div",{className:"container mx-auto px-4 max-w-2xl",children:[p.jsxs("div",{className:"text-center mb-12",children:[p.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:"Get in Touch"}),p.jsx("p",{className:"text-muted-foreground text-lg",children:"Have a question or want to work together? We'd love to hear from you."})]}),p.jsx("div",{className:"bg-card card-shadow rounded-lg p-8",children:p.jsxs("form",{onSubmit:i,className:"space-y-6",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(Ie,{htmlFor:"firstName",children:p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(ja,{className:"h-4 w-4 text-accent"}),"First Name"]})}),p.jsx(nt,{id:"firstName",name:"firstName",type:"text",value:r.firstName,onChange:o,required:!0,placeholder:"John",maxLength:100})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(Ie,{htmlFor:"lastName",children:p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(ja,{className:"h-4 w-4 text-accent"}),"Last Name"]})}),p.jsx(nt,{id:"lastName",name:"lastName",type:"text",value:r.lastName,onChange:o,required:!0,placeholder:"Doe",maxLength:100})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(Ie,{htmlFor:"email",children:p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(Ma,{className:"h-4 w-4 text-accent"}),"Email Address"]})}),p.jsx(nt,{id:"email",name:"email",type:"email",value:r.email,onChange:o,required:!0,placeholder:"john.doe@example.com",maxLength:255})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(Ie,{htmlFor:"message",children:p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(gC,{className:"h-4 w-4 text-accent"}),"Message"]})}),p.jsx(Ih,{id:"message",name:"message",value:r.message,onChange:o,required:!0,placeholder:"Tell us what's on your mind...",className:"min-h-[150px]",maxLength:2e3})]}),p.jsx(pe,{type:"submit",size:"lg",className:"w-full",disabled:e,children:e?"Sending...":"Send Message"})]})})]})})}),p.jsx(da,{})]})},ZF=()=>{const t=rl();return b.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),p.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-100",children:p.jsxs("div",{className:"text-center",children:[p.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),p.jsx("p",{className:"mb-4 text-xl text-gray-600",children:"Oops! Page not found"}),p.jsx("a",{href:"/",className:"text-blue-500 underline hover:text-blue-700",children:"Return to Home"})]})})};var XF=b.createContext(void 0);function f0(t){const e=b.useContext(XF);return t||e||"ltr"}var Qp="rovingFocusGroup.onEntryFocus",ez={bubbles:!1,cancelable:!0},au="RovingFocusGroup",[ty,Q_,tz]=Dv(au),[nz,Y_]=ui(au,[tz]),[rz,sz]=nz(au),Z_=b.forwardRef((t,e)=>p.jsx(ty.Provider,{scope:t.__scopeRovingFocusGroup,children:p.jsx(ty.Slot,{scope:t.__scopeRovingFocusGroup,children:p.jsx(iz,{...t,ref:e})})}));Z_.displayName=au;var iz=b.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:u=!1,...d}=t,f=b.useRef(null),h=Le(e,f),m=f0(i),[g,y]=Ra({prop:o,defaultProp:a??null,onChange:l,caller:au}),[v,w]=b.useState(!1),x=Mn(c),k=Q_(n),S=b.useRef(!1),[C,E]=b.useState(0);return b.useEffect(()=>{const _=f.current;if(_)return _.addEventListener(Qp,x),()=>_.removeEventListener(Qp,x)},[x]),p.jsx(rz,{scope:n,orientation:r,dir:m,loop:s,currentTabStopId:g,onItemFocus:b.useCallback(_=>y(_),[y]),onItemShiftTab:b.useCallback(()=>w(!0),[]),onFocusableItemAdd:b.useCallback(()=>E(_=>_+1),[]),onFocusableItemRemove:b.useCallback(()=>E(_=>_-1),[]),children:p.jsx(ge.div,{tabIndex:v||C===0?-1:0,"data-orientation":r,...d,ref:h,style:{outline:"none",...t.style},onMouseDown:ee(t.onMouseDown,()=>{S.current=!0}),onFocus:ee(t.onFocus,_=>{const A=!S.current;if(_.target===_.currentTarget&&A&&!v){const T=new CustomEvent(Qp,ez);if(_.currentTarget.dispatchEvent(T),!T.defaultPrevented){const z=k().filter(F=>F.focusable),I=z.find(F=>F.active),q=z.find(F=>F.id===g),Q=[I,q,...z].filter(Boolean).map(F=>F.ref.current);tT(Q,u)}}S.current=!1}),onBlur:ee(t.onBlur,()=>w(!1))})})}),X_="RovingFocusGroupItem",eT=b.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,children:o,...a}=t,l=Ws(),c=i||l,u=sz(X_,n),d=u.currentTabStopId===c,f=Q_(n),{onFocusableItemAdd:h,onFocusableItemRemove:m,currentTabStopId:g}=u;return b.useEffect(()=>{if(r)return h(),()=>m()},[r,h,m]),p.jsx(ty.ItemSlot,{scope:n,id:c,focusable:r,active:s,children:p.jsx(ge.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...a,ref:e,onMouseDown:ee(t.onMouseDown,y=>{r?u.onItemFocus(c):y.preventDefault()}),onFocus:ee(t.onFocus,()=>u.onItemFocus(c)),onKeyDown:ee(t.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){u.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const v=lz(y,u.orientation,u.dir);if(v!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let x=f().filter(k=>k.focusable).map(k=>k.ref.current);if(v==="last")x.reverse();else if(v==="prev"||v==="next"){v==="prev"&&x.reverse();const k=x.indexOf(y.currentTarget);x=u.loop?cz(x,k+1):x.slice(k+1)}setTimeout(()=>tT(x))}}),children:typeof o=="function"?o({isCurrentTabStop:d,hasTabStop:g!=null}):o})})});eT.displayName=X_;var oz={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function az(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function lz(t,e,n){const r=az(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return oz[r]}function tT(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function cz(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var uz=Z_,dz=eT,Dh="Tabs",[fz,W9]=ui(Dh,[Y_]),nT=Y_(),[hz,h0]=fz(Dh),rT=b.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:a,activationMode:l="automatic",...c}=t,u=f0(a),[d,f]=Ra({prop:r,onChange:s,defaultProp:i??"",caller:Dh});return p.jsx(hz,{scope:n,baseId:Ws(),value:d,onValueChange:f,orientation:o,dir:u,activationMode:l,children:p.jsx(ge.div,{dir:u,"data-orientation":o,...c,ref:e})})});rT.displayName=Dh;var sT="TabsList",iT=b.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=h0(sT,n),o=nT(n);return p.jsx(uz,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:p.jsx(ge.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});iT.displayName=sT;var oT="TabsTrigger",aT=b.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,o=h0(oT,n),a=nT(n),l=uT(o.baseId,r),c=dT(o.baseId,r),u=r===o.value;return p.jsx(dz,{asChild:!0,...a,focusable:!s,active:u,children:p.jsx(ge.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":c,"data-state":u?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:l,...i,ref:e,onMouseDown:ee(t.onMouseDown,d=>{!s&&d.button===0&&d.ctrlKey===!1?o.onValueChange(r):d.preventDefault()}),onKeyDown:ee(t.onKeyDown,d=>{[" ","Enter"].includes(d.key)&&o.onValueChange(r)}),onFocus:ee(t.onFocus,()=>{const d=o.activationMode!=="manual";!u&&!s&&d&&o.onValueChange(r)})})})});aT.displayName=oT;var lT="TabsContent",cT=b.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...o}=t,a=h0(lT,n),l=uT(a.baseId,r),c=dT(a.baseId,r),u=r===a.value,d=b.useRef(u);return b.useEffect(()=>{const f=requestAnimationFrame(()=>d.current=!1);return()=>cancelAnimationFrame(f)},[]),p.jsx(go,{present:s||u,children:({present:f})=>p.jsx(ge.div,{"data-state":u?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!f,id:c,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:d.current?"0s":void 0},children:f&&i})})});cT.displayName=lT;function uT(t,e){return`${t}-trigger-${e}`}function dT(t,e){return`${t}-content-${e}`}var pz=rT,fT=iT,hT=aT,pT=cT;const mT=pz,p0=b.forwardRef(({className:t,...e},n)=>p.jsx(fT,{ref:n,className:ke("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));p0.displayName=fT.displayName;const Pc=b.forwardRef(({className:t,...e},n)=>p.jsx(hT,{ref:n,className:ke("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",t),...e}));Pc.displayName=hT.displayName;const Rc=b.forwardRef(({className:t,...e},n)=>p.jsx(pT,{ref:n,className:ke("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Rc.displayName=pT.displayName;const mz=()=>{const t=ru(),[e,n]=b.useState(null),[r,s]=b.useState(null),[i,o]=b.useState(!1),[a,l]=b.useState(!1),[c,u]=b.useState("login"),[d,f]=b.useState({email:"",password:""}),[h,m]=b.useState({email:"",password:"",confirmPassword:"",displayName:""});b.useEffect(()=>{const{data:{subscription:w}}=xe.auth.onAuthStateChange((x,k)=>{s(k),n((k==null?void 0:k.user)??null),k!=null&&k.user&&setTimeout(()=>{g(k.user.id)},0)});return xe.auth.getSession().then(({data:{session:x}})=>{s(x),n((x==null?void 0:x.user)??null),x!=null&&x.user&&g(x.user.id)}),()=>w.unsubscribe()},[t]);const g=async(w,x=!1)=>{if(!x)try{const{data:k}=await xe.from("profiles").select("role").eq("user_id",w).single();(k==null?void 0:k.role)==="admin"?t("/admin"):t("/")}catch(k){console.error("Error checking role:",k),t("/")}},y=async w=>{w.preventDefault(),o(!0);const{error:x}=await xe.auth.signInWithPassword({email:d.email,password:d.password});fe(x?{title:"Login Failed",description:x.message,variant:"destructive"}:{title:"Login Successful",description:"Welcome back!"}),o(!1)},v=async w=>{if(w.preventDefault(),h.password!==h.confirmPassword){fe({title:"Password Mismatch",description:"Passwords do not match",variant:"destructive"});return}o(!0);const x=`${window.location.origin}/auth`,{data:k,error:S}=await xe.auth.signUp({email:h.email,password:h.password,options:{emailRedirectTo:x,data:{display_name:h.displayName}}});S?fe({title:"Signup Failed",description:S.message,variant:"destructive"}):(k.session&&await xe.auth.signOut(),fe({title:"Successfully Signed Up!",description:"Your admin account has been created. Please sign in to continue.",duration:5e3}),u("login"),f({email:h.email,password:""}),m({email:"",password:"",confirmPassword:"",displayName:""})),o(!1)};return p.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background to-background/80 flex items-center justify-center p-4",children:p.jsxs(Gr,{className:"w-full max-w-md",children:[p.jsxs(no,{className:"text-center",children:[p.jsxs(La,{className:"flex items-center justify-center gap-2",children:[p.jsx(Ri,{className:"h-5 w-5"}),"Authentication"]}),p.jsx(tf,{children:"Sign in to your account or create a new one"})]}),p.jsx(Jr,{children:p.jsxs(mT,{value:c,onValueChange:u,className:"w-full",children:[p.jsxs(p0,{className:"grid w-full grid-cols-2",children:[p.jsx(Pc,{value:"login",children:"Login"}),p.jsx(Pc,{value:"signup",children:"Sign Up"})]}),p.jsx(Rc,{value:"login",children:p.jsxs("form",{onSubmit:y,className:"space-y-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(Ie,{htmlFor:"login-email",children:"Email"}),p.jsxs("div",{className:"relative",children:[p.jsx(Ma,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),p.jsx(nt,{id:"login-email",type:"email",placeholder:"Enter your email",value:d.email,onChange:w=>f(x=>({...x,email:w.target.value})),className:"pl-10",required:!0})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(Ie,{htmlFor:"login-password",children:"Password"}),p.jsxs("div",{className:"relative",children:[p.jsx(Ri,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),p.jsx(nt,{id:"login-password",type:a?"text":"password",placeholder:"Enter your password",value:d.password,onChange:w=>f(x=>({...x,password:w.target.value})),className:"pl-10 pr-10",required:!0}),p.jsx(pe,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>l(!a),children:a?p.jsx(Cx,{className:"h-4 w-4"}):p.jsx(_x,{className:"h-4 w-4"})})]})]}),p.jsx(pe,{type:"submit",disabled:i,className:"w-full",children:i?"Signing in...":"Sign In"})]})}),p.jsx(Rc,{value:"signup",children:p.jsxs("form",{onSubmit:v,className:"space-y-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(Ie,{htmlFor:"signup-name",children:"Display Name"}),p.jsxs("div",{className:"relative",children:[p.jsx(ja,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),p.jsx(nt,{id:"signup-name",type:"text",placeholder:"Enter your display name",value:h.displayName,onChange:w=>m(x=>({...x,displayName:w.target.value})),className:"pl-10",required:!0})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(Ie,{htmlFor:"signup-email",children:"Email"}),p.jsxs("div",{className:"relative",children:[p.jsx(Ma,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),p.jsx(nt,{id:"signup-email",type:"email",placeholder:"Enter your email",value:h.email,onChange:w=>m(x=>({...x,email:w.target.value})),className:"pl-10",required:!0})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(Ie,{htmlFor:"signup-password",children:"Password"}),p.jsxs("div",{className:"relative",children:[p.jsx(Ri,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),p.jsx(nt,{id:"signup-password",type:a?"text":"password",placeholder:"Enter your password",value:h.password,onChange:w=>m(x=>({...x,password:w.target.value})),className:"pl-10 pr-10",required:!0,minLength:6}),p.jsx(pe,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>l(!a),children:a?p.jsx(Cx,{className:"h-4 w-4"}):p.jsx(_x,{className:"h-4 w-4"})})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(Ie,{htmlFor:"signup-confirm",children:"Confirm Password"}),p.jsxs("div",{className:"relative",children:[p.jsx(Ri,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),p.jsx(nt,{id:"signup-confirm",type:"password",placeholder:"Confirm your password",value:h.confirmPassword,onChange:w=>m(x=>({...x,confirmPassword:w.target.value})),className:"pl-10",required:!0,minLength:6})]})]}),p.jsx(pe,{type:"submit",disabled:i,className:"w-full",children:i?"Creating account...":"Create Account"})]})})]})})]})})};function Db(t,[e,n]){return Math.min(n,Math.max(e,t))}var Yp=0;function gT(){b.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??Lb()),document.body.insertAdjacentElement("beforeend",t[1]??Lb()),Yp++,()=>{Yp===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Yp--}},[])}function Lb(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Zp="focusScope.autoFocusOnMount",Xp="focusScope.autoFocusOnUnmount",$b={bubbles:!1,cancelable:!0},gz="FocusScope",m0=b.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=b.useState(null),c=Mn(s),u=Mn(i),d=b.useRef(null),f=Le(e,g=>l(g)),h=b.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;b.useEffect(()=>{if(r){let g=function(x){if(h.paused||!a)return;const k=x.target;a.contains(k)?d.current=k:fs(d.current,{select:!0})},y=function(x){if(h.paused||!a)return;const k=x.relatedTarget;k!==null&&(a.contains(k)||fs(d.current,{select:!0}))},v=function(x){if(document.activeElement===document.body)for(const S of x)S.removedNodes.length>0&&fs(a)};document.addEventListener("focusin",g),document.addEventListener("focusout",y);const w=new MutationObserver(v);return a&&w.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",y),w.disconnect()}}},[r,a,h.paused]),b.useEffect(()=>{if(a){zb.add(h);const g=document.activeElement;if(!a.contains(g)){const v=new CustomEvent(Zp,$b);a.addEventListener(Zp,c),a.dispatchEvent(v),v.defaultPrevented||(yz(kz(yT(a)),{select:!0}),document.activeElement===g&&fs(a))}return()=>{a.removeEventListener(Zp,c),setTimeout(()=>{const v=new CustomEvent(Xp,$b);a.addEventListener(Xp,u),a.dispatchEvent(v),v.defaultPrevented||fs(g??document.body,{select:!0}),a.removeEventListener(Xp,u),zb.remove(h)},0)}}},[a,c,u,h]);const m=b.useCallback(g=>{if(!n&&!r||h.paused)return;const y=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,v=document.activeElement;if(y&&v){const w=g.currentTarget,[x,k]=vz(w);x&&k?!g.shiftKey&&v===k?(g.preventDefault(),n&&fs(x,{select:!0})):g.shiftKey&&v===x&&(g.preventDefault(),n&&fs(k,{select:!0})):v===w&&g.preventDefault()}},[n,r,h.paused]);return p.jsx(ge.div,{tabIndex:-1,...o,ref:f,onKeyDown:m})});m0.displayName=gz;function yz(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(fs(r,{select:e}),document.activeElement!==n)return}function vz(t){const e=yT(t),n=Fb(e,t),r=Fb(e.reverse(),t);return[n,r]}function yT(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Fb(t,e){for(const n of t)if(!wz(n,{upTo:e}))return n}function wz(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function xz(t){return t instanceof HTMLInputElement&&"select"in t}function fs(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&xz(t)&&e&&t.select()}}var zb=bz();function bz(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=Bb(t,e),t.unshift(e)},remove(e){var n;t=Bb(t,e),(n=t[0])==null||n.resume()}}}function Bb(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function kz(t){return t.filter(e=>e.tagName!=="A")}function Sz(t){const e=b.useRef({value:t,previous:t});return b.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var Ez=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Po=new WeakMap,Bu=new WeakMap,Uu={},em=0,vT=function(t){return t&&(t.host||vT(t.parentNode))},Cz=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=vT(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},_z=function(t,e,n,r){var s=Cz(e,Array.isArray(t)?t:[t]);Uu[n]||(Uu[n]=new WeakMap);var i=Uu[n],o=[],a=new Set,l=new Set(s),c=function(d){!d||a.has(d)||(a.add(d),c(d.parentNode))};s.forEach(c);var u=function(d){!d||l.has(d)||Array.prototype.forEach.call(d.children,function(f){if(a.has(f))u(f);else try{var h=f.getAttribute(r),m=h!==null&&h!=="false",g=(Po.get(f)||0)+1,y=(i.get(f)||0)+1;Po.set(f,g),i.set(f,y),o.push(f),g===1&&m&&Bu.set(f,!0),y===1&&f.setAttribute(n,"true"),m||f.setAttribute(r,"true")}catch(v){console.error("aria-hidden: cannot operate on ",f,v)}})};return u(e),a.clear(),em++,function(){o.forEach(function(d){var f=Po.get(d)-1,h=i.get(d)-1;Po.set(d,f),i.set(d,h),f||(Bu.has(d)||d.removeAttribute(r),Bu.delete(d)),h||d.removeAttribute(n)}),em--,em||(Po=new WeakMap,Po=new WeakMap,Bu=new WeakMap,Uu={})}},wT=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=Ez(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),_z(r,s,n,"aria-hidden")):function(){return null}},pr=function(){return pr=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},pr.apply(this,arguments)};function xT(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function Tz(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var yd="right-scroll-bar-position",vd="width-before-scroll-bar",Nz="with-scroll-bars-hidden",Az="--removed-body-scroll-bar-size";function tm(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function Oz(t,e){var n=b.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var Pz=typeof window<"u"?b.useLayoutEffect:b.useEffect,Ub=new WeakMap;function Rz(t,e){var n=Oz(null,function(r){return t.forEach(function(s){return tm(s,r)})});return Pz(function(){var r=Ub.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||tm(a,null)}),i.forEach(function(a){s.has(a)||tm(a,o)})}Ub.set(n,t)},[t]),n}function Mz(t){return t}function jz(t,e){e===void 0&&(e=Mz);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var u=o;o=[],u.forEach(i)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(u){o.push(u),c()},filter:function(u){return o=o.filter(u),n}}}};return s}function Iz(t){t===void 0&&(t={});var e=jz(null);return e.options=pr({async:!0,ssr:!1},t),e}var bT=function(t){var e=t.sideCar,n=xT(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return b.createElement(r,pr({},n))};bT.isSideCarExport=!0;function Dz(t,e){return t.useMedium(e),bT}var kT=Iz(),nm=function(){},Lh=b.forwardRef(function(t,e){var n=b.useRef(null),r=b.useState({onScrollCapture:nm,onWheelCapture:nm,onTouchMoveCapture:nm}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,u=t.enabled,d=t.shards,f=t.sideCar,h=t.noRelative,m=t.noIsolation,g=t.inert,y=t.allowPinchZoom,v=t.as,w=v===void 0?"div":v,x=t.gapMode,k=xT(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=f,C=Rz([n,e]),E=pr(pr({},k),s);return b.createElement(b.Fragment,null,u&&b.createElement(S,{sideCar:kT,removeScrollBar:c,shards:d,noRelative:h,noIsolation:m,inert:g,setCallbacks:i,allowPinchZoom:!!y,lockRef:n,gapMode:x}),o?b.cloneElement(b.Children.only(a),pr(pr({},E),{ref:C})):b.createElement(w,pr({},E,{className:l,ref:C}),a))});Lh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Lh.classNames={fullWidth:vd,zeroRight:yd};var Lz=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function $z(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Lz();return e&&t.setAttribute("nonce",e),t}function Fz(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function zz(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Bz=function(){var t=0,e=null;return{add:function(n){t==0&&(e=$z())&&(Fz(e,n),zz(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Uz=function(){var t=Bz();return function(e,n){b.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},ST=function(){var t=Uz(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},Vz={left:0,top:0,right:0,gap:0},rm=function(t){return parseInt(t||"",10)||0},Hz=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[rm(n),rm(r),rm(s)]},Wz=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Vz;var e=Hz(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},Kz=ST(),fa="data-scroll-locked",qz=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(Nz,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(fa,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(yd,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(vd,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(yd," .").concat(yd,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(vd," .").concat(vd,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(fa,`] {
    `).concat(Az,": ").concat(a,`px;
  }
`)},Vb=function(){var t=parseInt(document.body.getAttribute(fa)||"0",10);return isFinite(t)?t:0},Gz=function(){b.useEffect(function(){return document.body.setAttribute(fa,(Vb()+1).toString()),function(){var t=Vb()-1;t<=0?document.body.removeAttribute(fa):document.body.setAttribute(fa,t.toString())}},[])},Jz=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;Gz();var i=b.useMemo(function(){return Wz(s)},[s]);return b.createElement(Kz,{styles:qz(i,!e,s,n?"":"!important")})},ny=!1;if(typeof window<"u")try{var Vu=Object.defineProperty({},"passive",{get:function(){return ny=!0,!0}});window.addEventListener("test",Vu,Vu),window.removeEventListener("test",Vu,Vu)}catch{ny=!1}var Ro=ny?{passive:!1}:!1,Qz=function(t){return t.tagName==="TEXTAREA"},ET=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!Qz(t)&&n[e]==="visible")},Yz=function(t){return ET(t,"overflowY")},Zz=function(t){return ET(t,"overflowX")},Hb=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=CT(t,r);if(s){var i=_T(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Xz=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},eB=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},CT=function(t,e){return t==="v"?Yz(e):Zz(e)},_T=function(t,e){return t==="v"?Xz(e):eB(e)},tB=function(t,e){return t==="h"&&e==="rtl"?-1:1},nB=function(t,e,n,r,s){var i=tB(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,l=e.contains(a),c=!1,u=o>0,d=0,f=0;do{if(!a)break;var h=_T(t,a),m=h[0],g=h[1],y=h[2],v=g-y-i*m;(m||v)&&CT(t,a)&&(d+=v,f+=m);var w=a.parentNode;a=w&&w.nodeType===Node.DOCUMENT_FRAGMENT_NODE?w.host:w}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(u&&(Math.abs(d)<1||!s)||!u&&(Math.abs(f)<1||!s))&&(c=!0),c},Hu=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},Wb=function(t){return[t.deltaX,t.deltaY]},Kb=function(t){return t&&"current"in t?t.current:t},rB=function(t,e){return t[0]===e[0]&&t[1]===e[1]},sB=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},iB=0,Mo=[];function oB(t){var e=b.useRef([]),n=b.useRef([0,0]),r=b.useRef(),s=b.useState(iB++)[0],i=b.useState(ST)[0],o=b.useRef(t);b.useEffect(function(){o.current=t},[t]),b.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var g=Tz([t.lockRef.current],(t.shards||[]).map(Kb),!0).filter(Boolean);return g.forEach(function(y){return y.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),g.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=b.useCallback(function(g,y){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var v=Hu(g),w=n.current,x="deltaX"in g?g.deltaX:w[0]-v[0],k="deltaY"in g?g.deltaY:w[1]-v[1],S,C=g.target,E=Math.abs(x)>Math.abs(k)?"h":"v";if("touches"in g&&E==="h"&&C.type==="range")return!1;var _=Hb(E,C);if(!_)return!0;if(_?S=E:(S=E==="v"?"h":"v",_=Hb(E,C)),!_)return!1;if(!r.current&&"changedTouches"in g&&(x||k)&&(r.current=S),!S)return!0;var A=r.current||S;return nB(A,y,g,A==="h"?x:k,!0)},[]),l=b.useCallback(function(g){var y=g;if(!(!Mo.length||Mo[Mo.length-1]!==i)){var v="deltaY"in y?Wb(y):Hu(y),w=e.current.filter(function(S){return S.name===y.type&&(S.target===y.target||y.target===S.shadowParent)&&rB(S.delta,v)})[0];if(w&&w.should){y.cancelable&&y.preventDefault();return}if(!w){var x=(o.current.shards||[]).map(Kb).filter(Boolean).filter(function(S){return S.contains(y.target)}),k=x.length>0?a(y,x[0]):!o.current.noIsolation;k&&y.cancelable&&y.preventDefault()}}},[]),c=b.useCallback(function(g,y,v,w){var x={name:g,delta:y,target:v,should:w,shadowParent:aB(v)};e.current.push(x),setTimeout(function(){e.current=e.current.filter(function(k){return k!==x})},1)},[]),u=b.useCallback(function(g){n.current=Hu(g),r.current=void 0},[]),d=b.useCallback(function(g){c(g.type,Wb(g),g.target,a(g,t.lockRef.current))},[]),f=b.useCallback(function(g){c(g.type,Hu(g),g.target,a(g,t.lockRef.current))},[]);b.useEffect(function(){return Mo.push(i),t.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:f}),document.addEventListener("wheel",l,Ro),document.addEventListener("touchmove",l,Ro),document.addEventListener("touchstart",u,Ro),function(){Mo=Mo.filter(function(g){return g!==i}),document.removeEventListener("wheel",l,Ro),document.removeEventListener("touchmove",l,Ro),document.removeEventListener("touchstart",u,Ro)}},[]);var h=t.removeScrollBar,m=t.inert;return b.createElement(b.Fragment,null,m?b.createElement(i,{styles:sB(s)}):null,h?b.createElement(Jz,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function aB(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const lB=Dz(kT,oB);var g0=b.forwardRef(function(t,e){return b.createElement(Lh,pr({},t,{ref:e,sideCar:lB}))});g0.classNames=Lh.classNames;var cB=[" ","Enter","ArrowUp","ArrowDown"],uB=[" ","Enter"],so="Select",[$h,Fh,dB]=Dv(so),[ol,K9]=ui(so,[dB,Eh]),zh=Eh(),[fB,hi]=ol(so),[hB,pB]=ol(so),TT=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:l,dir:c,name:u,autoComplete:d,disabled:f,required:h,form:m}=t,g=zh(e),[y,v]=b.useState(null),[w,x]=b.useState(null),[k,S]=b.useState(!1),C=f0(c),[E,_]=Ra({prop:r,defaultProp:s??!1,onChange:i,caller:so}),[A,T]=Ra({prop:o,defaultProp:a,onChange:l,caller:so}),z=b.useRef(null),I=y?m||!!y.closest("form"):!0,[q,D]=b.useState(new Set),Q=Array.from(q).map(F=>F.props.value).join(";");return p.jsx(XD,{...g,children:p.jsxs(fB,{required:h,scope:e,trigger:y,onTriggerChange:v,valueNode:w,onValueNodeChange:x,valueNodeHasChildren:k,onValueNodeHasChildrenChange:S,contentId:Ws(),value:A,onValueChange:T,open:E,onOpenChange:_,dir:C,triggerPointerDownPosRef:z,disabled:f,children:[p.jsx($h.Provider,{scope:e,children:p.jsx(hB,{scope:t.__scopeSelect,onNativeOptionAdd:b.useCallback(F=>{D(J=>new Set(J).add(F))},[]),onNativeOptionRemove:b.useCallback(F=>{D(J=>{const N=new Set(J);return N.delete(F),N})},[]),children:n})}),I?p.jsxs(YT,{"aria-hidden":!0,required:h,tabIndex:-1,name:u,autoComplete:d,value:A,onChange:F=>T(F.target.value),disabled:f,form:m,children:[A===void 0?p.jsx("option",{value:""}):null,Array.from(q)]},Q):null]})})};TT.displayName=so;var NT="SelectTrigger",AT=b.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=zh(n),o=hi(NT,n),a=o.disabled||r,l=Le(e,o.onTriggerChange),c=Fh(n),u=b.useRef("touch"),[d,f,h]=XT(g=>{const y=c().filter(x=>!x.disabled),v=y.find(x=>x.value===o.value),w=eN(y,g,v);w!==void 0&&o.onValueChange(w.value)}),m=g=>{a||(o.onOpenChange(!0),h()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return p.jsx(QC,{asChild:!0,...i,children:p.jsx(ge.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":ZT(o.value)?"":void 0,...s,ref:l,onClick:ee(s.onClick,g=>{g.currentTarget.focus(),u.current!=="mouse"&&m(g)}),onPointerDown:ee(s.onPointerDown,g=>{u.current=g.pointerType;const y=g.target;y.hasPointerCapture(g.pointerId)&&y.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(m(g),g.preventDefault())}),onKeyDown:ee(s.onKeyDown,g=>{const y=d.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&f(g.key),!(y&&g.key===" ")&&cB.includes(g.key)&&(m(),g.preventDefault())})})})});AT.displayName=NT;var OT="SelectValue",PT=b.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...a}=t,l=hi(OT,n),{onValueNodeHasChildrenChange:c}=l,u=i!==void 0,d=Le(e,l.onValueNodeChange);return Tt(()=>{c(u)},[c,u]),p.jsx(ge.span,{...a,ref:d,style:{pointerEvents:"none"},children:ZT(l.value)?p.jsx(p.Fragment,{children:o}):i})});PT.displayName=OT;var mB="SelectIcon",RT=b.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return p.jsx(ge.span,{"aria-hidden":!0,...s,ref:e,children:r||""})});RT.displayName=mB;var gB="SelectPortal",MT=t=>p.jsx(yh,{asChild:!0,...t});MT.displayName=gB;var io="SelectContent",jT=b.forwardRef((t,e)=>{const n=hi(io,t.__scopeSelect),[r,s]=b.useState();if(Tt(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?mo.createPortal(p.jsx(IT,{scope:t.__scopeSelect,children:p.jsx($h.Slot,{scope:t.__scopeSelect,children:p.jsx("div",{children:t.children})})}),i):null}return p.jsx(DT,{...t,ref:e})});jT.displayName=io;var Bn=10,[IT,pi]=ol(io),yB="SelectContentImpl",vB=Pa("SelectContent.RemoveScroll"),DT=b.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:d,collisionBoundary:f,collisionPadding:h,sticky:m,hideWhenDetached:g,avoidCollisions:y,...v}=t,w=hi(io,n),[x,k]=b.useState(null),[S,C]=b.useState(null),E=Le(e,U=>k(U)),[_,A]=b.useState(null),[T,z]=b.useState(null),I=Fh(n),[q,D]=b.useState(!1),Q=b.useRef(!1);b.useEffect(()=>{if(x)return wT(x)},[x]),gT();const F=b.useCallback(U=>{const[Oe,...Qe]=I().map(Ce=>Ce.ref.current),[Ne]=Qe.slice(-1),be=document.activeElement;for(const Ce of U)if(Ce===be||(Ce==null||Ce.scrollIntoView({block:"nearest"}),Ce===Oe&&S&&(S.scrollTop=0),Ce===Ne&&S&&(S.scrollTop=S.scrollHeight),Ce==null||Ce.focus(),document.activeElement!==be))return},[I,S]),J=b.useCallback(()=>F([_,x]),[F,_,x]);b.useEffect(()=>{q&&J()},[q,J]);const{onOpenChange:N,triggerPointerDownPosRef:P}=w;b.useEffect(()=>{if(x){let U={x:0,y:0};const Oe=Ne=>{var be,Ce;U={x:Math.abs(Math.round(Ne.pageX)-(((be=P.current)==null?void 0:be.x)??0)),y:Math.abs(Math.round(Ne.pageY)-(((Ce=P.current)==null?void 0:Ce.y)??0))}},Qe=Ne=>{U.x<=10&&U.y<=10?Ne.preventDefault():x.contains(Ne.target)||N(!1),document.removeEventListener("pointermove",Oe),P.current=null};return P.current!==null&&(document.addEventListener("pointermove",Oe),document.addEventListener("pointerup",Qe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Oe),document.removeEventListener("pointerup",Qe,{capture:!0})}}},[x,N,P]),b.useEffect(()=>{const U=()=>N(!1);return window.addEventListener("blur",U),window.addEventListener("resize",U),()=>{window.removeEventListener("blur",U),window.removeEventListener("resize",U)}},[N]);const[B,te]=XT(U=>{const Oe=I().filter(be=>!be.disabled),Qe=Oe.find(be=>be.ref.current===document.activeElement),Ne=eN(Oe,U,Qe);Ne&&setTimeout(()=>Ne.ref.current.focus())}),Y=b.useCallback((U,Oe,Qe)=>{const Ne=!Q.current&&!Qe;(w.value!==void 0&&w.value===Oe||Ne)&&(A(U),Ne&&(Q.current=!0))},[w.value]),ue=b.useCallback(()=>x==null?void 0:x.focus(),[x]),ie=b.useCallback((U,Oe,Qe)=>{const Ne=!Q.current&&!Qe;(w.value!==void 0&&w.value===Oe||Ne)&&z(U)},[w.value]),$e=r==="popper"?ry:LT,Je=$e===ry?{side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:d,collisionBoundary:f,collisionPadding:h,sticky:m,hideWhenDetached:g,avoidCollisions:y}:{};return p.jsx(IT,{scope:n,content:x,viewport:S,onViewportChange:C,itemRefCallback:Y,selectedItem:_,onItemLeave:ue,itemTextRefCallback:ie,focusSelectedItem:J,selectedItemText:T,position:r,isPositioned:q,searchRef:B,children:p.jsx(g0,{as:vB,allowPinchZoom:!0,children:p.jsx(m0,{asChild:!0,trapped:w.open,onMountAutoFocus:U=>{U.preventDefault()},onUnmountAutoFocus:ee(s,U=>{var Oe;(Oe=w.trigger)==null||Oe.focus({preventScroll:!0}),U.preventDefault()}),children:p.jsx(eu,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:U=>U.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:p.jsx($e,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:U=>U.preventDefault(),...v,...Je,onPlaced:()=>D(!0),ref:E,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:ee(v.onKeyDown,U=>{const Oe=U.ctrlKey||U.altKey||U.metaKey;if(U.key==="Tab"&&U.preventDefault(),!Oe&&U.key.length===1&&te(U.key),["ArrowUp","ArrowDown","Home","End"].includes(U.key)){let Ne=I().filter(be=>!be.disabled).map(be=>be.ref.current);if(["ArrowUp","End"].includes(U.key)&&(Ne=Ne.slice().reverse()),["ArrowUp","ArrowDown"].includes(U.key)){const be=U.target,Ce=Ne.indexOf(be);Ne=Ne.slice(Ce+1)}setTimeout(()=>F(Ne)),U.preventDefault()}})})})})})})});DT.displayName=yB;var wB="SelectItemAlignedPosition",LT=b.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=hi(io,n),o=pi(io,n),[a,l]=b.useState(null),[c,u]=b.useState(null),d=Le(e,E=>u(E)),f=Fh(n),h=b.useRef(!1),m=b.useRef(!0),{viewport:g,selectedItem:y,selectedItemText:v,focusSelectedItem:w}=o,x=b.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&c&&g&&y&&v){const E=i.trigger.getBoundingClientRect(),_=c.getBoundingClientRect(),A=i.valueNode.getBoundingClientRect(),T=v.getBoundingClientRect();if(i.dir!=="rtl"){const be=T.left-_.left,Ce=A.left-be,Nt=E.left-Ce,gn=E.width+Nt,yi=Math.max(gn,_.width),Xr=window.innerWidth-Bn,vi=Db(Ce,[Bn,Math.max(Bn,Xr-yi)]);a.style.minWidth=gn+"px",a.style.left=vi+"px"}else{const be=_.right-T.right,Ce=window.innerWidth-A.right-be,Nt=window.innerWidth-E.right-Ce,gn=E.width+Nt,yi=Math.max(gn,_.width),Xr=window.innerWidth-Bn,vi=Db(Ce,[Bn,Math.max(Bn,Xr-yi)]);a.style.minWidth=gn+"px",a.style.right=vi+"px"}const z=f(),I=window.innerHeight-Bn*2,q=g.scrollHeight,D=window.getComputedStyle(c),Q=parseInt(D.borderTopWidth,10),F=parseInt(D.paddingTop,10),J=parseInt(D.borderBottomWidth,10),N=parseInt(D.paddingBottom,10),P=Q+F+q+N+J,B=Math.min(y.offsetHeight*5,P),te=window.getComputedStyle(g),Y=parseInt(te.paddingTop,10),ue=parseInt(te.paddingBottom,10),ie=E.top+E.height/2-Bn,$e=I-ie,Je=y.offsetHeight/2,U=y.offsetTop+Je,Oe=Q+F+U,Qe=P-Oe;if(Oe<=ie){const be=z.length>0&&y===z[z.length-1].ref.current;a.style.bottom="0px";const Ce=c.clientHeight-g.offsetTop-g.offsetHeight,Nt=Math.max($e,Je+(be?ue:0)+Ce+J),gn=Oe+Nt;a.style.height=gn+"px"}else{const be=z.length>0&&y===z[0].ref.current;a.style.top="0px";const Nt=Math.max(ie,Q+g.offsetTop+(be?Y:0)+Je)+Qe;a.style.height=Nt+"px",g.scrollTop=Oe-ie+g.offsetTop}a.style.margin=`${Bn}px 0`,a.style.minHeight=B+"px",a.style.maxHeight=I+"px",r==null||r(),requestAnimationFrame(()=>h.current=!0)}},[f,i.trigger,i.valueNode,a,c,g,y,v,i.dir,r]);Tt(()=>x(),[x]);const[k,S]=b.useState();Tt(()=>{c&&S(window.getComputedStyle(c).zIndex)},[c]);const C=b.useCallback(E=>{E&&m.current===!0&&(x(),w==null||w(),m.current=!1)},[x,w]);return p.jsx(bB,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:h,onScrollButtonChange:C,children:p.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:k},children:p.jsx(ge.div,{...s,ref:d,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});LT.displayName=wB;var xB="SelectPopperPosition",ry=b.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Bn,...i}=t,o=zh(n);return p.jsx(YC,{...o,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});ry.displayName=xB;var[bB,y0]=ol(io,{}),sy="SelectViewport",$T=b.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=pi(sy,n),o=y0(sy,n),a=Le(e,i.onViewportChange),l=b.useRef(0);return p.jsxs(p.Fragment,{children:[p.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),p.jsx($h.Slot,{scope:n,children:p.jsx(ge.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:ee(s.onScroll,c=>{const u=c.currentTarget,{contentWrapper:d,shouldExpandOnScrollRef:f}=o;if(f!=null&&f.current&&d){const h=Math.abs(l.current-u.scrollTop);if(h>0){const m=window.innerHeight-Bn*2,g=parseFloat(d.style.minHeight),y=parseFloat(d.style.height),v=Math.max(g,y);if(v<m){const w=v+h,x=Math.min(m,w),k=w-x;d.style.height=x+"px",d.style.bottom==="0px"&&(u.scrollTop=k>0?k:0,d.style.justifyContent="flex-end")}}}l.current=u.scrollTop})})})]})});$T.displayName=sy;var FT="SelectGroup",[kB,SB]=ol(FT),EB=b.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Ws();return p.jsx(kB,{scope:n,id:s,children:p.jsx(ge.div,{role:"group","aria-labelledby":s,...r,ref:e})})});EB.displayName=FT;var zT="SelectLabel",BT=b.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=SB(zT,n);return p.jsx(ge.div,{id:s.id,...r,ref:e})});BT.displayName=zT;var uf="SelectItem",[CB,UT]=ol(uf),VT=b.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=t,a=hi(uf,n),l=pi(uf,n),c=a.value===r,[u,d]=b.useState(i??""),[f,h]=b.useState(!1),m=Le(e,w=>{var x;return(x=l.itemRefCallback)==null?void 0:x.call(l,w,r,s)}),g=Ws(),y=b.useRef("touch"),v=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return p.jsx(CB,{scope:n,value:r,disabled:s,textId:g,isSelected:c,onItemTextChange:b.useCallback(w=>{d(x=>x||((w==null?void 0:w.textContent)??"").trim())},[]),children:p.jsx($h.ItemSlot,{scope:n,value:r,disabled:s,textValue:u,children:p.jsx(ge.div,{role:"option","aria-labelledby":g,"data-highlighted":f?"":void 0,"aria-selected":c&&f,"data-state":c?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:m,onFocus:ee(o.onFocus,()=>h(!0)),onBlur:ee(o.onBlur,()=>h(!1)),onClick:ee(o.onClick,()=>{y.current!=="mouse"&&v()}),onPointerUp:ee(o.onPointerUp,()=>{y.current==="mouse"&&v()}),onPointerDown:ee(o.onPointerDown,w=>{y.current=w.pointerType}),onPointerMove:ee(o.onPointerMove,w=>{var x;y.current=w.pointerType,s?(x=l.onItemLeave)==null||x.call(l):y.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ee(o.onPointerLeave,w=>{var x;w.currentTarget===document.activeElement&&((x=l.onItemLeave)==null||x.call(l))}),onKeyDown:ee(o.onKeyDown,w=>{var k;((k=l.searchRef)==null?void 0:k.current)!==""&&w.key===" "||(uB.includes(w.key)&&v(),w.key===" "&&w.preventDefault())})})})})});VT.displayName=uf;var Al="SelectItemText",HT=b.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,o=hi(Al,n),a=pi(Al,n),l=UT(Al,n),c=pB(Al,n),[u,d]=b.useState(null),f=Le(e,v=>d(v),l.onItemTextChange,v=>{var w;return(w=a.itemTextRefCallback)==null?void 0:w.call(a,v,l.value,l.disabled)}),h=u==null?void 0:u.textContent,m=b.useMemo(()=>p.jsx("option",{value:l.value,disabled:l.disabled,children:h},l.value),[l.disabled,l.value,h]),{onNativeOptionAdd:g,onNativeOptionRemove:y}=c;return Tt(()=>(g(m),()=>y(m)),[g,y,m]),p.jsxs(p.Fragment,{children:[p.jsx(ge.span,{id:l.textId,...i,ref:f}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?mo.createPortal(i.children,o.valueNode):null]})});HT.displayName=Al;var WT="SelectItemIndicator",KT=b.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return UT(WT,n).isSelected?p.jsx(ge.span,{"aria-hidden":!0,...r,ref:e}):null});KT.displayName=WT;var iy="SelectScrollUpButton",qT=b.forwardRef((t,e)=>{const n=pi(iy,t.__scopeSelect),r=y0(iy,t.__scopeSelect),[s,i]=b.useState(!1),o=Le(e,r.onScrollButtonChange);return Tt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollTop>0;i(c)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?p.jsx(JT,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});qT.displayName=iy;var oy="SelectScrollDownButton",GT=b.forwardRef((t,e)=>{const n=pi(oy,t.__scopeSelect),r=y0(oy,t.__scopeSelect),[s,i]=b.useState(!1),o=Le(e,r.onScrollButtonChange);return Tt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,u=Math.ceil(l.scrollTop)<c;i(u)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?p.jsx(JT,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});GT.displayName=oy;var JT=b.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=pi("SelectScrollButton",n),o=b.useRef(null),a=Fh(n),l=b.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return b.useEffect(()=>()=>l(),[l]),Tt(()=>{var u;const c=a().find(d=>d.ref.current===document.activeElement);(u=c==null?void 0:c.ref.current)==null||u.scrollIntoView({block:"nearest"})},[a]),p.jsx(ge.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:ee(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:ee(s.onPointerMove,()=>{var c;(c=i.onItemLeave)==null||c.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:ee(s.onPointerLeave,()=>{l()})})}),_B="SelectSeparator",QT=b.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return p.jsx(ge.div,{"aria-hidden":!0,...r,ref:e})});QT.displayName=_B;var ay="SelectArrow",TB=b.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=zh(n),i=hi(ay,n),o=pi(ay,n);return i.open&&o.position==="popper"?p.jsx(ZC,{...s,...r,ref:e}):null});TB.displayName=ay;var NB="SelectBubbleInput",YT=b.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const s=b.useRef(null),i=Le(r,s),o=Sz(e);return b.useEffect(()=>{const a=s.current;if(!a)return;const l=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==e&&u){const d=new Event("change",{bubbles:!0});u.call(a,e),a.dispatchEvent(d)}},[o,e]),p.jsx(ge.select,{...n,style:{...VE,...n.style},ref:i,defaultValue:e})});YT.displayName=NB;function ZT(t){return t===""||t===void 0}function XT(t){const e=Mn(t),n=b.useRef(""),r=b.useRef(0),s=b.useCallback(o=>{const a=n.current+o;e(a),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),i=b.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return b.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function eN(t,e,n){const s=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=AB(t,Math.max(i,0));s.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function AB(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var OB=TT,tN=AT,PB=PT,RB=RT,MB=MT,nN=jT,jB=$T,rN=BT,sN=VT,IB=HT,DB=KT,iN=qT,oN=GT,aN=QT;const LB=OB,$B=PB,lN=b.forwardRef(({className:t,children:e,...n},r)=>p.jsxs(tN,{ref:r,className:ke("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,p.jsx(RB,{asChild:!0,children:p.jsx(pC,{className:"h-4 w-4 opacity-50"})})]}));lN.displayName=tN.displayName;const cN=b.forwardRef(({className:t,...e},n)=>p.jsx(iN,{ref:n,className:ke("flex cursor-default items-center justify-center py-1",t),...e,children:p.jsx(Wj,{className:"h-4 w-4"})}));cN.displayName=iN.displayName;const uN=b.forwardRef(({className:t,...e},n)=>p.jsx(oN,{ref:n,className:ke("flex cursor-default items-center justify-center py-1",t),...e,children:p.jsx(pC,{className:"h-4 w-4"})}));uN.displayName=oN.displayName;const dN=b.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>p.jsx(MB,{children:p.jsxs(nN,{ref:s,className:ke("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[p.jsx(cN,{}),p.jsx(jB,{className:ke("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),p.jsx(uN,{})]})}));dN.displayName=nN.displayName;const FB=b.forwardRef(({className:t,...e},n)=>p.jsx(rN,{ref:n,className:ke("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));FB.displayName=rN.displayName;const fN=b.forwardRef(({className:t,children:e,...n},r)=>p.jsxs(sN,{ref:r,className:ke("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...n,children:[p.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:p.jsx(DB,{children:p.jsx(Hj,{className:"h-4 w-4"})})}),p.jsx(IB,{children:e})]}));fN.displayName=sN.displayName;const zB=b.forwardRef(({className:t,...e},n)=>p.jsx(aN,{ref:n,className:ke("-mx-1 my-1 h-px bg-muted",t),...e}));zB.displayName=aN.displayName;const BB=({onLogout:t,userEmail:e})=>p.jsx("header",{className:"bg-card card-shadow border-b sticky top-0 z-50",children:p.jsx("div",{className:"container mx-auto px-4 py-4",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center space-x-4",children:[p.jsx("img",{src:i0,alt:"ExcoMag Africa Logo",className:"h-10 w-auto"}),p.jsxs("div",{className:"border-l pl-4",children:[p.jsx("h1",{className:"text-lg font-semibold text-foreground",children:"Admin Dashboard"}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"Content Management System"})]})]}),p.jsxs("div",{className:"flex items-center space-x-4",children:[p.jsx(Jn,{to:"/",children:p.jsxs(pe,{variant:"outline",size:"sm",children:[p.jsx(fC,{className:"h-4 w-4 mr-2"}),"Back to Site"]})}),e&&p.jsx("span",{className:"text-sm text-muted-foreground hidden md:block",children:e}),p.jsxs(pe,{variant:"outline",onClick:t,size:"sm",className:"flex items-center space-x-2",children:[p.jsx(mC,{className:"h-4 w-4"}),p.jsx("span",{className:"hidden md:inline",children:"Logout"})]})]})]})})}),UB=()=>{const[t,e]=b.useState([]),[n,r]=b.useState(null),[s,i]=b.useState(!1);b.useEffect(()=>{o(),a()},[]);const o=async()=>{const{data:u,error:d}=await xe.from("subscribers").select("*").eq("is_active",!0).order("subscribed_at",{ascending:!1});d?console.error("Error fetching subscribers:",d):e(u||[])},a=async()=>{const{data:u,error:d}=await xe.from("newsletter_settings").select("*").limit(1).single();d?console.error("Error fetching settings:",d):r(u)},l=async u=>{const{error:d}=await xe.from("subscribers").delete().eq("id",u);d?fe({title:"Error",description:"Failed to remove subscriber",variant:"destructive"}):(fe({title:"Subscriber Removed",description:"Subscriber has been removed successfully"}),o())},c=async()=>{if(!n)return;i(!0);const{error:u}=await xe.from("newsletter_settings").update({subject_template:n.subject_template,email_template:n.email_template,updated_at:new Date().toISOString()}).eq("id",n.id);fe(u?{title:"Error",description:"Failed to save settings",variant:"destructive"}:{title:"Settings Saved",description:"Newsletter template has been updated successfully"}),i(!1)};return p.jsxs("div",{className:"space-y-6",children:[p.jsxs(Gr,{children:[p.jsxs(no,{children:[p.jsxs(La,{className:"flex items-center gap-2",children:[p.jsx(Ma,{className:"h-5 w-5"}),"Newsletter Settings"]}),p.jsxs(tf,{children:["Customize the email template sent to subscribers when a new article is published. Use ","{{title}}",", ","{{excerpt}}",", and ","{{url}}"," as placeholders."]})]}),p.jsx(Jr,{className:"space-y-4",children:n&&p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(Ie,{htmlFor:"subject",children:"Email Subject Template"}),p.jsx(nt,{id:"subject",value:n.subject_template,onChange:u=>r({...n,subject_template:u.target.value}),placeholder:"New Article: {{title}}"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(Ie,{htmlFor:"template",children:"Email Body Template"}),p.jsx(Ih,{id:"template",value:n.email_template,onChange:u=>r({...n,email_template:u.target.value}),placeholder:"Email template...",className:"min-h-[200px]"})]}),p.jsxs(pe,{onClick:c,disabled:s,children:[p.jsx(cI,{className:"h-4 w-4 mr-2"}),s?"Saving...":"Save Template"]})]})})]}),p.jsxs(Gr,{children:[p.jsxs(no,{children:[p.jsxs(La,{children:["Subscribers (",t.length,")"]}),p.jsx(tf,{children:"Manage your newsletter subscribers"})]}),p.jsx(Jr,{children:p.jsx("div",{className:"space-y-2",children:t.length===0?p.jsx("p",{className:"text-muted-foreground text-sm",children:"No subscribers yet."}):t.map(u=>p.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted rounded-lg",children:[p.jsxs("div",{children:[p.jsx("p",{className:"font-medium",children:u.email}),p.jsxs("p",{className:"text-xs text-muted-foreground",children:["Subscribed on ",new Date(u.subscribed_at).toLocaleDateString()]})]}),p.jsx(pe,{variant:"destructive",size:"sm",onClick:()=>l(u.id),children:p.jsx(yC,{className:"h-4 w-4"})})]},u.id))})})]})]})};var hN={exports:{}},pN={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Va=b;function VB(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var HB=typeof Object.is=="function"?Object.is:VB,WB=Va.useState,KB=Va.useEffect,qB=Va.useLayoutEffect,GB=Va.useDebugValue;function JB(t,e){var n=e(),r=WB({inst:{value:n,getSnapshot:e}}),s=r[0].inst,i=r[1];return qB(function(){s.value=n,s.getSnapshot=e,sm(s)&&i({inst:s})},[t,n,e]),KB(function(){return sm(s)&&i({inst:s}),t(function(){sm(s)&&i({inst:s})})},[t]),GB(n),n}function sm(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!HB(t,n)}catch{return!0}}function QB(t,e){return e()}var YB=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?QB:JB;pN.useSyncExternalStore=Va.useSyncExternalStore!==void 0?Va.useSyncExternalStore:YB;hN.exports=pN;var v0=hN.exports;function kt(t){this.content=t}kt.prototype={constructor:kt,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,s=r.find(t),i=r.content.slice();return s==-1?i.push(n||t,e):(i[s+1]=e,n&&(i[s]=n)),new kt(i)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new kt(n)},addToStart:function(t,e){return new kt([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new kt(n)},addBefore:function(t,e,n){var r=this.remove(e),s=r.content.slice(),i=r.find(t);return s.splice(i==-1?s.length:i,0,e,n),new kt(s)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=kt.from(t),t.size?new kt(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=kt.from(t),t.size?new kt(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=kt.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};kt.from=function(t){if(t instanceof kt)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new kt(e)};function mN(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let s=t.child(r),i=e.child(r);if(s==i){n+=s.nodeSize;continue}if(!s.sameMarkup(i))return n;if(s.isText&&s.text!=i.text){for(let o=0;s.text[o]==i.text[o];o++)n++;return n}if(s.content.size||i.content.size){let o=mN(s.content,i.content,n+1);if(o!=null)return o}n+=s.nodeSize}}function gN(t,e,n,r){for(let s=t.childCount,i=e.childCount;;){if(s==0||i==0)return s==i?null:{a:n,b:r};let o=t.child(--s),a=e.child(--i),l=o.nodeSize;if(o==a){n-=l,r-=l;continue}if(!o.sameMarkup(a))return{a:n,b:r};if(o.isText&&o.text!=a.text){let c=0,u=Math.min(o.text.length,a.text.length);for(;c<u&&o.text[o.text.length-c-1]==a.text[a.text.length-c-1];)c++,n--,r--;return{a:n,b:r}}if(o.content.size||a.content.size){let c=gN(o.content,a.content,n-1,r-1);if(c)return c}n-=l,r-=l}}class R{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,s=0,i){for(let o=0,a=0;a<n;o++){let l=this.content[o],c=a+l.nodeSize;if(c>e&&r(l,s+a,i||null,o)!==!1&&l.content.size){let u=a+1;l.nodesBetween(Math.max(0,e-u),Math.min(l.content.size,n-u),r,s+u)}a=c}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,s){let i="",o=!0;return this.nodesBetween(e,n,(a,l)=>{let c=a.isText?a.text.slice(Math.max(e,l)-l,n-l):a.isLeaf?s?typeof s=="function"?s(a):s:a.type.spec.leafText?a.type.spec.leafText(a):"":"";a.isBlock&&(a.isLeaf&&c||a.isTextblock)&&r&&(o?o=!1:i+=r),i+=c},0),i}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,s=this.content.slice(),i=0;for(n.isText&&n.sameMarkup(r)&&(s[s.length-1]=n.withText(n.text+r.text),i=1);i<e.content.length;i++)s.push(e.content[i]);return new R(s,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],s=0;if(n>e)for(let i=0,o=0;o<n;i++){let a=this.content[i],l=o+a.nodeSize;l>e&&((o<e||l>n)&&(a.isText?a=a.cut(Math.max(0,e-o),Math.min(a.text.length,n-o)):a=a.cut(Math.max(0,e-o-1),Math.min(a.content.size,n-o-1))),r.push(a),s+=a.nodeSize),o=l}return new R(r,s)}cutByIndex(e,n){return e==n?R.empty:e==0&&n==this.content.length?this:new R(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let s=this.content.slice(),i=this.size+n.nodeSize-r.nodeSize;return s[e]=n,new R(s,i)}addToStart(e){return new R([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new R(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let s=this.content[n];e(s,r,n),r+=s.nodeSize}}findDiffStart(e,n=0){return mN(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return gN(this,e,n,r)}findIndex(e){if(e==0)return Wu(0,e);if(e==this.size)return Wu(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let n=0,r=0;;n++){let s=this.child(n),i=r+s.nodeSize;if(i>=e)return i==e?Wu(n+1,i):Wu(n,r);r=i}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return R.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new R(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return R.empty;let n,r=0;for(let s=0;s<e.length;s++){let i=e[s];r+=i.nodeSize,s&&i.isText&&e[s-1].sameMarkup(i)?(n||(n=e.slice(0,s)),n[n.length-1]=i.withText(n[n.length-1].text+i.text)):n&&n.push(i)}return new R(n||e,r)}static from(e){if(!e)return R.empty;if(e instanceof R)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new R([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}R.empty=new R([],0);const im={index:0,offset:0};function Wu(t,e){return im.index=t,im.offset=e,im}function df(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!df(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!df(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}let Me=class ly{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let s=0;s<e.length;s++){let i=e[s];if(this.eq(i))return e;if(this.type.excludes(i.type))n||(n=e.slice(0,s));else{if(i.type.excludes(this.type))return e;!r&&i.type.rank>this.type.rank&&(n||(n=e.slice(0,s)),n.push(this),r=!0),n&&n.push(i)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&df(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let s=r.create(n.attrs);return r.checkAttrs(s.attrs),s}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return ly.none;if(e instanceof ly)return[e];let n=e.slice();return n.sort((r,s)=>r.type.rank-s.type.rank),n}};Me.none=[];class ff extends Error{}class H{constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=vN(this.content,e+this.openStart,n);return r&&new H(r,this.openStart,this.openEnd)}removeBetween(e,n){return new H(yN(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return H.empty;let r=n.openStart||0,s=n.openEnd||0;if(typeof r!="number"||typeof s!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new H(R.fromJSON(e,n.content),r,s)}static maxOpen(e,n=!0){let r=0,s=0;for(let i=e.firstChild;i&&!i.isLeaf&&(n||!i.type.spec.isolating);i=i.firstChild)r++;for(let i=e.lastChild;i&&!i.isLeaf&&(n||!i.type.spec.isolating);i=i.lastChild)s++;return new H(e,r,s)}}H.empty=new H(R.empty,0,0);function yN(t,e,n){let{index:r,offset:s}=t.findIndex(e),i=t.maybeChild(r),{index:o,offset:a}=t.findIndex(n);if(s==e||i.isText){if(a!=n&&!t.child(o).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=o)throw new RangeError("Removing non-flat range");return t.replaceChild(r,i.copy(yN(i.content,e-s-1,n-s-1)))}function vN(t,e,n,r){let{index:s,offset:i}=t.findIndex(e),o=t.maybeChild(s);if(i==e||o.isText)return r&&!r.canReplace(s,s,n)?null:t.cut(0,e).append(n).append(t.cut(e));let a=vN(o.content,e-i-1,n,o);return a&&t.replaceChild(s,o.copy(a))}function ZB(t,e,n){if(n.openStart>t.depth)throw new ff("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new ff("Inconsistent open depths");return wN(t,e,n,0)}function wN(t,e,n,r){let s=t.index(r),i=t.node(r);if(s==e.index(r)&&r<t.depth-n.openStart){let o=wN(t,e,n,r+1);return i.copy(i.content.replaceChild(s,o))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){let o=t.parent,a=o.content;return Ki(o,a.cut(0,t.parentOffset).append(n.content).append(a.cut(e.parentOffset)))}else{let{start:o,end:a}=XB(n,t);return Ki(i,bN(t,o,a,e,r))}else return Ki(i,hf(t,e,r))}function xN(t,e){if(!e.type.compatibleContent(t.type))throw new ff("Cannot join "+e.type.name+" onto "+t.type.name)}function cy(t,e,n){let r=t.node(n);return xN(r,e.node(n)),r}function Wi(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function ql(t,e,n,r){let s=(e||t).node(n),i=0,o=e?e.index(n):s.childCount;t&&(i=t.index(n),t.depth>n?i++:t.textOffset&&(Wi(t.nodeAfter,r),i++));for(let a=i;a<o;a++)Wi(s.child(a),r);e&&e.depth==n&&e.textOffset&&Wi(e.nodeBefore,r)}function Ki(t,e){return t.type.checkContent(e),t.copy(e)}function bN(t,e,n,r,s){let i=t.depth>s&&cy(t,e,s+1),o=r.depth>s&&cy(n,r,s+1),a=[];return ql(null,t,s,a),i&&o&&e.index(s)==n.index(s)?(xN(i,o),Wi(Ki(i,bN(t,e,n,r,s+1)),a)):(i&&Wi(Ki(i,hf(t,e,s+1)),a),ql(e,n,s,a),o&&Wi(Ki(o,hf(n,r,s+1)),a)),ql(r,null,s,a),new R(a)}function hf(t,e,n){let r=[];if(ql(null,t,n,r),t.depth>n){let s=cy(t,e,n+1);Wi(Ki(s,hf(t,e,n+1)),r)}return ql(e,null,n,r),new R(r)}function XB(t,e){let n=e.depth-t.openStart,s=e.node(n).copy(t.content);for(let i=n-1;i>=0;i--)s=e.node(i).copy(R.from(s));return{start:s.resolveNoCache(t.openStart+n),end:s.resolveNoCache(s.content.size-t.openEnd-n)}}class Mc{constructor(e,n,r){this.pos=e,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],s=e.child(n);return r?e.child(n).cut(r):s}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let r=this.path[n*3],s=n==0?0:this.path[n*3-1]+1;for(let i=0;i<e;i++)s+=r.child(i).nodeSize;return s}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return Me.none;if(this.textOffset)return e.child(n).marks;let r=e.maybeChild(n-1),s=e.maybeChild(n);if(!r){let a=r;r=s,s=a}let i=r.marks;for(var o=0;o<i.length;o++)i[o].type.spec.inclusive===!1&&(!s||!i[o].isInSet(s.marks))&&(i=i[o--].removeFromSet(i));return i}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,s=e.parent.maybeChild(e.index());for(var i=0;i<r.length;i++)r[i].type.spec.inclusive===!1&&(!s||!r[i].isInSet(s.marks))&&(r=r[i--].removeFromSet(r));return r}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new pf(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let r=[],s=0,i=n;for(let o=e;;){let{index:a,offset:l}=o.content.findIndex(i),c=i-l;if(r.push(o,a,s+l),!c||(o=o.child(a),o.isText))break;i=c-1,s+=l+1}return new Mc(n,r,i)}static resolveCached(e,n){let r=qb.get(e);if(r)for(let i=0;i<r.elts.length;i++){let o=r.elts[i];if(o.pos==n)return o}else qb.set(e,r=new e5);let s=r.elts[r.i]=Mc.resolve(e,n);return r.i=(r.i+1)%t5,s}}class e5{constructor(){this.elts=[],this.i=0}}const t5=12,qb=new WeakMap;class pf{constructor(e,n,r){this.$from=e,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const n5=Object.create(null);let Gs=class uy{constructor(e,n,r,s=Me.none){this.type=e,this.attrs=n,this.marks=s,this.content=r||R.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,r,s=0){this.content.nodesBetween(e,n,r,s,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,r,s){return this.content.textBetween(e,n,r,s)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,r){return this.type==e&&df(this.attrs,n||e.defaultAttrs||n5)&&Me.sameSet(this.marks,r||Me.none)}copy(e=null){return e==this.content?this:new uy(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new uy(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,r=!1){if(e==n)return H.empty;let s=this.resolve(e),i=this.resolve(n),o=r?0:s.sharedDepth(n),a=s.start(o),c=s.node(o).content.cut(s.pos-a,i.pos-a);return new H(c,s.depth-o,i.depth-o)}replace(e,n,r){return ZB(this.resolve(e),this.resolve(n),r)}nodeAt(e){for(let n=this;;){let{index:r,offset:s}=n.content.findIndex(e);if(n=n.maybeChild(r),!n)return null;if(s==e||n.isText)return n;e-=s+1}}childAfter(e){let{index:n,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(n),index:n,offset:r};let s=this.content.child(n-1);return{node:s,index:n-1,offset:r-s.nodeSize}}resolve(e){return Mc.resolveCached(this,e)}resolveNoCache(e){return Mc.resolve(this,e)}rangeHasMark(e,n,r){let s=!1;return n>e&&this.nodesBetween(e,n,i=>(r.isInSet(i.marks)&&(s=!0),!s)),s}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),kN(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,r=R.empty,s=0,i=r.childCount){let o=this.contentMatchAt(e).matchFragment(r,s,i),a=o&&o.matchFragment(this.content,n);if(!a||!a.validEnd)return!1;for(let l=s;l<i;l++)if(!this.type.allowsMarks(r.child(l).marks))return!1;return!0}canReplaceWith(e,n,r,s){if(s&&!this.type.allowsMarks(s))return!1;let i=this.contentMatchAt(e).matchType(r),o=i&&i.matchFragment(this.content,n);return o?o.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=Me.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!Me.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}let s=R.fromJSON(e,n.content),i=e.nodeType(n.type).create(n.attrs,s,r);return i.type.checkAttrs(i.attrs),i}};Gs.prototype.text=void 0;class mf extends Gs{constructor(e,n,r,s){if(super(e,n,null,s),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):kN(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new mf(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new mf(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function kN(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class oo{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let r=new r5(e,n);if(r.next==null)return oo.empty;let s=SN(r);r.next&&r.err("Unexpected trailing text");let i=u5(c5(s));return d5(i,r),i}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,r=e.childCount){let s=this;for(let i=n;s&&i<r;i++)s=s.matchType(e.child(i).type);return s}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let r=0;r<e.next.length;r++)if(this.next[n].type==e.next[r].type)return!0;return!1}fillBefore(e,n=!1,r=0){let s=[this];function i(o,a){let l=o.matchFragment(e,r);if(l&&(!n||l.validEnd))return R.from(a.map(c=>c.createAndFill()));for(let c=0;c<o.next.length;c++){let{type:u,next:d}=o.next[c];if(!(u.isText||u.hasRequiredAttrs())&&s.indexOf(d)==-1){s.push(d);let f=i(d,a.concat(u));if(f)return f}}return null}return i(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let s=r.shift(),i=s.match;if(i.matchType(e)){let o=[];for(let a=s;a.type;a=a.via)o.push(a.type);return o.reverse()}for(let o=0;o<i.next.length;o++){let{type:a,next:l}=i.next[o];!a.isLeaf&&!a.hasRequiredAttrs()&&!(a.name in n)&&(!s.type||l.validEnd)&&(r.push({match:a.contentMatch,type:a,via:s}),n[a.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(r){e.push(r);for(let s=0;s<r.next.length;s++)e.indexOf(r.next[s].next)==-1&&n(r.next[s].next)}return n(this),e.map((r,s)=>{let i=s+(r.validEnd?"*":" ")+" ";for(let o=0;o<r.next.length;o++)i+=(o?", ":"")+r.next[o].type.name+"->"+e.indexOf(r.next[o].next);return i}).join(`
`)}}oo.empty=new oo(!0);class r5{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function SN(t){let e=[];do e.push(s5(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function s5(t){let e=[];do e.push(i5(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function i5(t){let e=l5(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=o5(t,e);else break;return e}function Gb(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function o5(t,e){let n=Gb(t),r=n;return t.eat(",")&&(t.next!="}"?r=Gb(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function a5(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let s=[];for(let i in n){let o=n[i];o.isInGroup(e)&&s.push(o)}return s.length==0&&t.err("No node type or group '"+e+"' found"),s}function l5(t){if(t.eat("(")){let e=SN(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=a5(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function c5(t){let e=[[]];return s(i(t,0),n()),e;function n(){return e.push([])-1}function r(o,a,l){let c={term:l,to:a};return e[o].push(c),c}function s(o,a){o.forEach(l=>l.to=a)}function i(o,a){if(o.type=="choice")return o.exprs.reduce((l,c)=>l.concat(i(c,a)),[]);if(o.type=="seq")for(let l=0;;l++){let c=i(o.exprs[l],a);if(l==o.exprs.length-1)return c;s(c,a=n())}else if(o.type=="star"){let l=n();return r(a,l),s(i(o.expr,l),l),[r(l)]}else if(o.type=="plus"){let l=n();return s(i(o.expr,a),l),s(i(o.expr,l),l),[r(l)]}else{if(o.type=="opt")return[r(a)].concat(i(o.expr,a));if(o.type=="range"){let l=a;for(let c=0;c<o.min;c++){let u=n();s(i(o.expr,l),u),l=u}if(o.max==-1)s(i(o.expr,l),l);else for(let c=o.min;c<o.max;c++){let u=n();r(l,u),s(i(o.expr,l),u),l=u}return[r(l)]}else{if(o.type=="name")return[r(a,void 0,o.value)];throw new Error("Unknown expr type")}}}}function EN(t,e){return e-t}function Jb(t,e){let n=[];return r(e),n.sort(EN);function r(s){let i=t[s];if(i.length==1&&!i[0].term)return r(i[0].to);n.push(s);for(let o=0;o<i.length;o++){let{term:a,to:l}=i[o];!a&&n.indexOf(l)==-1&&r(l)}}}function u5(t){let e=Object.create(null);return n(Jb(t,0));function n(r){let s=[];r.forEach(o=>{t[o].forEach(({term:a,to:l})=>{if(!a)return;let c;for(let u=0;u<s.length;u++)s[u][0]==a&&(c=s[u][1]);Jb(t,l).forEach(u=>{c||s.push([a,c=[]]),c.indexOf(u)==-1&&c.push(u)})})});let i=e[r.join(",")]=new oo(r.indexOf(t.length-1)>-1);for(let o=0;o<s.length;o++){let a=s[o][1].sort(EN);i.next.push({type:s[o][0],next:e[a.join(",")]||n(a)})}return i}}function d5(t,e){for(let n=0,r=[t];n<r.length;n++){let s=r[n],i=!s.validEnd,o=[];for(let a=0;a<s.next.length;a++){let{type:l,next:c}=s.next[a];o.push(l.name),i&&!(l.isText||l.hasRequiredAttrs())&&(i=!1),r.indexOf(c)==-1&&r.push(c)}i&&e.err("Only non-generatable nodes ("+o.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function CN(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function _N(t,e){let n=Object.create(null);for(let r in t){let s=e&&e[r];if(s===void 0){let i=t[r];if(i.hasDefault)s=i.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=s}return n}function TN(t,e,n,r){for(let s in e)if(!(s in t))throw new RangeError(`Unsupported attribute ${s} for ${n} of type ${s}`);for(let s in t){let i=t[s];i.validate&&i.validate(e[s])}}function NN(t,e){let n=Object.create(null);if(e)for(let r in e)n[r]=new h5(t,r,e[r]);return n}let Qb=class AN{constructor(e,n,r){this.name=e,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=NN(e,r.attrs),this.defaultAttrs=CN(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==oo.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:_N(this.attrs,e)}create(e=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Gs(this,this.computeAttrs(e),R.from(n),Me.setFrom(r))}createChecked(e=null,n,r){return n=R.from(n),this.checkContent(n),new Gs(this,this.computeAttrs(e),n,Me.setFrom(r))}createAndFill(e=null,n,r){if(e=this.computeAttrs(e),n=R.from(n),n.size){let o=this.contentMatch.fillBefore(n);if(!o)return null;n=o.append(n)}let s=this.contentMatch.matchFragment(n),i=s&&s.fillBefore(R.empty,!0);return i?new Gs(this,e,n.append(i),Me.setFrom(r)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){TN(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:Me.none:e}static compile(e,n){let r=Object.create(null);e.forEach((i,o)=>r[i]=new AN(i,n,o));let s=n.spec.topNode||"doc";if(!r[s])throw new RangeError("Schema is missing its top node type ('"+s+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let i in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function f5(t,e,n){let r=n.split("|");return s=>{let i=s===null?"null":typeof s;if(r.indexOf(i)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${t}, got ${i}`)}}class h5{constructor(e,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?f5(e,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class Bh{constructor(e,n,r,s){this.name=e,this.rank=n,this.schema=r,this.spec=s,this.attrs=NN(e,s.attrs),this.excluded=null;let i=CN(this.attrs);this.instance=i?new Me(this,i):null}create(e=null){return!e&&this.instance?this.instance:new Me(this,_N(this.attrs,e))}static compile(e,n){let r=Object.create(null),s=0;return e.forEach((i,o)=>r[i]=new Bh(i,s++,n,o)),r}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}checkAttrs(e){TN(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class ON{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let s in e)n[s]=e[s];n.nodes=kt.from(e.nodes),n.marks=kt.from(e.marks||{}),this.nodes=Qb.compile(this.spec.nodes,this),this.marks=Bh.compile(this.spec.marks,this);let r=Object.create(null);for(let s in this.nodes){if(s in this.marks)throw new RangeError(s+" can not be both a node and a mark");let i=this.nodes[s],o=i.spec.content||"",a=i.spec.marks;if(i.contentMatch=r[o]||(r[o]=oo.parse(o,this.nodes)),i.inlineContent=i.contentMatch.inlineContent,i.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!i.isInline||!i.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=i}i.markSet=a=="_"?null:a?Yb(this,a.split(" ")):a==""||!i.inlineContent?[]:null}for(let s in this.marks){let i=this.marks[s],o=i.spec.excludes;i.excluded=o==null?[i]:o==""?[]:Yb(this,o.split(" "))}this.nodeFromJSON=s=>Gs.fromJSON(this,s),this.markFromJSON=s=>Me.fromJSON(this,s),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,r,s){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof Qb){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,r,s)}text(e,n){let r=this.nodes.text;return new mf(r,r.defaultAttrs,e,Me.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function Yb(t,e){let n=[];for(let r=0;r<e.length;r++){let s=e[r],i=t.marks[s],o=i;if(i)n.push(i);else for(let a in t.marks){let l=t.marks[a];(s=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(s)>-1)&&n.push(o=l)}if(!o)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}function p5(t){return t.tag!=null}function m5(t){return t.style!=null}class Js{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(s=>{if(p5(s))this.tags.push(s);else if(m5(s)){let i=/[^=]*/.exec(s.style)[0];r.indexOf(i)<0&&r.push(i),this.styles.push(s)}}),this.normalizeLists=!this.tags.some(s=>{if(!/^(ul|ol)\b/.test(s.tag)||!s.node)return!1;let i=e.nodes[s.node];return i.contentMatch.matchType(i)})}parse(e,n={}){let r=new Xb(this,n,!1);return r.addAll(e,Me.none,n.from,n.to),r.finish()}parseSlice(e,n={}){let r=new Xb(this,n,!0);return r.addAll(e,Me.none,n.from,n.to),H.maxOpen(r.finish())}matchTag(e,n,r){for(let s=r?this.tags.indexOf(r)+1:0;s<this.tags.length;s++){let i=this.tags[s];if(v5(e,i.tag)&&(i.namespace===void 0||e.namespaceURI==i.namespace)&&(!i.context||n.matchesContext(i.context))){if(i.getAttrs){let o=i.getAttrs(e);if(o===!1)continue;i.attrs=o||void 0}return i}}}matchStyle(e,n,r,s){for(let i=s?this.styles.indexOf(s)+1:0;i<this.styles.length;i++){let o=this.styles[i],a=o.style;if(!(a.indexOf(e)!=0||o.context&&!r.matchesContext(o.context)||a.length>e.length&&(a.charCodeAt(e.length)!=61||a.slice(e.length+1)!=n))){if(o.getAttrs){let l=o.getAttrs(n);if(l===!1)continue;o.attrs=l||void 0}return o}}}static schemaRules(e){let n=[];function r(s){let i=s.priority==null?50:s.priority,o=0;for(;o<n.length;o++){let a=n[o];if((a.priority==null?50:a.priority)<i)break}n.splice(o,0,s)}for(let s in e.marks){let i=e.marks[s].spec.parseDOM;i&&i.forEach(o=>{r(o=e1(o)),o.mark||o.ignore||o.clearMark||(o.mark=s)})}for(let s in e.nodes){let i=e.nodes[s].spec.parseDOM;i&&i.forEach(o=>{r(o=e1(o)),o.node||o.ignore||o.mark||(o.node=s)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new Js(e,Js.schemaRules(e)))}}const PN={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},g5={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},RN={ol:!0,ul:!0},jc=1,dy=2,Gl=4;function Zb(t,e,n){return e!=null?(e?jc:0)|(e==="full"?dy:0):t&&t.whitespace=="pre"?jc|dy:n&~Gl}class Ku{constructor(e,n,r,s,i,o){this.type=e,this.attrs=n,this.marks=r,this.solid=s,this.options=o,this.content=[],this.activeMarks=Me.none,this.match=i||(o&Gl?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(R.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,s;return(s=r.findWrapping(e.type))?(this.match=r,s):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&jc)){let r=this.content[this.content.length-1],s;if(r&&r.isText&&(s=/[ \t\r\n\u000c]+$/.exec(r.text))){let i=r;r.text.length==s[0].length?this.content.pop():this.content[this.content.length-1]=i.withText(i.text.slice(0,i.text.length-s[0].length))}}let n=R.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(R.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!PN.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class Xb{constructor(e,n,r){this.parser=e,this.options=n,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let s=n.topNode,i,o=Zb(null,n.preserveWhitespace,0)|(r?Gl:0);s?i=new Ku(s.type,s.attrs,Me.none,!0,n.topMatch||s.type.contentMatch,o):r?i=new Ku(null,null,Me.none,!0,null,o):i=new Ku(e.schema.topNodeType,null,Me.none,!0,null,o),this.nodes=[i],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,n){e.nodeType==3?this.addTextNode(e,n):e.nodeType==1&&this.addElement(e,n)}addTextNode(e,n){let r=e.nodeValue,s=this.top,i=s.options&dy?"full":this.localPreserveWS||(s.options&jc)>0;if(i==="full"||s.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(i)i!=="full"?r=r.replace(/\r?\n|\r/g," "):r=r.replace(/\r\n?/g,`
`);else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let o=s.content[s.content.length-1],a=e.previousSibling;(!o||a&&a.nodeName=="BR"||o.isText&&/[ \t\r\n\u000c]$/.test(o.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r),n,!/\S/.test(r)),this.findInText(e)}else this.findInside(e)}addElement(e,n,r){let s=this.localPreserveWS,i=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let o=e.nodeName.toLowerCase(),a;RN.hasOwnProperty(o)&&this.parser.normalizeLists&&y5(e);let l=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(a=this.parser.matchTag(e,this,r));e:if(l?l.ignore:g5.hasOwnProperty(o))this.findInside(e),this.ignoreFallback(e,n);else if(!l||l.skip||l.closeParent){l&&l.closeParent?this.open=Math.max(0,this.open-1):l&&l.skip.nodeType&&(e=l.skip);let c,u=this.needsBlock;if(PN.hasOwnProperty(o))i.content.length&&i.content[0].isInline&&this.open&&(this.open--,i=this.top),c=!0,i.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,n);break e}let d=l&&l.skip?n:this.readStyles(e,n);d&&this.addAll(e,d),c&&this.sync(i),this.needsBlock=u}else{let c=this.readStyles(e,n);c&&this.addElementByRule(e,l,c,l.consuming===!1?a:void 0)}this.localPreserveWS=s}leafFallback(e,n){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),n)}ignoreFallback(e,n){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n,!0)}readStyles(e,n){let r=e.style;if(r&&r.length)for(let s=0;s<this.parser.matchedStyles.length;s++){let i=this.parser.matchedStyles[s],o=r.getPropertyValue(i);if(o)for(let a=void 0;;){let l=this.parser.matchStyle(i,o,this,a);if(!l)break;if(l.ignore)return null;if(l.clearMark?n=n.filter(c=>!l.clearMark(c)):n=n.concat(this.parser.schema.marks[l.mark].create(l.attrs)),l.consuming===!1)a=l;else break}}return n}addElementByRule(e,n,r,s){let i,o;if(n.node)if(o=this.parser.schema.nodes[n.node],o.isLeaf)this.insertNode(o.create(n.attrs),r,e.nodeName=="BR")||this.leafFallback(e,r);else{let l=this.enter(o,n.attrs||null,r,n.preserveWhitespace);l&&(i=!0,r=l)}else{let l=this.parser.schema.marks[n.mark];r=r.concat(l.create(n.attrs))}let a=this.top;if(o&&o.isLeaf)this.findInside(e);else if(s)this.addElement(e,r,s);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(l=>this.insertNode(l,r,!1));else{let l=e;typeof n.contentElement=="string"?l=e.querySelector(n.contentElement):typeof n.contentElement=="function"?l=n.contentElement(e):n.contentElement&&(l=n.contentElement),this.findAround(e,l,!0),this.addAll(l,r),this.findAround(e,l,!1)}i&&this.sync(a)&&this.open--}addAll(e,n,r,s){let i=r||0;for(let o=r?e.childNodes[r]:e.firstChild,a=s==null?null:e.childNodes[s];o!=a;o=o.nextSibling,++i)this.findAtPoint(e,i),this.addDOM(o,n);this.findAtPoint(e,i)}findPlace(e,n,r){let s,i;for(let o=this.open,a=0;o>=0;o--){let l=this.nodes[o],c=l.findWrapping(e);if(c&&(!s||s.length>c.length+a)&&(s=c,i=l,!c.length))break;if(l.solid){if(r)break;a+=2}}if(!s)return null;this.sync(i);for(let o=0;o<s.length;o++)n=this.enterInner(s[o],null,n,!1);return n}insertNode(e,n,r){if(e.isInline&&this.needsBlock&&!this.top.type){let i=this.textblockFromContext();i&&(n=this.enterInner(i,null,n))}let s=this.findPlace(e,n,r);if(s){this.closeExtra();let i=this.top;i.match&&(i.match=i.match.matchType(e.type));let o=Me.none;for(let a of s.concat(e.marks))(i.type?i.type.allowsMarkType(a.type):t1(a.type,e.type))&&(o=a.addToSet(o));return i.content.push(e.mark(o)),!0}return!1}enter(e,n,r,s){let i=this.findPlace(e.create(n),r,!1);return i&&(i=this.enterInner(e,n,r,!0,s)),i}enterInner(e,n,r,s=!1,i){this.closeExtra();let o=this.top;o.match=o.match&&o.match.matchType(e);let a=Zb(e,i,o.options);o.options&Gl&&o.content.length==0&&(a|=Gl);let l=Me.none;return r=r.filter(c=>(o.type?o.type.allowsMarkType(c.type):t1(c.type,e))?(l=c.addToSet(l),!1):!0),this.nodes.push(new Ku(e,n,l,s,null,a)),this.open++,r}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let n=this.open;n>=0;n--){if(this.nodes[n]==e)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=jc)}return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let s=r.length-1;s>=0;s--)e+=r[s].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,r){if(e!=n&&this.find)for(let s=0;s<this.find.length;s++)this.find[s].pos==null&&e.nodeType==1&&e.contains(this.find[s].node)&&n.compareDocumentPosition(this.find[s].node)&(r?2:4)&&(this.find[s].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),r=this.options.context,s=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),i=-(r?r.depth+1:0)+(s?0:1),o=(a,l)=>{for(;a>=0;a--){let c=n[a];if(c==""){if(a==n.length-1||a==0)continue;for(;l>=i;l--)if(o(a-1,l))return!0;return!1}else{let u=l>0||l==0&&s?this.nodes[l].type:r&&l>=i?r.node(l-i).type:null;if(!u||u.name!=c&&!u.isInGroup(c))return!1;l--}}return!0};return o(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}}function y5(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&RN.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}function v5(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function e1(t){let e={};for(let n in t)e[n]=t[n];return e}function t1(t,e){let n=e.schema.nodes;for(let r in n){let s=n[r];if(!s.allowsMarkType(t))continue;let i=[],o=a=>{i.push(a);for(let l=0;l<a.edgeCount;l++){let{type:c,next:u}=a.edge(l);if(c==e||i.indexOf(u)<0&&o(u))return!0}};if(o(s.contentMatch))return!0}}class wo{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},r){r||(r=om(n).createDocumentFragment());let s=r,i=[];return e.forEach(o=>{if(i.length||o.marks.length){let a=0,l=0;for(;a<i.length&&l<o.marks.length;){let c=o.marks[l];if(!this.marks[c.type.name]){l++;continue}if(!c.eq(i[a][0])||c.type.spec.spanning===!1)break;a++,l++}for(;a<i.length;)s=i.pop()[1];for(;l<o.marks.length;){let c=o.marks[l++],u=this.serializeMark(c,o.isInline,n);u&&(i.push([c,s]),s.appendChild(u.dom),s=u.contentDOM||u.dom)}}s.appendChild(this.serializeNodeInner(o,n))}),r}serializeNodeInner(e,n){let{dom:r,contentDOM:s}=wd(om(n),this.nodes[e.type.name](e),null,e.attrs);if(s){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,s)}return r}serializeNode(e,n={}){let r=this.serializeNodeInner(e,n);for(let s=e.marks.length-1;s>=0;s--){let i=this.serializeMark(e.marks[s],e.isInline,n);i&&((i.contentDOM||i.dom).appendChild(r),r=i.dom)}return r}serializeMark(e,n,r={}){let s=this.marks[e.type.name];return s&&wd(om(r),s(e,n),null,e.attrs)}static renderSpec(e,n,r=null,s){return wd(e,n,r,s)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new wo(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=n1(e.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(e){return n1(e.marks)}}function n1(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function om(t){return t.document||window.document}const r1=new WeakMap;function w5(t){let e=r1.get(t);return e===void 0&&r1.set(t,e=x5(t)),e}function x5(t){let e=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let s=0;s<r.length;s++)n(r[s]);else for(let s in r)n(r[s])}return n(t),e}function wd(t,e,n,r){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let s=e[0],i;if(typeof s!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(i=w5(r))&&i.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let o=s.indexOf(" ");o>0&&(n=s.slice(0,o),s=s.slice(o+1));let a,l=n?t.createElementNS(n,s):t.createElement(s),c=e[1],u=1;if(c&&typeof c=="object"&&c.nodeType==null&&!Array.isArray(c)){u=2;for(let d in c)if(c[d]!=null){let f=d.indexOf(" ");f>0?l.setAttributeNS(d.slice(0,f),d.slice(f+1),c[d]):d=="style"&&l.style?l.style.cssText=c[d]:l.setAttribute(d,c[d])}}for(let d=u;d<e.length;d++){let f=e[d];if(f===0){if(d<e.length-1||d>u)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:h,contentDOM:m}=wd(t,f,n,r);if(l.appendChild(h),m){if(a)throw new RangeError("Multiple content holes");a=m}}}return{dom:l,contentDOM:a}}const MN=65535,jN=Math.pow(2,16);function b5(t,e){return t+e*jN}function s1(t){return t&MN}function k5(t){return(t-(t&MN))/jN}const IN=1,DN=2,xd=4,LN=8;class fy{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&LN)>0}get deletedBefore(){return(this.delInfo&(IN|xd))>0}get deletedAfter(){return(this.delInfo&(DN|xd))>0}get deletedAcross(){return(this.delInfo&xd)>0}}class ln{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&ln.empty)return ln.empty}recover(e){let n=0,r=s1(e);if(!this.inverted)for(let s=0;s<r;s++)n+=this.ranges[s*3+2]-this.ranges[s*3+1];return this.ranges[r*3]+n+k5(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let s=0,i=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?s:0);if(l>e)break;let c=this.ranges[a+i],u=this.ranges[a+o],d=l+c;if(e<=d){let f=c?e==l?-1:e==d?1:n:n,h=l+s+(f<0?0:u);if(r)return h;let m=e==(n<0?l:d)?null:b5(a/3,e-l),g=e==l?DN:e==d?IN:xd;return(n<0?e!=l:e!=d)&&(g|=LN),new fy(h,g,m)}s+=u-c}return r?e+s:new fy(e+s,0,null)}touches(e,n){let r=0,s=s1(n),i=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?r:0);if(l>e)break;let c=this.ranges[a+i],u=l+c;if(e<=u&&a==s*3)return!0;r+=this.ranges[a+o]-c}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let s=0,i=0;s<this.ranges.length;s+=3){let o=this.ranges[s],a=o-(this.inverted?i:0),l=o+(this.inverted?0:i),c=this.ranges[s+n],u=this.ranges[s+r];e(a,a+c,l,l+u),i+=u-c}}invert(){return new ln(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?ln.empty:new ln(e<0?[0,-e,0]:[0,0,e])}}ln.empty=new ln([]);class Ic{constructor(e,n,r=0,s=e?e.length:0){this.mirror=n,this.from=r,this.to=s,this._maps=e||[],this.ownData=!(e||n)}get maps(){return this._maps}slice(e=0,n=this.maps.length){return new Ic(this._maps,this.mirror,e,n)}appendMap(e,n){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),n!=null&&this.setMirror(this._maps.length-1,n)}appendMapping(e){for(let n=0,r=this._maps.length;n<e._maps.length;n++){let s=e.getMirror(n);this.appendMap(e._maps[n],s!=null&&s<n?r+s:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this._maps.length+e._maps.length;n>=0;n--){let s=e.getMirror(n);this.appendMap(e._maps[n].invert(),s!=null&&s>n?r-s-1:void 0)}}invert(){let e=new Ic;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this._maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let s=0;for(let i=this.from;i<this.to;i++){let o=this._maps[i],a=o.mapResult(e,n);if(a.recover!=null){let l=this.getMirror(i);if(l!=null&&l>i&&l<this.to){i=l,e=this._maps[l].recover(a.recover);continue}}s|=a.delInfo,e=a.pos}return r?e:new fy(e,s,null)}}const am=Object.create(null);class Lt{getMap(){return ln.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=am[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in am)throw new RangeError("Duplicate use of step JSON ID "+e);return am[e]=n,n.prototype.jsonID=e,n}}class lt{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new lt(e,null)}static fail(e){return new lt(null,e)}static fromReplace(e,n,r,s){try{return lt.ok(e.replace(n,r,s))}catch(i){if(i instanceof ff)return lt.fail(i.message);throw i}}}function w0(t,e,n){let r=[];for(let s=0;s<t.childCount;s++){let i=t.child(s);i.content.size&&(i=i.copy(w0(i.content,e,i))),i.isInline&&(i=e(i,n,s)),r.push(i)}return R.fromArray(r)}class js extends Lt{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),s=r.node(r.sharedDepth(this.to)),i=new H(w0(n.content,(o,a)=>!o.isAtom||!a.type.allowsMarkType(this.mark.type)?o:o.mark(this.mark.addToSet(o.marks)),s),n.openStart,n.openEnd);return lt.fromReplace(e,this.from,this.to,i)}invert(){return new Yn(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new js(n.pos,r.pos,this.mark)}merge(e){return e instanceof js&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new js(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new js(n.from,n.to,e.markFromJSON(n.mark))}}Lt.jsonID("addMark",js);class Yn extends Lt{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new H(w0(n.content,s=>s.mark(this.mark.removeFromSet(s.marks)),e),n.openStart,n.openEnd);return lt.fromReplace(e,this.from,this.to,r)}invert(){return new js(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Yn(n.pos,r.pos,this.mark)}merge(e){return e instanceof Yn&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Yn(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Yn(n.from,n.to,e.markFromJSON(n.mark))}}Lt.jsonID("removeMark",Yn);class Is extends Lt{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return lt.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return lt.fromReplace(e,this.pos,this.pos+1,new H(R.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let s=0;s<n.marks.length;s++)if(!n.marks[s].isInSet(r))return new Is(this.pos,n.marks[s]);return new Is(this.pos,this.mark)}}return new ao(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Is(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Is(n.pos,e.markFromJSON(n.mark))}}Lt.jsonID("addNodeMark",Is);class ao extends Lt{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return lt.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return lt.fromReplace(e,this.pos,this.pos+1,new H(R.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new Is(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new ao(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new ao(n.pos,e.markFromJSON(n.mark))}}Lt.jsonID("removeNodeMark",ao);class gt extends Lt{constructor(e,n,r,s=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=s}apply(e){return this.structure&&hy(e,this.from,this.to)?lt.fail("Structure replace would overwrite content"):lt.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new ln([this.from,this.to-this.from,this.slice.size])}invert(e){return new gt(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new gt(n.pos,Math.max(n.pos,r.pos),this.slice,this.structure)}merge(e){if(!(e instanceof gt)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?H.empty:new H(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new gt(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?H.empty:new H(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new gt(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new gt(n.from,n.to,H.fromJSON(e,n.slice),!!n.structure)}}Lt.jsonID("replace",gt);class vt extends Lt{constructor(e,n,r,s,i,o,a=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=s,this.slice=i,this.insert=o,this.structure=a}apply(e){if(this.structure&&(hy(e,this.from,this.gapFrom)||hy(e,this.gapTo,this.to)))return lt.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return lt.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?lt.fromReplace(e,this.from,this.to,r):lt.fail("Content does not fit in gap")}getMap(){return new ln([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new vt(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),s=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),i=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||s<n.pos||i>r.pos?null:new vt(n.pos,r.pos,s,i,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new vt(n.from,n.to,n.gapFrom,n.gapTo,H.fromJSON(e,n.slice),n.insert,!!n.structure)}}Lt.jsonID("replaceAround",vt);function hy(t,e,n){let r=t.resolve(e),s=n-e,i=r.depth;for(;s>0&&i>0&&r.indexAfter(i)==r.node(i).childCount;)i--,s--;if(s>0){let o=r.node(i).maybeChild(r.indexAfter(i));for(;s>0;){if(!o||o.isLeaf)return!0;o=o.firstChild,s--}}return!1}function S5(t,e,n,r){let s=[],i=[],o,a;t.doc.nodesBetween(e,n,(l,c,u)=>{if(!l.isInline)return;let d=l.marks;if(!r.isInSet(d)&&u.type.allowsMarkType(r.type)){let f=Math.max(c,e),h=Math.min(c+l.nodeSize,n),m=r.addToSet(d);for(let g=0;g<d.length;g++)d[g].isInSet(m)||(o&&o.to==f&&o.mark.eq(d[g])?o.to=h:s.push(o=new Yn(f,h,d[g])));a&&a.to==f?a.to=h:i.push(a=new js(f,h,r))}}),s.forEach(l=>t.step(l)),i.forEach(l=>t.step(l))}function E5(t,e,n,r){let s=[],i=0;t.doc.nodesBetween(e,n,(o,a)=>{if(!o.isInline)return;i++;let l=null;if(r instanceof Bh){let c=o.marks,u;for(;u=r.isInSet(c);)(l||(l=[])).push(u),c=u.removeFromSet(c)}else r?r.isInSet(o.marks)&&(l=[r]):l=o.marks;if(l&&l.length){let c=Math.min(a+o.nodeSize,n);for(let u=0;u<l.length;u++){let d=l[u],f;for(let h=0;h<s.length;h++){let m=s[h];m.step==i-1&&d.eq(s[h].style)&&(f=m)}f?(f.to=c,f.step=i):s.push({style:d,from:Math.max(a,e),to:c,step:i})}}}),s.forEach(o=>t.step(new Yn(o.from,o.to,o.style)))}function x0(t,e,n,r=n.contentMatch,s=!0){let i=t.doc.nodeAt(e),o=[],a=e+1;for(let l=0;l<i.childCount;l++){let c=i.child(l),u=a+c.nodeSize,d=r.matchType(c.type);if(!d)o.push(new gt(a,u,H.empty));else{r=d;for(let f=0;f<c.marks.length;f++)n.allowsMarkType(c.marks[f].type)||t.step(new Yn(a,u,c.marks[f]));if(s&&c.isText&&n.whitespace!="pre"){let f,h=/\r?\n|\r/g,m;for(;f=h.exec(c.text);)m||(m=new H(R.from(n.schema.text(" ",n.allowedMarks(c.marks))),0,0)),o.push(new gt(a+f.index,a+f.index+f[0].length,m))}}a=u}if(!r.validEnd){let l=r.fillBefore(R.empty,!0);t.replace(a,a,new H(l,0,0))}for(let l=o.length-1;l>=0;l--)t.step(o[l])}function C5(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function al(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth;;--r){let s=t.$from.node(r),i=t.$from.index(r),o=t.$to.indexAfter(r);if(r<t.depth&&s.canReplace(i,o,n))return r;if(r==0||s.type.spec.isolating||!C5(s,i,o))break}return null}function _5(t,e,n){let{$from:r,$to:s,depth:i}=e,o=r.before(i+1),a=s.after(i+1),l=o,c=a,u=R.empty,d=0;for(let m=i,g=!1;m>n;m--)g||r.index(m)>0?(g=!0,u=R.from(r.node(m).copy(u)),d++):l--;let f=R.empty,h=0;for(let m=i,g=!1;m>n;m--)g||s.after(m+1)<s.end(m)?(g=!0,f=R.from(s.node(m).copy(f)),h++):c++;t.step(new vt(l,c,o,a,new H(u.append(f),d,h),u.size-d,!0))}function b0(t,e,n=null,r=t){let s=T5(t,e),i=s&&N5(r,e);return i?s.map(i1).concat({type:e,attrs:n}).concat(i.map(i1)):null}function i1(t){return{type:t,attrs:null}}function T5(t,e){let{parent:n,startIndex:r,endIndex:s}=t,i=n.contentMatchAt(r).findWrapping(e);if(!i)return null;let o=i.length?i[0]:e;return n.canReplaceWith(r,s,o)?i:null}function N5(t,e){let{parent:n,startIndex:r,endIndex:s}=t,i=n.child(r),o=e.contentMatch.findWrapping(i.type);if(!o)return null;let l=(o.length?o[o.length-1]:e).contentMatch;for(let c=r;l&&c<s;c++)l=l.matchType(n.child(c).type);return!l||!l.validEnd?null:o}function A5(t,e,n){let r=R.empty;for(let o=n.length-1;o>=0;o--){if(r.size){let a=n[o].type.contentMatch.matchFragment(r);if(!a||!a.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=R.from(n[o].type.create(n[o].attrs,r))}let s=e.start,i=e.end;t.step(new vt(s,i,s,i,new H(r,0,0),n.length,!0))}function O5(t,e,n,r,s){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let i=t.steps.length;t.doc.nodesBetween(e,n,(o,a)=>{let l=typeof s=="function"?s(o):s;if(o.isTextblock&&!o.hasMarkup(r,l)&&P5(t.doc,t.mapping.slice(i).map(a),r)){let c=null;if(r.schema.linebreakReplacement){let h=r.whitespace=="pre",m=!!r.contentMatch.matchType(r.schema.linebreakReplacement);h&&!m?c=!1:!h&&m&&(c=!0)}c===!1&&FN(t,o,a,i),x0(t,t.mapping.slice(i).map(a,1),r,void 0,c===null);let u=t.mapping.slice(i),d=u.map(a,1),f=u.map(a+o.nodeSize,1);return t.step(new vt(d,f,d+1,f-1,new H(R.from(r.create(l,null,o.marks)),0,0),1,!0)),c===!0&&$N(t,o,a,i),!1}})}function $N(t,e,n,r){e.forEach((s,i)=>{if(s.isText){let o,a=/\r?\n|\r/g;for(;o=a.exec(s.text);){let l=t.mapping.slice(r).map(n+1+i+o.index);t.replaceWith(l,l+1,e.type.schema.linebreakReplacement.create())}}})}function FN(t,e,n,r){e.forEach((s,i)=>{if(s.type==s.type.schema.linebreakReplacement){let o=t.mapping.slice(r).map(n+1+i);t.replaceWith(o,o+1,e.type.schema.text(`
`))}})}function P5(t,e,n){let r=t.resolve(e),s=r.index();return r.parent.canReplaceWith(s,s+1,n)}function R5(t,e,n,r,s){let i=t.doc.nodeAt(e);if(!i)throw new RangeError("No node at given position");n||(n=i.type);let o=n.create(r,null,s||i.marks);if(i.isLeaf)return t.replaceWith(e,e+i.nodeSize,o);if(!n.validContent(i.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new vt(e,e+i.nodeSize,e+1,e+i.nodeSize-1,new H(R.from(o),0,0),1,!0))}function ha(t,e,n=1,r){let s=t.resolve(e),i=s.depth-n,o=r&&r[r.length-1]||s.parent;if(i<0||s.parent.type.spec.isolating||!s.parent.canReplace(s.index(),s.parent.childCount)||!o.type.validContent(s.parent.content.cutByIndex(s.index(),s.parent.childCount)))return!1;for(let c=s.depth-1,u=n-2;c>i;c--,u--){let d=s.node(c),f=s.index(c);if(d.type.spec.isolating)return!1;let h=d.content.cutByIndex(f,d.childCount),m=r&&r[u+1];m&&(h=h.replaceChild(0,m.type.create(m.attrs)));let g=r&&r[u]||d;if(!d.canReplace(f+1,d.childCount)||!g.type.validContent(h))return!1}let a=s.indexAfter(i),l=r&&r[0];return s.node(i).canReplaceWith(a,a,l?l.type:s.node(i+1).type)}function M5(t,e,n=1,r){let s=t.doc.resolve(e),i=R.empty,o=R.empty;for(let a=s.depth,l=s.depth-n,c=n-1;a>l;a--,c--){i=R.from(s.node(a).copy(i));let u=r&&r[c];o=R.from(u?u.type.create(u.attrs,o):s.node(a).copy(o))}t.step(new gt(e,e,new H(i.append(o),n,n),!0))}function mi(t,e){let n=t.resolve(e),r=n.index();return zN(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function j5(t,e){e.content.size||t.type.compatibleContent(e.type);let n=t.contentMatchAt(t.childCount),{linebreakReplacement:r}=t.type.schema;for(let s=0;s<e.childCount;s++){let i=e.child(s),o=i.type==r?t.type.schema.nodes.text:i.type;if(n=n.matchType(o),!n||!t.type.allowsMarks(i.marks))return!1}return n.validEnd}function zN(t,e){return!!(t&&e&&!t.isLeaf&&j5(t,e))}function Uh(t,e,n=-1){let r=t.resolve(e);for(let s=r.depth;;s--){let i,o,a=r.index(s);if(s==r.depth?(i=r.nodeBefore,o=r.nodeAfter):n>0?(i=r.node(s+1),a++,o=r.node(s).maybeChild(a)):(i=r.node(s).maybeChild(a-1),o=r.node(s+1)),i&&!i.isTextblock&&zN(i,o)&&r.node(s).canReplace(a,a+1))return e;if(s==0)break;e=n<0?r.before(s):r.after(s)}}function I5(t,e,n){let r=null,{linebreakReplacement:s}=t.doc.type.schema,i=t.doc.resolve(e-n),o=i.node().type;if(s&&o.inlineContent){let u=o.whitespace=="pre",d=!!o.contentMatch.matchType(s);u&&!d?r=!1:!u&&d&&(r=!0)}let a=t.steps.length;if(r===!1){let u=t.doc.resolve(e+n);FN(t,u.node(),u.before(),a)}o.inlineContent&&x0(t,e+n-1,o,i.node().contentMatchAt(i.index()),r==null);let l=t.mapping.slice(a),c=l.map(e-n);if(t.step(new gt(c,l.map(e+n,-1),H.empty,!0)),r===!0){let u=t.doc.resolve(c);$N(t,u.node(),u.before(),t.steps.length)}return t}function D5(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(r.parentOffset==0)for(let s=r.depth-1;s>=0;s--){let i=r.index(s);if(r.node(s).canReplaceWith(i,i,n))return r.before(s+1);if(i>0)return null}if(r.parentOffset==r.parent.content.size)for(let s=r.depth-1;s>=0;s--){let i=r.indexAfter(s);if(r.node(s).canReplaceWith(i,i,n))return r.after(s+1);if(i<r.node(s).childCount)return null}return null}function BN(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let s=n.content;for(let i=0;i<n.openStart;i++)s=s.firstChild.content;for(let i=1;i<=(n.openStart==0&&n.size?2:1);i++)for(let o=r.depth;o>=0;o--){let a=o==r.depth?0:r.pos<=(r.start(o+1)+r.end(o+1))/2?-1:1,l=r.index(o)+(a>0?1:0),c=r.node(o),u=!1;if(i==1)u=c.canReplace(l,l,s);else{let d=c.contentMatchAt(l).findWrapping(s.firstChild.type);u=d&&c.canReplaceWith(l,l,d[0])}if(u)return a==0?r.pos:a<0?r.before(o+1):r.after(o+1)}return null}function Vh(t,e,n=e,r=H.empty){if(e==n&&!r.size)return null;let s=t.resolve(e),i=t.resolve(n);return UN(s,i,r)?new gt(e,n,r):new L5(s,i,r).fit()}function UN(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class L5{constructor(e,n,r){this.$from=e,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=R.empty;for(let s=0;s<=e.depth;s++){let i=e.node(s);this.frontier.push({type:i.type,match:i.contentMatchAt(e.indexAfter(s))})}for(let s=e.depth;s>0;s--)this.placed=R.from(e.node(s).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let c=this.findFittable();c?this.placeNodes(c):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,s=this.close(e<0?this.$to:r.doc.resolve(e));if(!s)return null;let i=this.placed,o=r.depth,a=s.depth;for(;o&&a&&i.childCount==1;)i=i.firstChild.content,o--,a--;let l=new H(i,o,a);return e>-1?new vt(r.pos,e,this.$to.pos,this.$to.end(),l,n):l.size||r.pos!=this.$to.pos?new gt(r.pos,s.pos,l):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,s=this.unplaced.openEnd;r<e;r++){let i=n.firstChild;if(n.childCount>1&&(s=0),i.type.spec.isolating&&s<=r){e=r;break}n=i.content}for(let n=1;n<=2;n++)for(let r=n==1?e:this.unplaced.openStart;r>=0;r--){let s,i=null;r?(i=lm(this.unplaced.content,r-1).firstChild,s=i.content):s=this.unplaced.content;let o=s.firstChild;for(let a=this.depth;a>=0;a--){let{type:l,match:c}=this.frontier[a],u,d=null;if(n==1&&(o?c.matchType(o.type)||(d=c.fillBefore(R.from(o),!1)):i&&l.compatibleContent(i.type)))return{sliceDepth:r,frontierDepth:a,parent:i,inject:d};if(n==2&&o&&(u=c.findWrapping(o.type)))return{sliceDepth:r,frontierDepth:a,parent:i,wrap:u};if(i&&c.matchType(i.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,s=lm(e,n);return!s.childCount||s.firstChild.isLeaf?!1:(this.unplaced=new H(e,n+1,Math.max(r,s.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,s=lm(e,n);if(s.childCount<=1&&n>0){let i=e.size-n<=n+s.size;this.unplaced=new H(Ol(e,n-1,1),n-1,i?n-1:r)}else this.unplaced=new H(Ol(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:s,wrap:i}){for(;this.depth>n;)this.closeFrontierNode();if(i)for(let g=0;g<i.length;g++)this.openFrontierNode(i[g]);let o=this.unplaced,a=r?r.content:o.content,l=o.openStart-e,c=0,u=[],{match:d,type:f}=this.frontier[n];if(s){for(let g=0;g<s.childCount;g++)u.push(s.child(g));d=d.matchFragment(s)}let h=a.size+e-(o.content.size-o.openEnd);for(;c<a.childCount;){let g=a.child(c),y=d.matchType(g.type);if(!y)break;c++,(c>1||l==0||g.content.size)&&(d=y,u.push(VN(g.mark(f.allowedMarks(g.marks)),c==1?l:0,c==a.childCount?h:-1)))}let m=c==a.childCount;m||(h=-1),this.placed=Pl(this.placed,n,R.from(u)),this.frontier[n].match=d,m&&h<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let g=0,y=a;g<h;g++){let v=y.lastChild;this.frontier.push({type:v.type,match:v.contentMatchAt(v.childCount)}),y=v.content}this.unplaced=m?e==0?H.empty:new H(Ol(o.content,e-1,1),e-1,h<0?o.openEnd:e-1):new H(Ol(o.content,e,c),o.openStart,o.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!cm(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,s=this.$to.after(r);for(;r>1&&s==this.$to.end(--r);)++s;return s}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:s}=this.frontier[n],i=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),o=cm(e,n,s,r,i);if(o){for(let a=n-1;a>=0;a--){let{match:l,type:c}=this.frontier[a],u=cm(e,a,c,l,!0);if(!u||u.childCount)continue e}return{depth:n,fit:o,move:i?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=Pl(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let s=e.node(r),i=s.type.contentMatch.fillBefore(s.content,!0,e.index(r));this.openFrontierNode(s.type,s.attrs,i)}return e}openFrontierNode(e,n=null,r){let s=this.frontier[this.depth];s.match=s.match.matchType(e),this.placed=Pl(this.placed,this.depth,R.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(R.empty,!0);n.childCount&&(this.placed=Pl(this.placed,this.frontier.length,n))}}function Ol(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(Ol(t.firstChild.content,e-1,n)))}function Pl(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(Pl(t.lastChild.content,e-1,n)))}function lm(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function VN(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,VN(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(R.empty,!0)))),t.copy(r)}function cm(t,e,n,r,s){let i=t.node(e),o=s?t.indexAfter(e):t.index(e);if(o==i.childCount&&!n.compatibleContent(i.type))return null;let a=r.fillBefore(i.content,!0,o);return a&&!$5(n,i.content,o)?a:null}function $5(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function F5(t){return t.spec.defining||t.spec.definingForContent}function z5(t,e,n,r){if(!r.size)return t.deleteRange(e,n);let s=t.doc.resolve(e),i=t.doc.resolve(n);if(UN(s,i,r))return t.step(new gt(e,n,r));let o=WN(s,t.doc.resolve(n));o[o.length-1]==0&&o.pop();let a=-(s.depth+1);o.unshift(a);for(let f=s.depth,h=s.pos-1;f>0;f--,h--){let m=s.node(f).type.spec;if(m.defining||m.definingAsContext||m.isolating)break;o.indexOf(f)>-1?a=f:s.before(f)==h&&o.splice(1,0,-f)}let l=o.indexOf(a),c=[],u=r.openStart;for(let f=r.content,h=0;;h++){let m=f.firstChild;if(c.push(m),h==r.openStart)break;f=m.content}for(let f=u-1;f>=0;f--){let h=c[f],m=F5(h.type);if(m&&!h.sameMarkup(s.node(Math.abs(a)-1)))u=f;else if(m||!h.type.isTextblock)break}for(let f=r.openStart;f>=0;f--){let h=(f+u+1)%(r.openStart+1),m=c[h];if(m)for(let g=0;g<o.length;g++){let y=o[(g+l)%o.length],v=!0;y<0&&(v=!1,y=-y);let w=s.node(y-1),x=s.index(y-1);if(w.canReplaceWith(x,x,m.type,m.marks))return t.replace(s.before(y),v?i.after(y):n,new H(HN(r.content,0,r.openStart,h),h,r.openEnd))}}let d=t.steps.length;for(let f=o.length-1;f>=0&&(t.replace(e,n,r),!(t.steps.length>d));f--){let h=o[f];h<0||(e=s.before(h),n=i.after(h))}}function HN(t,e,n,r,s){if(e<n){let i=t.firstChild;t=t.replaceChild(0,i.copy(HN(i.content,e+1,n,r,i)))}if(e>r){let i=s.contentMatchAt(0),o=i.fillBefore(t).append(t);t=o.append(i.matchFragment(o).fillBefore(R.empty,!0))}return t}function B5(t,e,n,r){if(!r.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let s=D5(t.doc,e,r.type);s!=null&&(e=n=s)}t.replaceRange(e,n,new H(R.from(r),0,0))}function U5(t,e,n){let r=t.doc.resolve(e),s=t.doc.resolve(n),i=WN(r,s);for(let o=0;o<i.length;o++){let a=i[o],l=o==i.length-1;if(l&&a==0||r.node(a).type.contentMatch.validEnd)return t.delete(r.start(a),s.end(a));if(a>0&&(l||r.node(a-1).canReplace(r.index(a-1),s.indexAfter(a-1))))return t.delete(r.before(a),s.after(a))}for(let o=1;o<=r.depth&&o<=s.depth;o++)if(e-r.start(o)==r.depth-o&&n>r.end(o)&&s.end(o)-n!=s.depth-o&&r.start(o-1)==s.start(o-1)&&r.node(o-1).canReplace(r.index(o-1),s.index(o-1)))return t.delete(r.before(o),n);t.delete(e,n)}function WN(t,e){let n=[],r=Math.min(t.depth,e.depth);for(let s=r;s>=0;s--){let i=t.start(s);if(i<t.pos-(t.depth-s)||e.end(s)>e.pos+(e.depth-s)||t.node(s).type.spec.isolating||e.node(s).type.spec.isolating)break;(i==e.start(s)||s==t.depth&&s==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&s&&e.start(s-1)==i-1)&&n.push(s)}return n}class pa extends Lt{constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return lt.fail("No node at attribute step's position");let r=Object.create(null);for(let i in n.attrs)r[i]=n.attrs[i];r[this.attr]=this.value;let s=n.type.create(r,null,n.marks);return lt.fromReplace(e,this.pos,this.pos+1,new H(R.from(s),0,n.isLeaf?0:1))}getMap(){return ln.empty}invert(e){return new pa(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new pa(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new pa(n.pos,n.attr,n.value)}}Lt.jsonID("attr",pa);class Dc extends Lt{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let s in e.attrs)n[s]=e.attrs[s];n[this.attr]=this.value;let r=e.type.create(n,e.content,e.marks);return lt.ok(r)}getMap(){return ln.empty}invert(e){return new Dc(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Dc(n.attr,n.value)}}Lt.jsonID("docAttr",Dc);let Ha=class extends Error{};Ha=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};Ha.prototype=Object.create(Error.prototype);Ha.prototype.constructor=Ha;Ha.prototype.name="TransformError";class KN{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Ic}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new Ha(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,r=H.empty){let s=Vh(this.doc,e,n,r);return s&&this.step(s),this}replaceWith(e,n,r){return this.replace(e,n,new H(R.from(r),0,0))}delete(e,n){return this.replace(e,n,H.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,r){return z5(this,e,n,r),this}replaceRangeWith(e,n,r){return B5(this,e,n,r),this}deleteRange(e,n){return U5(this,e,n),this}lift(e,n){return _5(this,e,n),this}join(e,n=1){return I5(this,e,n),this}wrap(e,n){return A5(this,e,n),this}setBlockType(e,n=e,r,s=null){return O5(this,e,n,r,s),this}setNodeMarkup(e,n,r=null,s){return R5(this,e,n,r,s),this}setNodeAttribute(e,n,r){return this.step(new pa(e,n,r)),this}setDocAttribute(e,n){return this.step(new Dc(e,n)),this}addNodeMark(e,n){return this.step(new Is(e,n)),this}removeNodeMark(e,n){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(n instanceof Me)n.isInSet(r.marks)&&this.step(new ao(e,n));else{let s=r.marks,i,o=[];for(;i=n.isInSet(s);)o.push(new ao(e,i)),s=i.removeFromSet(s);for(let a=o.length-1;a>=0;a--)this.step(o[a])}return this}split(e,n=1,r){return M5(this,e,n,r),this}addMark(e,n,r){return S5(this,e,n,r),this}removeMark(e,n,r){return E5(this,e,n,r),this}clearIncompatible(e,n,r){return x0(this,e,n,r),this}}const um=Object.create(null);class me{constructor(e,n,r){this.$anchor=e,this.$head=n,this.ranges=r||[new V5(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=H.empty){let r=n.content.lastChild,s=null;for(let a=0;a<n.openEnd;a++)s=r,r=r.lastChild;let i=e.steps.length,o=this.ranges;for(let a=0;a<o.length;a++){let{$from:l,$to:c}=o[a],u=e.mapping.slice(i);e.replaceRange(u.map(l.pos),u.map(c.pos),a?H.empty:n),a==0&&l1(e,i,(r?r.isInline:s&&s.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,s=this.ranges;for(let i=0;i<s.length;i++){let{$from:o,$to:a}=s[i],l=e.mapping.slice(r),c=l.map(o.pos),u=l.map(a.pos);i?e.deleteRange(c,u):(e.replaceRangeWith(c,u,n),l1(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let s=e.parent.inlineContent?new ne(e):Fo(e.node(0),e.parent,e.pos,e.index(),n,r);if(s)return s;for(let i=e.depth-1;i>=0;i--){let o=n<0?Fo(e.node(0),e.node(i),e.before(i+1),e.index(i),n,r):Fo(e.node(0),e.node(i),e.after(i+1),e.index(i)+1,n,r);if(o)return o}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new Tn(e.node(0))}static atStart(e){return Fo(e,e,0,0,1)||new Tn(e)}static atEnd(e){return Fo(e,e,e.content.size,e.childCount,-1)||new Tn(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=um[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in um)throw new RangeError("Duplicate use of selection JSON ID "+e);return um[e]=n,n.prototype.jsonID=e,n}getBookmark(){return ne.between(this.$anchor,this.$head).getBookmark()}}me.prototype.visible=!0;class V5{constructor(e,n){this.$from=e,this.$to=n}}let o1=!1;function a1(t){!o1&&!t.parent.inlineContent&&(o1=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class ne extends me{constructor(e,n=e){a1(e),a1(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return me.near(r);let s=e.resolve(n.map(this.anchor));return new ne(s.parent.inlineContent?s:r,r)}replace(e,n=H.empty){if(super.replace(e,n),n==H.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof ne&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Hh(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new ne(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let s=e.resolve(n);return new this(s,r==n?s:e.resolve(r))}static between(e,n,r){let s=e.pos-n.pos;if((!r||s)&&(r=s>=0?1:-1),!n.parent.inlineContent){let i=me.findFrom(n,r,!0)||me.findFrom(n,-r,!0);if(i)n=i.$head;else return me.near(n,r)}return e.parent.inlineContent||(s==0?e=n:(e=(me.findFrom(e,-r,!0)||me.findFrom(e,r,!0)).$anchor,e.pos<n.pos!=s<0&&(e=n))),new ne(e,n)}}me.jsonID("text",ne);class Hh{constructor(e,n){this.anchor=e,this.head=n}map(e){return new Hh(e.map(this.anchor),e.map(this.head))}resolve(e){return ne.between(e.resolve(this.anchor),e.resolve(this.head))}}class X extends me{constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:s}=n.mapResult(this.anchor),i=e.resolve(s);return r?me.near(i):new X(i)}content(){return new H(R.from(this.node),0,0)}eq(e){return e instanceof X&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new k0(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new X(e.resolve(n.anchor))}static create(e,n){return new X(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}X.prototype.visible=!1;me.jsonID("node",X);class k0{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new Hh(r,r):new k0(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&X.isSelectable(r)?new X(n):me.near(n)}}class Tn extends me{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=H.empty){if(n==H.empty){e.delete(0,e.doc.content.size);let r=me.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new Tn(e)}map(e){return new Tn(e)}eq(e){return e instanceof Tn}getBookmark(){return H5}}me.jsonID("all",Tn);const H5={map(){return this},resolve(t){return new Tn(t)}};function Fo(t,e,n,r,s,i=!1){if(e.inlineContent)return ne.create(t,n);for(let o=r-(s>0?0:1);s>0?o<e.childCount:o>=0;o+=s){let a=e.child(o);if(a.isAtom){if(!i&&X.isSelectable(a))return X.create(t,n-(s<0?a.nodeSize:0))}else{let l=Fo(t,a,n+s,s<0?a.childCount:0,s,i);if(l)return l}n+=a.nodeSize*s}return null}function l1(t,e,n){let r=t.steps.length-1;if(r<e)return;let s=t.steps[r];if(!(s instanceof gt||s instanceof vt))return;let i=t.mapping.maps[r],o;i.forEach((a,l,c,u)=>{o==null&&(o=u)}),t.setSelection(me.near(t.doc.resolve(o),n))}const c1=1,qu=2,u1=4;class W5 extends KN{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|c1)&~qu,this.storedMarks=null,this}get selectionSet(){return(this.updated&c1)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=qu,this}ensureMarks(e){return Me.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&qu)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~qu,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let r=this.selection;return n&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||Me.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,r){let s=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(s.text(e),!0):this.deleteSelection();{if(r==null&&(r=n),r=r??n,!e)return this.deleteRange(n,r);let i=this.storedMarks;if(!i){let o=this.doc.resolve(n);i=r==n?o.marks():o.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,s.text(e,i)),this.selection.empty||this.setSelection(me.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=u1,this}get scrolledIntoView(){return(this.updated&u1)>0}}function d1(t,e){return!e||!t?t:t.bind(e)}class Rl{constructor(e,n,r){this.name=e,this.init=d1(n.init,r),this.apply=d1(n.apply,r)}}const K5=[new Rl("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new Rl("selection",{init(t,e){return t.selection||me.atStart(e.doc)},apply(t){return t.selection}}),new Rl("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new Rl("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class dm{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=K5.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new Rl(r.key,r.spec.state,r))})}}class ta{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let s=this.config.plugins[r];if(s.spec.filterTransaction&&!s.spec.filterTransaction.call(s,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],r=this.applyInner(e),s=null;for(;;){let i=!1;for(let o=0;o<this.config.plugins.length;o++){let a=this.config.plugins[o];if(a.spec.appendTransaction){let l=s?s[o].n:0,c=s?s[o].state:this,u=l<n.length&&a.spec.appendTransaction.call(a,l?n.slice(l):n,c,r);if(u&&r.filterTransaction(u,o)){if(u.setMeta("appendedTransaction",e),!s){s=[];for(let d=0;d<this.config.plugins.length;d++)s.push(d<o?{state:r,n:n.length}:{state:this,n:0})}n.push(u),r=r.applyInner(u),i=!0}s&&(s[o]={state:r,n:n.length})}}if(!i)return{state:r,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new ta(this.config),r=this.config.fields;for(let s=0;s<r.length;s++){let i=r[s];n[i.name]=i.apply(e,this[i.name],this,n)}return n}get tr(){return new W5(this)}static create(e){let n=new dm(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new ta(n);for(let s=0;s<n.fields.length;s++)r[n.fields[s].name]=n.fields[s].init(e,r);return r}reconfigure(e){let n=new dm(this.schema,e.plugins),r=n.fields,s=new ta(n);for(let i=0;i<r.length;i++){let o=r[i].name;s[o]=this.hasOwnProperty(o)?this[o]:r[i].init(e,s)}return s}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let s=e[r],i=s.spec.state;i&&i.toJSON&&(n[r]=i.toJSON.call(s,this[s.key]))}return n}static fromJSON(e,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let s=new dm(e.schema,e.plugins),i=new ta(s);return s.fields.forEach(o=>{if(o.name=="doc")i.doc=Gs.fromJSON(e.schema,n.doc);else if(o.name=="selection")i.selection=me.fromJSON(i.doc,n.selection);else if(o.name=="storedMarks")n.storedMarks&&(i.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let a in r){let l=r[a],c=l.spec.state;if(l.key==o.name&&c&&c.fromJSON&&Object.prototype.hasOwnProperty.call(n,a)){i[o.name]=c.fromJSON.call(l,e,n[a],i);return}}i[o.name]=o.init(e,i)}}),i}}function qN(t,e,n){for(let r in t){let s=t[r];s instanceof Function?s=s.bind(e):r=="handleDOMEvents"&&(s=qN(s,e,{})),n[r]=s}return n}class st{constructor(e){this.spec=e,this.props={},e.props&&qN(e.props,this,this.props),this.key=e.key?e.key.key:GN("plugin")}getState(e){return e[this.key]}}const fm=Object.create(null);function GN(t){return t in fm?t+"$"+ ++fm[t]:(fm[t]=0,t+"$")}class xt{constructor(e="key"){this.key=GN(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const St=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},Wa=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let py=null;const jr=function(t,e,n){let r=py||(py=document.createRange());return r.setEnd(t,n??t.nodeValue.length),r.setStart(t,e||0),r},q5=function(){py=null},lo=function(t,e,n,r){return n&&(f1(t,e,n,r,-1)||f1(t,e,n,r,1))},G5=/^(img|br|input|textarea|hr)$/i;function f1(t,e,n,r,s){for(var i;;){if(t==n&&e==r)return!0;if(e==(s<0?0:En(t))){let o=t.parentNode;if(!o||o.nodeType!=1||lu(t)||G5.test(t.nodeName)||t.contentEditable=="false")return!1;e=St(t)+(s<0?0:1),t=o}else if(t.nodeType==1){let o=t.childNodes[e+(s<0?-1:0)];if(o.nodeType==1&&o.contentEditable=="false")if(!((i=o.pmViewDesc)===null||i===void 0)&&i.ignoreForSelection)e+=s;else return!1;else t=o,e=s<0?En(t):0}else return!1}}function En(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function J5(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=En(t)}else if(t.parentNode&&!lu(t))e=St(t),t=t.parentNode;else return null}}function Q5(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!lu(t))e=St(t)+1,t=t.parentNode;else return null}}function Y5(t,e,n){for(let r=e==0,s=e==En(t);r||s;){if(t==n)return!0;let i=St(t);if(t=t.parentNode,!t)return!1;r=r&&i==0,s=s&&i==En(t)}}function lu(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const Wh=function(t){return t.focusNode&&lo(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function Ni(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function Z5(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function X5(t,e,n){if(t.caretPositionFromPoint)try{let r=t.caretPositionFromPoint(e,n);if(r)return{node:r.offsetNode,offset:Math.min(En(r.offsetNode),r.offset)}}catch{}if(t.caretRangeFromPoint){let r=t.caretRangeFromPoint(e,n);if(r)return{node:r.startContainer,offset:Math.min(En(r.startContainer),r.startOffset)}}}const kr=typeof navigator<"u"?navigator:null,h1=typeof document<"u"?document:null,gi=kr&&kr.userAgent||"",my=/Edge\/(\d+)/.exec(gi),JN=/MSIE \d/.exec(gi),gy=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(gi),sn=!!(JN||gy||my),Qs=JN?document.documentMode:gy?+gy[1]:my?+my[1]:0,Nn=!sn&&/gecko\/(\d+)/i.test(gi);Nn&&+(/Firefox\/(\d+)/.exec(gi)||[0,0])[1];const yy=!sn&&/Chrome\/(\d+)/.exec(gi),It=!!yy,QN=yy?+yy[1]:0,Wt=!sn&&!!kr&&/Apple Computer/.test(kr.vendor),Ka=Wt&&(/Mobile\/\w+/.test(gi)||!!kr&&kr.maxTouchPoints>2),bn=Ka||(kr?/Mac/.test(kr.platform):!1),eU=kr?/Win/.test(kr.platform):!1,Fr=/Android \d/.test(gi),cu=!!h1&&"webkitFontSmoothing"in h1.documentElement.style,tU=cu?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function nU(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function _r(t,e){return typeof t=="number"?t:t[e]}function rU(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function p1(t,e,n){let r=t.someProp("scrollThreshold")||0,s=t.someProp("scrollMargin")||5,i=t.dom.ownerDocument;for(let o=n||t.dom;o;){if(o.nodeType!=1){o=Wa(o);continue}let a=o,l=a==i.body,c=l?nU(i):rU(a),u=0,d=0;if(e.top<c.top+_r(r,"top")?d=-(c.top-e.top+_r(s,"top")):e.bottom>c.bottom-_r(r,"bottom")&&(d=e.bottom-e.top>c.bottom-c.top?e.top+_r(s,"top")-c.top:e.bottom-c.bottom+_r(s,"bottom")),e.left<c.left+_r(r,"left")?u=-(c.left-e.left+_r(s,"left")):e.right>c.right-_r(r,"right")&&(u=e.right-c.right+_r(s,"right")),u||d)if(l)i.defaultView.scrollBy(u,d);else{let h=a.scrollLeft,m=a.scrollTop;d&&(a.scrollTop+=d),u&&(a.scrollLeft+=u);let g=a.scrollLeft-h,y=a.scrollTop-m;e={left:e.left-g,top:e.top-y,right:e.right-g,bottom:e.bottom-y}}let f=l?"fixed":getComputedStyle(o).position;if(/^(fixed|sticky)$/.test(f))break;o=f=="absolute"?o.offsetParent:Wa(o)}}function sU(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),r,s;for(let i=(e.left+e.right)/2,o=n+1;o<Math.min(innerHeight,e.bottom);o+=5){let a=t.root.elementFromPoint(i,o);if(!a||a==t.dom||!t.dom.contains(a))continue;let l=a.getBoundingClientRect();if(l.top>=n-20){r=a,s=l.top;break}}return{refDOM:r,refTop:s,stack:YN(t.dom)}}function YN(t){let e=[],n=t.ownerDocument;for(let r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=Wa(r));return e}function iU({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;ZN(n,r==0?0:r-e)}function ZN(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:s,left:i}=t[n];r.scrollTop!=s+e&&(r.scrollTop=s+e),r.scrollLeft!=i&&(r.scrollLeft=i)}}let jo=null;function oU(t){if(t.setActive)return t.setActive();if(jo)return t.focus(jo);let e=YN(t);t.focus(jo==null?{get preventScroll(){return jo={preventScroll:!0},!0}}:void 0),jo||(jo=!1,ZN(e,0))}function XN(t,e){let n,r=2e8,s,i=0,o=e.top,a=e.top,l,c;for(let u=t.firstChild,d=0;u;u=u.nextSibling,d++){let f;if(u.nodeType==1)f=u.getClientRects();else if(u.nodeType==3)f=jr(u).getClientRects();else continue;for(let h=0;h<f.length;h++){let m=f[h];if(m.top<=o&&m.bottom>=a){o=Math.max(m.bottom,o),a=Math.min(m.top,a);let g=m.left>e.left?m.left-e.left:m.right<e.left?e.left-m.right:0;if(g<r){n=u,r=g,s=g&&n.nodeType==3?{left:m.right<e.left?m.right:m.left,top:e.top}:e,u.nodeType==1&&g&&(i=d+(e.left>=(m.left+m.right)/2?1:0));continue}}else m.top>e.top&&!l&&m.left<=e.left&&m.right>=e.left&&(l=u,c={left:Math.max(m.left,Math.min(m.right,e.left)),top:m.top});!n&&(e.left>=m.right&&e.top>=m.top||e.left>=m.left&&e.top>=m.bottom)&&(i=d+1)}}return!n&&l&&(n=l,s=c,r=0),n&&n.nodeType==3?aU(n,s):!n||r&&n.nodeType==1?{node:t,offset:i}:XN(n,s)}function aU(t,e){let n=t.nodeValue.length,r=document.createRange();for(let s=0;s<n;s++){r.setEnd(t,s+1),r.setStart(t,s);let i=hs(r,1);if(i.top!=i.bottom&&S0(e,i))return{node:t,offset:s+(e.left>=(i.left+i.right)/2?1:0)}}return{node:t,offset:0}}function S0(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function lU(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function cU(t,e,n){let{node:r,offset:s}=XN(e,n),i=-1;if(r.nodeType==1&&!r.firstChild){let o=r.getBoundingClientRect();i=o.left!=o.right&&n.left>(o.left+o.right)/2?1:-1}return t.docView.posFromDOM(r,s,i)}function uU(t,e,n,r){let s=-1;for(let i=e,o=!1;i!=t.dom;){let a=t.docView.nearestDesc(i,!0),l;if(!a)return null;if(a.dom.nodeType==1&&(a.node.isBlock&&a.parent||!a.contentDOM)&&((l=a.dom.getBoundingClientRect()).width||l.height)&&(a.node.isBlock&&a.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(a.dom.nodeName)&&(!o&&l.left>r.left||l.top>r.top?s=a.posBefore:(!o&&l.right<r.left||l.bottom<r.top)&&(s=a.posAfter),o=!0),!a.contentDOM&&s<0&&!a.node.isText))return(a.node.isBlock?r.top<(l.top+l.bottom)/2:r.left<(l.left+l.right)/2)?a.posBefore:a.posAfter;i=a.dom.parentNode}return s>-1?s:t.docView.posFromDOM(e,n,-1)}function eA(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let s=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),i=s;;){let o=t.childNodes[i];if(o.nodeType==1){let a=o.getClientRects();for(let l=0;l<a.length;l++){let c=a[l];if(S0(e,c))return eA(o,e,c)}}if((i=(i+1)%r)==s)break}return t}function dU(t,e){let n=t.dom.ownerDocument,r,s=0,i=X5(n,e.left,e.top);i&&({node:r,offset:s}=i);let o=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),a;if(!o||!t.dom.contains(o.nodeType!=1?o.parentNode:o)){let c=t.dom.getBoundingClientRect();if(!S0(e,c)||(o=eA(t.dom,e,c),!o))return null}if(Wt)for(let c=o;r&&c;c=Wa(c))c.draggable&&(r=void 0);if(o=lU(o,e),r){if(Nn&&r.nodeType==1&&(s=Math.min(s,r.childNodes.length),s<r.childNodes.length)){let u=r.childNodes[s],d;u.nodeName=="IMG"&&(d=u.getBoundingClientRect()).right<=e.left&&d.bottom>e.top&&s++}let c;cu&&s&&r.nodeType==1&&(c=r.childNodes[s-1]).nodeType==1&&c.contentEditable=="false"&&c.getBoundingClientRect().top>=e.top&&s--,r==t.dom&&s==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?a=t.state.doc.content.size:(s==0||r.nodeType!=1||r.childNodes[s-1].nodeName!="BR")&&(a=uU(t,r,s,e))}a==null&&(a=cU(t,o,e));let l=t.docView.nearestDesc(o,!0);return{pos:a,inside:l?l.posAtStart-l.border:-1}}function m1(t){return t.top<t.bottom||t.left<t.right}function hs(t,e){let n=t.getClientRects();if(n.length){let r=n[e<0?0:n.length-1];if(m1(r))return r}return Array.prototype.find.call(n,m1)||t.getBoundingClientRect()}const fU=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function tA(t,e,n){let{node:r,offset:s,atom:i}=t.docView.domFromPos(e,n<0?-1:1),o=cu||Nn;if(r.nodeType==3)if(o&&(fU.test(r.nodeValue)||(n<0?!s:s==r.nodeValue.length))){let l=hs(jr(r,s,s),n);if(Nn&&s&&/\s/.test(r.nodeValue[s-1])&&s<r.nodeValue.length){let c=hs(jr(r,s-1,s-1),-1);if(c.top==l.top){let u=hs(jr(r,s,s+1),-1);if(u.top!=l.top)return bl(u,u.left<c.left)}}return l}else{let l=s,c=s,u=n<0?1:-1;return n<0&&!s?(c++,u=-1):n>=0&&s==r.nodeValue.length?(l--,u=1):n<0?l--:c++,bl(hs(jr(r,l,c),u),u<0)}if(!t.state.doc.resolve(e-(i||0)).parent.inlineContent){if(i==null&&s&&(n<0||s==En(r))){let l=r.childNodes[s-1];if(l.nodeType==1)return hm(l.getBoundingClientRect(),!1)}if(i==null&&s<En(r)){let l=r.childNodes[s];if(l.nodeType==1)return hm(l.getBoundingClientRect(),!0)}return hm(r.getBoundingClientRect(),n>=0)}if(i==null&&s&&(n<0||s==En(r))){let l=r.childNodes[s-1],c=l.nodeType==3?jr(l,En(l)-(o?0:1)):l.nodeType==1&&(l.nodeName!="BR"||!l.nextSibling)?l:null;if(c)return bl(hs(c,1),!1)}if(i==null&&s<En(r)){let l=r.childNodes[s];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let c=l?l.nodeType==3?jr(l,0,o?0:1):l.nodeType==1?l:null:null;if(c)return bl(hs(c,-1),!0)}return bl(hs(r.nodeType==3?jr(r):r,-n),n>=0)}function bl(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function hm(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function nA(t,e,n){let r=t.state,s=t.root.activeElement;r!=e&&t.updateState(e),s!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),s!=t.dom&&s&&s.focus()}}function hU(t,e,n){let r=e.selection,s=n=="up"?r.$from:r.$to;return nA(t,e,()=>{let{node:i}=t.docView.domFromPos(s.pos,n=="up"?-1:1);for(;;){let a=t.docView.nearestDesc(i,!0);if(!a)break;if(a.node.isBlock){i=a.contentDOM||a.dom;break}i=a.dom.parentNode}let o=tA(t,s.pos,1);for(let a=i.firstChild;a;a=a.nextSibling){let l;if(a.nodeType==1)l=a.getClientRects();else if(a.nodeType==3)l=jr(a,0,a.nodeValue.length).getClientRects();else continue;for(let c=0;c<l.length;c++){let u=l[c];if(u.bottom>u.top+1&&(n=="up"?o.top-u.top>(u.bottom-o.top)*2:u.bottom-o.bottom>(o.bottom-u.top)*2))return!1}}return!0})}const pU=/[\u0590-\u08ac]/;function mU(t,e,n){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let s=r.parentOffset,i=!s,o=s==r.parent.content.size,a=t.domSelection();return a?!pU.test(r.parent.textContent)||!a.modify?n=="left"||n=="backward"?i:o:nA(t,e,()=>{let{focusNode:l,focusOffset:c,anchorNode:u,anchorOffset:d}=t.domSelectionRange(),f=a.caretBidiLevel;a.modify("move",n,"character");let h=r.depth?t.docView.domAfterPos(r.before()):t.dom,{focusNode:m,focusOffset:g}=t.domSelectionRange(),y=m&&!h.contains(m.nodeType==1?m:m.parentNode)||l==m&&c==g;try{a.collapse(u,d),l&&(l!=u||c!=d)&&a.extend&&a.extend(l,c)}catch{}return f!=null&&(a.caretBidiLevel=f),y}):r.pos==r.start()||r.pos==r.end()}let g1=null,y1=null,v1=!1;function gU(t,e,n){return g1==e&&y1==n?v1:(g1=e,y1=n,v1=n=="up"||n=="down"?hU(t,e,n):mU(t,e,n))}const An=0,w1=1,Mi=2,Sr=3;class uu{constructor(e,n,r,s){this.parent=e,this.children=n,this.dom=r,this.contentDOM=s,this.dirty=An,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,r=this.posAtStart;;n++){let s=this.children[n];if(s==e)return r;r+=s.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let i,o;if(e==this.contentDOM)i=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;i=e.previousSibling}for(;i&&!((o=i.pmViewDesc)&&o.parent==this);)i=i.previousSibling;return i?this.posBeforeChild(o)+o.size:this.posAtStart}else{let i,o;if(e==this.contentDOM)i=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;i=e.nextSibling}for(;i&&!((o=i.pmViewDesc)&&o.parent==this);)i=i.nextSibling;return i?this.posBeforeChild(o):this.posAtEnd}let s;if(e==this.dom&&this.contentDOM)s=n>St(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))s=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let i=e;;i=i.parentNode){if(i==this.dom){s=!1;break}if(i.previousSibling)break}if(s==null&&n==e.childNodes.length)for(let i=e;;i=i.parentNode){if(i==this.dom){s=!0;break}if(i.nextSibling)break}}return s??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let r=!0,s=e;s;s=s.parentNode){let i=this.getDesc(s),o;if(i&&(!n||i.node))if(r&&(o=i.nodeDOM)&&!(o.nodeType==1?o.contains(e.nodeType==1?e:e.parentNode):o==e))r=!1;else return i}}getDesc(e){let n=e.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(e,n,r){for(let s=e;s;s=s.parentNode){let i=this.getDesc(s);if(i)return i.localPosFromDOM(e,n,r)}return-1}descAt(e){for(let n=0,r=0;n<this.children.length;n++){let s=this.children[n],i=r+s.size;if(r==e&&i!=r){for(;!s.border&&s.children.length;)for(let o=0;o<s.children.length;o++){let a=s.children[o];if(a.size){s=a;break}}return s}if(e<i)return s.descAt(e-r-s.border);r=i}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,s=0;for(let i=0;r<this.children.length;r++){let o=this.children[r],a=i+o.size;if(a>e||o instanceof sA){s=e-i;break}i=a}if(s)return this.children[r].domFromPos(s-this.children[r].border,n);for(let i;r&&!(i=this.children[r-1]).size&&i instanceof rA&&i.side>=0;r--);if(n<=0){let i,o=!0;for(;i=r?this.children[r-1]:null,!(!i||i.dom.parentNode==this.contentDOM);r--,o=!1);return i&&n&&o&&!i.border&&!i.domAtom?i.domFromPos(i.size,n):{node:this.contentDOM,offset:i?St(i.dom)+1:0}}else{let i,o=!0;for(;i=r<this.children.length?this.children[r]:null,!(!i||i.dom.parentNode==this.contentDOM);r++,o=!1);return i&&o&&!i.border&&!i.domAtom?i.domFromPos(0,n):{node:this.contentDOM,offset:i?St(i.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let s=-1,i=-1;for(let o=r,a=0;;a++){let l=this.children[a],c=o+l.size;if(s==-1&&e<=c){let u=o+l.border;if(e>=u&&n<=c-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(e,n,u);e=o;for(let d=a;d>0;d--){let f=this.children[d-1];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(1)){s=St(f.dom)+1;break}e-=f.size}s==-1&&(s=0)}if(s>-1&&(c>n||a==this.children.length-1)){n=c;for(let u=a+1;u<this.children.length;u++){let d=this.children[u];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(-1)){i=St(d.dom);break}n+=d.size}i==-1&&(i=this.contentDOM.childNodes.length);break}o=c}return{node:this.contentDOM,from:e,to:n,fromOffset:s,toOffset:i}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:r}=this.domFromPos(e,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]}setSelection(e,n,r,s=!1){let i=Math.min(e,n),o=Math.max(e,n);for(let h=0,m=0;h<this.children.length;h++){let g=this.children[h],y=m+g.size;if(i>m&&o<y)return g.setSelection(e-m-g.border,n-m-g.border,r,s);m=y}let a=this.domFromPos(e,e?-1:1),l=n==e?a:this.domFromPos(n,n?-1:1),c=r.root.getSelection(),u=r.domSelectionRange(),d=!1;if((Nn||Wt)&&e==n){let{node:h,offset:m}=a;if(h.nodeType==3){if(d=!!(m&&h.nodeValue[m-1]==`
`),d&&m==h.nodeValue.length)for(let g=h,y;g;g=g.parentNode){if(y=g.nextSibling){y.nodeName=="BR"&&(a=l={node:y.parentNode,offset:St(y)+1});break}let v=g.pmViewDesc;if(v&&v.node&&v.node.isBlock)break}}else{let g=h.childNodes[m-1];d=g&&(g.nodeName=="BR"||g.contentEditable=="false")}}if(Nn&&u.focusNode&&u.focusNode!=l.node&&u.focusNode.nodeType==1){let h=u.focusNode.childNodes[u.focusOffset];h&&h.contentEditable=="false"&&(s=!0)}if(!(s||d&&Wt)&&lo(a.node,a.offset,u.anchorNode,u.anchorOffset)&&lo(l.node,l.offset,u.focusNode,u.focusOffset))return;let f=!1;if((c.extend||e==n)&&!(d&&Nn)){c.collapse(a.node,a.offset);try{e!=n&&c.extend(l.node,l.offset),f=!0}catch{}}if(!f){if(e>n){let m=a;a=l,l=m}let h=document.createRange();h.setEnd(l.node,l.offset),h.setStart(a.node,a.offset),c.removeAllRanges(),c.addRange(h)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let r=0,s=0;s<this.children.length;s++){let i=this.children[s],o=r+i.size;if(r==o?e<=o&&n>=r:e<o&&n>r){let a=r+i.border,l=o-i.border;if(e>=a&&n<=l){this.dirty=e==r||n==o?Mi:w1,e==a&&n==l&&(i.contentLost||i.dom.parentNode!=this.contentDOM)?i.dirty=Sr:i.markDirty(e-a,n-a);return}else i.dirty=i.dom==i.contentDOM&&i.dom.parentNode==this.contentDOM&&!i.children.length?Mi:Sr}r=o}this.dirty=Mi}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let r=e==1?Mi:w1;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class rA extends uu{constructor(e,n,r,s){let i,o=n.type.toDOM;if(typeof o=="function"&&(o=o(r,()=>{if(!i)return s;if(i.parent)return i.parent.posBeforeChild(i)})),!n.type.spec.raw){if(o.nodeType!=1){let a=document.createElement("span");a.appendChild(o),o=a}o.contentEditable="false",o.classList.add("ProseMirror-widget")}super(e,[],o,null),this.widget=n,this.widget=n,i=this}matchesWidget(e){return this.dirty==An&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class yU extends uu{constructor(e,n,r,s){super(e,[],n,null),this.textDOM=r,this.text=s}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class co extends uu{constructor(e,n,r,s,i){super(e,[],r,s),this.mark=n,this.spec=i}static create(e,n,r,s){let i=s.nodeViews[n.type.name],o=i&&i(n,s,r);return(!o||!o.dom)&&(o=wo.renderSpec(document,n.type.spec.toDOM(n,r),null,n.attrs)),new co(e,n,o.dom,o.contentDOM||o.dom,o)}parseRule(){return this.dirty&Sr||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=Sr&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=An){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=An}}slice(e,n,r){let s=co.create(this.parent,this.mark,!0,r),i=this.children,o=this.size;n<o&&(i=wy(i,n,o,r)),e>0&&(i=wy(i,0,e,r));for(let a=0;a<i.length;a++)i[a].parent=s;return s.children=i,s}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class Ys extends uu{constructor(e,n,r,s,i,o,a,l,c){super(e,[],i,o),this.node=n,this.outerDeco=r,this.innerDeco=s,this.nodeDOM=a}static create(e,n,r,s,i,o){let a=i.nodeViews[n.type.name],l,c=a&&a(n,i,()=>{if(!l)return o;if(l.parent)return l.parent.posBeforeChild(l)},r,s),u=c&&c.dom,d=c&&c.contentDOM;if(n.isText){if(!u)u=document.createTextNode(n.text);else if(u.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else u||({dom:u,contentDOM:d}=wo.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!d&&!n.isText&&u.nodeName!="BR"&&(u.hasAttribute("contenteditable")||(u.contentEditable="false"),n.type.spec.draggable&&(u.draggable=!0));let f=u;return u=aA(u,r,n),c?l=new vU(e,n,r,s,u,d||null,f,c,i,o+1):n.isText?new Kh(e,n,r,s,u,f,i):new Ys(e,n,r,s,u,d||null,f,i,o+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>R.empty)}return e}matchesNode(e,n,r){return this.dirty==An&&e.eq(this.node)&&gf(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let r=this.node.inlineContent,s=n,i=e.composing?this.localCompositionInfo(e,n):null,o=i&&i.pos>-1?i:null,a=i&&i.pos<0,l=new xU(this,o&&o.node,e);SU(this.node,this.innerDeco,(c,u,d)=>{c.spec.marks?l.syncToMarks(c.spec.marks,r,e):c.type.side>=0&&!d&&l.syncToMarks(u==this.node.childCount?Me.none:this.node.child(u).marks,r,e),l.placeWidget(c,e,s)},(c,u,d,f)=>{l.syncToMarks(c.marks,r,e);let h;l.findNodeMatch(c,u,d,f)||a&&e.state.selection.from>s&&e.state.selection.to<s+c.nodeSize&&(h=l.findIndexWithChild(i.node))>-1&&l.updateNodeAt(c,u,d,h,e)||l.updateNextNode(c,u,d,e,f,s)||l.addNode(c,u,d,e,s),s+=c.nodeSize}),l.syncToMarks([],r,e),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==Mi)&&(o&&this.protectLocalComposition(e,o),iA(this.contentDOM,this.children,e),Ka&&EU(this.dom))}localCompositionInfo(e,n){let{from:r,to:s}=e.state.selection;if(!(e.state.selection instanceof ne)||r<n||s>n+this.node.content.size)return null;let i=e.input.compositionNode;if(!i||!this.dom.contains(i.parentNode))return null;if(this.node.inlineContent){let o=i.nodeValue,a=CU(this.node.content,o,r-n,s-n);return a<0?null:{node:i,pos:a,text:o}}else return{node:i,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:r,text:s}){if(this.getDesc(n))return;let i=n;for(;i.parentNode!=this.contentDOM;i=i.parentNode){for(;i.previousSibling;)i.parentNode.removeChild(i.previousSibling);for(;i.nextSibling;)i.parentNode.removeChild(i.nextSibling);i.pmViewDesc&&(i.pmViewDesc=void 0)}let o=new yU(this,i,n,s);e.input.compositionNodes.push(o),this.children=wy(this.children,r,r+s.length,e,o)}update(e,n,r,s){return this.dirty==Sr||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,r,s),!0)}updateInner(e,n,r,s){this.updateOuterDeco(n),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(s,this.posAtStart),this.dirty=An}updateOuterDeco(e){if(gf(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=oA(this.dom,this.nodeDOM,vy(this.outerDeco,this.node,n),vy(e,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function x1(t,e,n,r,s){aA(r,e,t);let i=new Ys(void 0,t,e,n,r,r,r,s,0);return i.contentDOM&&i.updateChildren(s,0),i}class Kh extends Ys{constructor(e,n,r,s,i,o,a){super(e,n,r,s,i,null,o,a,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,r,s){return this.dirty==Sr||this.dirty!=An&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=An||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,s.trackWrites==this.nodeDOM&&(s.trackWrites=null)),this.node=e,this.dirty=An,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,r){let s=this.node.cut(e,n),i=document.createTextNode(s.text);return new Kh(this.parent,s,this.outerDeco,this.innerDeco,i,i,r)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=Sr)}get domAtom(){return!1}isText(e){return this.node.text==e}}class sA extends uu{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==An&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class vU extends Ys{constructor(e,n,r,s,i,o,a,l,c,u){super(e,n,r,s,i,o,a,c,u),this.spec=l}update(e,n,r,s){if(this.dirty==Sr)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let i=this.spec.update(e,n,r);return i&&this.updateInner(e,n,r,s),i}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,r,s)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,r,s){this.spec.setSelection?this.spec.setSelection(e,n,r.root):super.setSelection(e,n,r,s)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function iA(t,e,n){let r=t.firstChild,s=!1;for(let i=0;i<e.length;i++){let o=e[i],a=o.dom;if(a.parentNode==t){for(;a!=r;)r=b1(r),s=!0;r=r.nextSibling}else s=!0,t.insertBefore(a,r);if(o instanceof co){let l=r?r.previousSibling:t.lastChild;iA(o.contentDOM,o.children,n),r=l?l.nextSibling:t.firstChild}}for(;r;)r=b1(r),s=!0;s&&n.trackWrites==t&&(n.trackWrites=null)}const Jl=function(t){t&&(this.nodeName=t)};Jl.prototype=Object.create(null);const ji=[new Jl];function vy(t,e,n){if(t.length==0)return ji;let r=n?ji[0]:new Jl,s=[r];for(let i=0;i<t.length;i++){let o=t[i].type.attrs;if(o){o.nodeName&&s.push(r=new Jl(o.nodeName));for(let a in o){let l=o[a];l!=null&&(n&&s.length==1&&s.push(r=new Jl(e.isInline?"span":"div")),a=="class"?r.class=(r.class?r.class+" ":"")+l:a=="style"?r.style=(r.style?r.style+";":"")+l:a!="nodeName"&&(r[a]=l))}}}return s}function oA(t,e,n,r){if(n==ji&&r==ji)return e;let s=e;for(let i=0;i<r.length;i++){let o=r[i],a=n[i];if(i){let l;a&&a.nodeName==o.nodeName&&s!=t&&(l=s.parentNode)&&l.nodeName.toLowerCase()==o.nodeName||(l=document.createElement(o.nodeName),l.pmIsDeco=!0,l.appendChild(s),a=ji[0]),s=l}wU(s,a||ji[0],o)}return s}function wU(t,e,n){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&t.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],s=n.class?n.class.split(" ").filter(Boolean):[];for(let i=0;i<r.length;i++)s.indexOf(r[i])==-1&&t.classList.remove(r[i]);for(let i=0;i<s.length;i++)r.indexOf(s[i])==-1&&t.classList.add(s[i]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,s;for(;s=r.exec(e.style);)t.style.removeProperty(s[1])}n.style&&(t.style.cssText+=n.style)}}function aA(t,e,n){return oA(t,t,ji,vy(e,n,t.nodeType!=1))}function gf(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function b1(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class xU{constructor(e,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=bU(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let r=e;r<n;r++)this.top.children[r].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,r){let s=0,i=this.stack.length>>1,o=Math.min(i,e.length);for(;s<o&&(s==i-1?this.top:this.stack[s+1<<1]).matchesMark(e[s])&&e[s].type.spec.spanning!==!1;)s++;for(;s<i;)this.destroyRest(),this.top.dirty=An,this.index=this.stack.pop(),this.top=this.stack.pop(),i--;for(;i<e.length;){this.stack.push(this.top,this.index+1);let a=-1;for(let l=this.index;l<Math.min(this.index+3,this.top.children.length);l++){let c=this.top.children[l];if(c.matchesMark(e[i])&&!this.isLocked(c.dom)){a=l;break}}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{let l=co.create(this.top,e[i],n,r);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,i++}}findNodeMatch(e,n,r,s){let i=-1,o;if(s>=this.preMatch.index&&(o=this.preMatch.matches[s-this.preMatch.index]).parent==this.top&&o.matchesNode(e,n,r))i=this.top.children.indexOf(o,this.index);else for(let a=this.index,l=Math.min(this.top.children.length,a+5);a<l;a++){let c=this.top.children[a];if(c.matchesNode(e,n,r)&&!this.preMatch.matched.has(c)){i=a;break}}return i<0?!1:(this.destroyBetween(this.index,i),this.index++,!0)}updateNodeAt(e,n,r,s,i){let o=this.top.children[s];return o.dirty==Sr&&o.dom==o.contentDOM&&(o.dirty=Mi),o.update(e,n,r,i)?(this.destroyBetween(this.index,s),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let s=this.index;s<this.top.children.length;s++)if(this.top.children[s]==r)return s}return-1}e=n}}updateNextNode(e,n,r,s,i,o){for(let a=this.index;a<this.top.children.length;a++){let l=this.top.children[a];if(l instanceof Ys){let c=this.preMatch.matched.get(l);if(c!=null&&c!=i)return!1;let u=l.dom,d,f=this.isLocked(u)&&!(e.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==e.text&&l.dirty!=Sr&&gf(n,l.outerDeco));if(!f&&l.update(e,n,r,s))return this.destroyBetween(this.index,a),l.dom!=u&&(this.changed=!0),this.index++,!0;if(!f&&(d=this.recreateWrapper(l,e,n,r,s,o)))return this.destroyBetween(this.index,a),this.top.children[this.index]=d,d.contentDOM&&(d.dirty=Mi,d.updateChildren(s,o+1),d.dirty=An),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,r,s,i,o){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content)||!gf(r,e.outerDeco)||!s.eq(e.innerDeco))return null;let a=Ys.create(this.top,n,r,s,i,o);if(a.contentDOM){a.children=e.children,e.children=[];for(let l of a.children)l.parent=a}return e.destroy(),a}addNode(e,n,r,s,i){let o=Ys.create(this.top,e,n,r,s,i);o.contentDOM&&o.updateChildren(s,i+1),this.top.children.splice(this.index++,0,o),this.changed=!0}placeWidget(e,n,r){let s=this.index<this.top.children.length?this.top.children[this.index]:null;if(s&&s.matchesWidget(e)&&(e==s.widget||!s.widget.type.toDOM.parentNode))this.index++;else{let i=new rA(this.top,e,n,r);this.top.children.splice(this.index++,0,i),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof co;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof Kh)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((Wt||It)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let s=new sA(this.top,[],r,null);n!=this.top?n.children.push(s):n.children.splice(this.index++,0,s),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function bU(t,e){let n=e,r=n.children.length,s=t.childCount,i=new Map,o=[];e:for(;s>0;){let a;for(;;)if(r){let c=n.children[r-1];if(c instanceof co)n=c,r=c.children.length;else{a=c,r--;break}}else{if(n==e)break e;r=n.parent.children.indexOf(n),n=n.parent}let l=a.node;if(l){if(l!=t.child(s-1))break;--s,i.set(a,s),o.push(a)}}return{index:s,matched:i,matches:o.reverse()}}function kU(t,e){return t.type.side-e.type.side}function SU(t,e,n,r){let s=e.locals(t),i=0;if(s.length==0){for(let c=0;c<t.childCount;c++){let u=t.child(c);r(u,s,e.forChild(i,u),c),i+=u.nodeSize}return}let o=0,a=[],l=null;for(let c=0;;){let u,d;for(;o<s.length&&s[o].to==i;){let y=s[o++];y.widget&&(u?(d||(d=[u])).push(y):u=y)}if(u)if(d){d.sort(kU);for(let y=0;y<d.length;y++)n(d[y],c,!!l)}else n(u,c,!!l);let f,h;if(l)h=-1,f=l,l=null;else if(c<t.childCount)h=c,f=t.child(c++);else break;for(let y=0;y<a.length;y++)a[y].to<=i&&a.splice(y--,1);for(;o<s.length&&s[o].from<=i&&s[o].to>i;)a.push(s[o++]);let m=i+f.nodeSize;if(f.isText){let y=m;o<s.length&&s[o].from<y&&(y=s[o].from);for(let v=0;v<a.length;v++)a[v].to<y&&(y=a[v].to);y<m&&(l=f.cut(y-i),f=f.cut(0,y-i),m=y,h=-1)}else for(;o<s.length&&s[o].to<m;)o++;let g=f.isInline&&!f.isLeaf?a.filter(y=>!y.inline):a.slice();r(f,g,e.forChild(i,f),h),i=m}}function EU(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function CU(t,e,n,r){for(let s=0,i=0;s<t.childCount&&i<=r;){let o=t.child(s++),a=i;if(i+=o.nodeSize,!o.isText)continue;let l=o.text;for(;s<t.childCount;){let c=t.child(s++);if(i+=c.nodeSize,!c.isText)break;l+=c.text}if(i>=n){if(i>=r&&l.slice(r-e.length-a,r-a)==e)return r-e.length;let c=a<r?l.lastIndexOf(e,r-a-1):-1;if(c>=0&&c+e.length+a>=n)return a+c;if(n==r&&l.length>=r+e.length-a&&l.slice(r-a,r-a+e.length)==e)return r}}return-1}function wy(t,e,n,r,s){let i=[];for(let o=0,a=0;o<t.length;o++){let l=t[o],c=a,u=a+=l.size;c>=n||u<=e?i.push(l):(c<e&&i.push(l.slice(0,e-c,r)),s&&(i.push(s),s=void 0),u>n&&i.push(l.slice(n-c,l.size,r)))}return i}function E0(t,e=null){let n=t.domSelectionRange(),r=t.state.doc;if(!n.focusNode)return null;let s=t.docView.nearestDesc(n.focusNode),i=s&&s.size==0,o=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(o<0)return null;let a=r.resolve(o),l,c;if(Wh(n)){for(l=o;s&&!s.node;)s=s.parent;let d=s.node;if(s&&d.isAtom&&X.isSelectable(d)&&s.parent&&!(d.isInline&&Y5(n.focusNode,n.focusOffset,s.dom))){let f=s.posBefore;c=new X(o==f?a:r.resolve(f))}}else{if(n instanceof t.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let d=o,f=o;for(let h=0;h<n.rangeCount;h++){let m=n.getRangeAt(h);d=Math.min(d,t.docView.posFromDOM(m.startContainer,m.startOffset,1)),f=Math.max(f,t.docView.posFromDOM(m.endContainer,m.endOffset,-1))}if(d<0)return null;[l,o]=f==t.state.selection.anchor?[f,d]:[d,f],a=r.resolve(o)}else l=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(l<0)return null}let u=r.resolve(l);if(!c){let d=e=="pointer"||t.state.selection.head<a.pos&&!i?1:-1;c=C0(t,u,a,d)}return c}function lA(t){return t.editable?t.hasFocus():uA(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function Br(t,e=!1){let n=t.state.selection;if(cA(t,n),!!lA(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&It){let r=t.domSelectionRange(),s=t.domObserver.currentSelection;if(r.anchorNode&&s.anchorNode&&lo(r.anchorNode,r.anchorOffset,s.anchorNode,s.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)TU(t);else{let{anchor:r,head:s}=n,i,o;k1&&!(n instanceof ne)&&(n.$from.parent.inlineContent||(i=S1(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(o=S1(t,n.to))),t.docView.setSelection(r,s,t,e),k1&&(i&&E1(i),o&&E1(o)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&_U(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const k1=Wt||It&&QN<63;function S1(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),s=r<n.childNodes.length?n.childNodes[r]:null,i=r?n.childNodes[r-1]:null;if(Wt&&s&&s.contentEditable=="false")return pm(s);if((!s||s.contentEditable=="false")&&(!i||i.contentEditable=="false")){if(s)return pm(s);if(i)return pm(i)}}function pm(t){return t.contentEditable="true",Wt&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function E1(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function _U(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),r=n.anchorNode,s=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=s)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!lA(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function TU(t){let e=t.domSelection();if(!e)return;let n=t.cursorWrapper.dom,r=n.nodeName=="IMG";r?e.collapse(n.parentNode,St(n)+1):e.collapse(n,0),!r&&!t.state.selection.visible&&sn&&Qs<=11&&(n.disabled=!0,n.disabled=!1)}function cA(t,e){if(e instanceof X){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(C1(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else C1(t)}function C1(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function C0(t,e,n,r){return t.someProp("createSelectionBetween",s=>s(t,e,n))||ne.between(e,n,r)}function _1(t){return t.editable&&!t.hasFocus()?!1:uA(t)}function uA(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function NU(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return lo(e.node,e.offset,n.anchorNode,n.anchorOffset)}function xy(t,e){let{$anchor:n,$head:r}=t.selection,s=e>0?n.max(r):n.min(r),i=s.parent.inlineContent?s.depth?t.doc.resolve(e>0?s.after():s.before()):null:s;return i&&me.findFrom(i,e)}function ys(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function T1(t,e,n){let r=t.state.selection;if(r instanceof ne)if(n.indexOf("s")>-1){let{$head:s}=r,i=s.textOffset?null:e<0?s.nodeBefore:s.nodeAfter;if(!i||i.isText||!i.isLeaf)return!1;let o=t.state.doc.resolve(s.pos+i.nodeSize*(e<0?-1:1));return ys(t,new ne(r.$anchor,o))}else if(r.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let s=xy(t.state,e);return s&&s instanceof X?ys(t,s):!1}else if(!(bn&&n.indexOf("m")>-1)){let s=r.$head,i=s.textOffset?null:e<0?s.nodeBefore:s.nodeAfter,o;if(!i||i.isText)return!1;let a=e<0?s.pos-i.nodeSize:s.pos;return i.isAtom||(o=t.docView.descAt(a))&&!o.contentDOM?X.isSelectable(i)?ys(t,new X(e<0?t.state.doc.resolve(s.pos-i.nodeSize):s)):cu?ys(t,new ne(t.state.doc.resolve(e<0?a:a+i.nodeSize))):!1:!1}}else return!1;else{if(r instanceof X&&r.node.isInline)return ys(t,new ne(e>0?r.$to:r.$from));{let s=xy(t.state,e);return s?ys(t,s):!1}}}function yf(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function Ql(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function Io(t,e){return e<0?AU(t):OU(t)}function AU(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let s,i,o=!1;for(Nn&&n.nodeType==1&&r<yf(n)&&Ql(n.childNodes[r],-1)&&(o=!0);;)if(r>0){if(n.nodeType!=1)break;{let a=n.childNodes[r-1];if(Ql(a,-1))s=n,i=--r;else if(a.nodeType==3)n=a,r=n.nodeValue.length;else break}}else{if(dA(n))break;{let a=n.previousSibling;for(;a&&Ql(a,-1);)s=n.parentNode,i=St(a),a=a.previousSibling;if(a)n=a,r=yf(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}o?by(t,n,r):s&&by(t,s,i)}function OU(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let s=yf(n),i,o;for(;;)if(r<s){if(n.nodeType!=1)break;let a=n.childNodes[r];if(Ql(a,1))i=n,o=++r;else break}else{if(dA(n))break;{let a=n.nextSibling;for(;a&&Ql(a,1);)i=a.parentNode,o=St(a)+1,a=a.nextSibling;if(a)n=a,r=0,s=yf(n);else{if(n=n.parentNode,n==t.dom)break;r=s=0}}}i&&by(t,i,o)}function dA(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function PU(t,e){for(;t&&e==t.childNodes.length&&!lu(t);)e=St(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function RU(t,e){for(;t&&!e&&!lu(t);)e=St(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function by(t,e,n){if(e.nodeType!=3){let i,o;(o=PU(e,n))?(e=o,n=0):(i=RU(e,n))&&(e=i,n=i.nodeValue.length)}let r=t.domSelection();if(!r)return;if(Wh(r)){let i=document.createRange();i.setEnd(e,n),i.setStart(e,n),r.removeAllRanges(),r.addRange(i)}else r.extend&&r.extend(e,n);t.domObserver.setCurSelection();let{state:s}=t;setTimeout(()=>{t.state==s&&Br(t)},50)}function N1(t,e){let n=t.state.doc.resolve(e);if(!(It||eU)&&n.parent.inlineContent){let s=t.coordsAtPos(e);if(e>n.start()){let i=t.coordsAtPos(e-1),o=(i.top+i.bottom)/2;if(o>s.top&&o<s.bottom&&Math.abs(i.left-s.left)>1)return i.left<s.left?"ltr":"rtl"}if(e<n.end()){let i=t.coordsAtPos(e+1),o=(i.top+i.bottom)/2;if(o>s.top&&o<s.bottom&&Math.abs(i.left-s.left)>1)return i.left>s.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function A1(t,e,n){let r=t.state.selection;if(r instanceof ne&&!r.empty||n.indexOf("s")>-1||bn&&n.indexOf("m")>-1)return!1;let{$from:s,$to:i}=r;if(!s.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let o=xy(t.state,e);if(o&&o instanceof X)return ys(t,o)}if(!s.parent.inlineContent){let o=e<0?s:i,a=r instanceof Tn?me.near(o,e):me.findFrom(o,e);return a?ys(t,a):!1}return!1}function O1(t,e){if(!(t.state.selection instanceof ne))return!0;let{$head:n,$anchor:r,empty:s}=t.state.selection;if(!n.sameParent(r))return!0;if(!s)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let i=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(i&&!i.isText){let o=t.state.tr;return e<0?o.delete(n.pos-i.nodeSize,n.pos):o.delete(n.pos,n.pos+i.nodeSize),t.dispatch(o),!0}return!1}function P1(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function MU(t){if(!Wt||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;P1(t,r,"true"),setTimeout(()=>P1(t,r,"false"),20)}return!1}function jU(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function IU(t,e){let n=e.keyCode,r=jU(e);if(n==8||bn&&n==72&&r=="c")return O1(t,-1)||Io(t,-1);if(n==46&&!e.shiftKey||bn&&n==68&&r=="c")return O1(t,1)||Io(t,1);if(n==13||n==27)return!0;if(n==37||bn&&n==66&&r=="c"){let s=n==37?N1(t,t.state.selection.from)=="ltr"?-1:1:-1;return T1(t,s,r)||Io(t,s)}else if(n==39||bn&&n==70&&r=="c"){let s=n==39?N1(t,t.state.selection.from)=="ltr"?1:-1:1;return T1(t,s,r)||Io(t,s)}else{if(n==38||bn&&n==80&&r=="c")return A1(t,-1,r)||Io(t,-1);if(n==40||bn&&n==78&&r=="c")return MU(t)||A1(t,1,r)||Io(t,1);if(r==(bn?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function _0(t,e){t.someProp("transformCopied",h=>{e=h(e,t)});let n=[],{content:r,openStart:s,openEnd:i}=e;for(;s>1&&i>1&&r.childCount==1&&r.firstChild.childCount==1;){s--,i--;let h=r.firstChild;n.push(h.type.name,h.attrs!=h.type.defaultAttrs?h.attrs:null),r=h.content}let o=t.someProp("clipboardSerializer")||wo.fromSchema(t.state.schema),a=yA(),l=a.createElement("div");l.appendChild(o.serializeFragment(r,{document:a}));let c=l.firstChild,u,d=0;for(;c&&c.nodeType==1&&(u=gA[c.nodeName.toLowerCase()]);){for(let h=u.length-1;h>=0;h--){let m=a.createElement(u[h]);for(;l.firstChild;)m.appendChild(l.firstChild);l.appendChild(m),d++}c=l.firstChild}c&&c.nodeType==1&&c.setAttribute("data-pm-slice",`${s} ${i}${d?` -${d}`:""} ${JSON.stringify(n)}`);let f=t.someProp("clipboardTextSerializer",h=>h(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:l,text:f,slice:e}}function fA(t,e,n,r,s){let i=s.parent.type.spec.code,o,a;if(!n&&!e)return null;let l=!!e&&(r||i||!n);if(l){if(t.someProp("transformPastedText",f=>{e=f(e,i||r,t)}),i)return a=new H(R.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0),t.someProp("transformPasted",f=>{a=f(a,t,!0)}),a;let d=t.someProp("clipboardTextParser",f=>f(e,s,r,t));if(d)a=d;else{let f=s.marks(),{schema:h}=t.state,m=wo.fromSchema(h);o=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(g=>{let y=o.appendChild(document.createElement("p"));g&&y.appendChild(m.serializeNode(h.text(g,f)))})}}else t.someProp("transformPastedHTML",d=>{n=d(n,t)}),o=FU(n),cu&&zU(o);let c=o&&o.querySelector("[data-pm-slice]"),u=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(u&&u[3])for(let d=+u[3];d>0;d--){let f=o.firstChild;for(;f&&f.nodeType!=1;)f=f.nextSibling;if(!f)break;o=f}if(a||(a=(t.someProp("clipboardParser")||t.someProp("domParser")||Js.fromSchema(t.state.schema)).parseSlice(o,{preserveWhitespace:!!(l||u),context:s,ruleFromNode(f){return f.nodeName=="BR"&&!f.nextSibling&&f.parentNode&&!DU.test(f.parentNode.nodeName)?{ignore:!0}:null}})),u)a=BU(R1(a,+u[1],+u[2]),u[4]);else if(a=H.maxOpen(LU(a.content,s),!0),a.openStart||a.openEnd){let d=0,f=0;for(let h=a.content.firstChild;d<a.openStart&&!h.type.spec.isolating;d++,h=h.firstChild);for(let h=a.content.lastChild;f<a.openEnd&&!h.type.spec.isolating;f++,h=h.lastChild);a=R1(a,d,f)}return t.someProp("transformPasted",d=>{a=d(a,t,l)}),a}const DU=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function LU(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let s=e.node(n).contentMatchAt(e.index(n)),i,o=[];if(t.forEach(a=>{if(!o)return;let l=s.findWrapping(a.type),c;if(!l)return o=null;if(c=o.length&&i.length&&pA(l,i,a,o[o.length-1],0))o[o.length-1]=c;else{o.length&&(o[o.length-1]=mA(o[o.length-1],i.length));let u=hA(a,l);o.push(u),s=s.matchType(u.type),i=l}}),o)return R.from(o)}return t}function hA(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,R.from(t));return t}function pA(t,e,n,r,s){if(s<t.length&&s<e.length&&t[s]==e[s]){let i=pA(t,e,n,r.lastChild,s+1);if(i)return r.copy(r.content.replaceChild(r.childCount-1,i));if(r.contentMatchAt(r.childCount).matchType(s==t.length-1?n.type:t[s+1]))return r.copy(r.content.append(R.from(hA(n,t,s+1))))}}function mA(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,mA(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(R.empty,!0);return t.copy(n.append(r))}function ky(t,e,n,r,s,i){let o=e<0?t.firstChild:t.lastChild,a=o.content;return t.childCount>1&&(i=0),s<r-1&&(a=ky(a,e,n,r,s+1,i)),s>=n&&(a=e<0?o.contentMatchAt(0).fillBefore(a,i<=s).append(a):a.append(o.contentMatchAt(o.childCount).fillBefore(R.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,o.copy(a))}function R1(t,e,n){return e<t.openStart&&(t=new H(ky(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new H(ky(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const gA={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let M1=null;function yA(){return M1||(M1=document.implementation.createHTMLDocument("title"))}let mm=null;function $U(t){let e=window.trustedTypes;return e?(mm||(mm=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),mm.createHTML(t)):t}function FU(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=yA().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),s;if((s=r&&gA[r[1].toLowerCase()])&&(t=s.map(i=>"<"+i+">").join("")+t+s.map(i=>"</"+i+">").reverse().join("")),n.innerHTML=$U(t),s)for(let i=0;i<s.length;i++)n=n.querySelector(s[i])||n;return n}function zU(t){let e=t.querySelectorAll(It?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function BU(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}let{content:s,openStart:i,openEnd:o}=t;for(let a=r.length-2;a>=0;a-=2){let l=n.nodes[r[a]];if(!l||l.hasRequiredAttrs())break;s=R.from(l.create(r[a+1],s)),i++,o++}return new H(s,i,o)}const Kt={},qt={},UU={touchstart:!0,touchmove:!0};class VU{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function HU(t){for(let e in Kt){let n=Kt[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=r=>{KU(t,r)&&!T0(t,r)&&(t.editable||!(r.type in qt))&&n(t,r)},UU[e]?{passive:!0}:void 0)}Wt&&t.dom.addEventListener("input",()=>null),Sy(t)}function Ds(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function WU(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function Sy(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=r=>T0(t,r))})}function T0(t,e){return t.someProp("handleDOMEvents",n=>{let r=n[e.type];return r?r(t,e)||e.defaultPrevented:!1})}function KU(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function qU(t,e){!T0(t,e)&&Kt[e.type]&&(t.editable||!(e.type in qt))&&Kt[e.type](t,e)}qt.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!wA(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(Fr&&It&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),Ka&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",s=>s(t,Ni(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",r=>r(t,n))||IU(t,n)?n.preventDefault():Ds(t,"key")};qt.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};qt.keypress=(t,e)=>{let n=e;if(wA(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||bn&&n.metaKey)return;if(t.someProp("handleKeyPress",s=>s(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof ne)||!r.$from.sameParent(r.$to)){let s=String.fromCharCode(n.charCode),i=()=>t.state.tr.insertText(s).scrollIntoView();!/[\r\n]/.test(s)&&!t.someProp("handleTextInput",o=>o(t,r.$from.pos,r.$to.pos,s,i))&&t.dispatch(i()),n.preventDefault()}};function qh(t){return{left:t.clientX,top:t.clientY}}function GU(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function N0(t,e,n,r,s){if(r==-1)return!1;let i=t.state.doc.resolve(r);for(let o=i.depth+1;o>0;o--)if(t.someProp(e,a=>o>i.depth?a(t,n,i.nodeAfter,i.before(o),s,!0):a(t,n,i.node(o),i.before(o),s,!1)))return!0;return!1}function ma(t,e,n){if(t.focused||t.focus(),t.state.selection.eq(e))return;let r=t.state.tr.setSelection(e);r.setMeta("pointer",!0),t.dispatch(r)}function JU(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&X.isSelectable(r)?(ma(t,new X(n)),!0):!1}function QU(t,e){if(e==-1)return!1;let n=t.state.selection,r,s;n instanceof X&&(r=n.node);let i=t.state.doc.resolve(e);for(let o=i.depth+1;o>0;o--){let a=o>i.depth?i.nodeAfter:i.node(o);if(X.isSelectable(a)){r&&n.$from.depth>0&&o>=n.$from.depth&&i.before(n.$from.depth+1)==n.$from.pos?s=i.before(n.$from.depth):s=i.before(o);break}}return s!=null?(ma(t,X.create(t.state.doc,s)),!0):!1}function YU(t,e,n,r,s){return N0(t,"handleClickOn",e,n,r)||t.someProp("handleClick",i=>i(t,e,r))||(s?QU(t,n):JU(t,n))}function ZU(t,e,n,r){return N0(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",s=>s(t,e,r))}function XU(t,e,n,r){return N0(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",s=>s(t,e,r))||eV(t,n,r)}function eV(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?(ma(t,ne.create(r,0,r.content.size)),!0):!1;let s=r.resolve(e);for(let i=s.depth+1;i>0;i--){let o=i>s.depth?s.nodeAfter:s.node(i),a=s.before(i);if(o.inlineContent)ma(t,ne.create(r,a+1,a+1+o.content.size));else if(X.isSelectable(o))ma(t,X.create(r,a));else continue;return!0}}function A0(t){return vf(t)}const vA=bn?"metaKey":"ctrlKey";Kt.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=A0(t),s=Date.now(),i="singleClick";s-t.input.lastClick.time<500&&GU(n,t.input.lastClick)&&!n[vA]&&t.input.lastClick.button==n.button&&(t.input.lastClick.type=="singleClick"?i="doubleClick":t.input.lastClick.type=="doubleClick"&&(i="tripleClick")),t.input.lastClick={time:s,x:n.clientX,y:n.clientY,type:i,button:n.button};let o=t.posAtCoords(qh(n));o&&(i=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new tV(t,o,n,!!r)):(i=="doubleClick"?ZU:XU)(t,o.pos,o.inside,n)?n.preventDefault():Ds(t,"pointer"))};class tV{constructor(e,n,r,s){this.view=e,this.pos=n,this.event=r,this.flushed=s,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[vA],this.allowDefault=r.shiftKey;let i,o;if(n.inside>-1)i=e.state.doc.nodeAt(n.inside),o=n.inside;else{let u=e.state.doc.resolve(n.pos);i=u.parent,o=u.depth?u.before():0}const a=s?null:r.target,l=a?e.docView.nearestDesc(a,!0):null;this.target=l&&l.nodeDOM.nodeType==1?l.nodeDOM:null;let{selection:c}=e.state;(r.button==0&&i.type.spec.draggable&&i.type.spec.selectable!==!1||c instanceof X&&c.from<=o&&c.to>o)&&(this.mightDrag={node:i,pos:o,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Nn&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Ds(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Br(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(qh(e))),this.updateAllowDefault(e),this.allowDefault||!n?Ds(this.view,"pointer"):YU(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||Wt&&this.mightDrag&&!this.mightDrag.node.isAtom||It&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(ma(this.view,me.near(this.view.state.doc.resolve(n.pos))),e.preventDefault()):Ds(this.view,"pointer")}move(e){this.updateAllowDefault(e),Ds(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}Kt.touchstart=t=>{t.input.lastTouch=Date.now(),A0(t),Ds(t,"pointer")};Kt.touchmove=t=>{t.input.lastTouch=Date.now(),Ds(t,"pointer")};Kt.contextmenu=t=>A0(t);function wA(t,e){return t.composing?!0:Wt&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const nV=Fr?5e3:-1;qt.compositionstart=qt.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$to;if(e.selection instanceof ne&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||n.marks(),vf(t,!0),t.markCursor=null;else if(vf(t,!e.selection.empty),Nn&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelectionRange();for(let s=r.focusNode,i=r.focusOffset;s&&s.nodeType==1&&i!=0;){let o=i<0?s.lastChild:s.childNodes[i-1];if(!o)break;if(o.nodeType==3){let a=t.domSelection();a&&a.collapse(o,o.nodeValue.length);break}else s=o,i=-1}}t.input.composing=!0}xA(t,nV)};qt.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,xA(t,20))};function xA(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>vf(t),e))}function bA(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=sV());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function rV(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let n=J5(e.focusNode,e.focusOffset),r=Q5(e.focusNode,e.focusOffset);if(n&&r&&n!=r){let s=r.pmViewDesc,i=t.domObserver.lastChangedTextNode;if(n==i||r==i)return i;if(!s||!s.isText(r.nodeValue))return r;if(t.input.compositionNode==r){let o=n.pmViewDesc;if(!(!o||!o.isText(n.nodeValue)))return r}}return n||r}function sV(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function vf(t,e=!1){if(!(Fr&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),bA(t),e||t.docView&&t.docView.dirty){let n=E0(t),r=t.state.selection;return n&&!n.eq(r)?t.dispatch(t.state.tr.setSelection(n)):(t.markCursor||e)&&!r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function iV(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),s=document.createRange();s.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(s),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const Lc=sn&&Qs<15||Ka&&tU<604;Kt.copy=qt.cut=(t,e)=>{let n=e,r=t.state.selection,s=n.type=="cut";if(r.empty)return;let i=Lc?null:n.clipboardData,o=r.content(),{dom:a,text:l}=_0(t,o);i?(n.preventDefault(),i.clearData(),i.setData("text/html",a.innerHTML),i.setData("text/plain",l)):iV(t,a),s&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function oV(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function aV(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let s=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?$c(t,r.value,null,s,e):$c(t,r.textContent,r.innerHTML,s,e)},50)}function $c(t,e,n,r,s){let i=fA(t,e,n,r,t.state.selection.$from);if(t.someProp("handlePaste",l=>l(t,s,i||H.empty)))return!0;if(!i)return!1;let o=oV(i),a=o?t.state.tr.replaceSelectionWith(o,r):t.state.tr.replaceSelection(i);return t.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function kA(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}qt.paste=(t,e)=>{let n=e;if(t.composing&&!Fr)return;let r=Lc?null:n.clipboardData,s=t.input.shiftKey&&t.input.lastKeyCode!=45;r&&$c(t,kA(r),r.getData("text/html"),s,n)?n.preventDefault():aV(t,n)};class SA{constructor(e,n,r){this.slice=e,this.move=n,this.node=r}}const lV=bn?"altKey":"ctrlKey";function EA(t,e){let n=t.someProp("dragCopies",r=>!r(e));return n??!e[lV]}Kt.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let s=t.state.selection,i=s.empty?null:t.posAtCoords(qh(n)),o;if(!(i&&i.pos>=s.from&&i.pos<=(s instanceof X?s.to-1:s.to))){if(r&&r.mightDrag)o=X.create(t.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let d=t.docView.nearestDesc(n.target,!0);d&&d.node.type.spec.draggable&&d!=t.docView&&(o=X.create(t.state.doc,d.posBefore))}}let a=(o||t.state.selection).content(),{dom:l,text:c,slice:u}=_0(t,a);(!n.dataTransfer.files.length||!It||QN>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(Lc?"Text":"text/html",l.innerHTML),n.dataTransfer.effectAllowed="copyMove",Lc||n.dataTransfer.setData("text/plain",c),t.dragging=new SA(u,EA(t,n),o)};Kt.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};qt.dragover=qt.dragenter=(t,e)=>e.preventDefault();qt.drop=(t,e)=>{let n=e,r=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let s=t.posAtCoords(qh(n));if(!s)return;let i=t.state.doc.resolve(s.pos),o=r&&r.slice;o?t.someProp("transformPasted",m=>{o=m(o,t,!1)}):o=fA(t,kA(n.dataTransfer),Lc?null:n.dataTransfer.getData("text/html"),!1,i);let a=!!(r&&EA(t,n));if(t.someProp("handleDrop",m=>m(t,n,o||H.empty,a))){n.preventDefault();return}if(!o)return;n.preventDefault();let l=o?BN(t.state.doc,i.pos,o):i.pos;l==null&&(l=i.pos);let c=t.state.tr;if(a){let{node:m}=r;m?m.replace(c):c.deleteSelection()}let u=c.mapping.map(l),d=o.openStart==0&&o.openEnd==0&&o.content.childCount==1,f=c.doc;if(d?c.replaceRangeWith(u,u,o.content.firstChild):c.replaceRange(u,u,o),c.doc.eq(f))return;let h=c.doc.resolve(u);if(d&&X.isSelectable(o.content.firstChild)&&h.nodeAfter&&h.nodeAfter.sameMarkup(o.content.firstChild))c.setSelection(new X(h));else{let m=c.mapping.map(l);c.mapping.maps[c.mapping.maps.length-1].forEach((g,y,v,w)=>m=w),c.setSelection(C0(t,h,c.doc.resolve(m)))}t.focus(),t.dispatch(c.setMeta("uiEvent","drop"))};Kt.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&Br(t)},20))};Kt.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};Kt.beforeinput=(t,e)=>{if(It&&Fr&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:r}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=r||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",i=>i(t,Ni(8,"Backspace")))))return;let{$cursor:s}=t.state.selection;s&&s.pos>0&&t.dispatch(t.state.tr.delete(s.pos-1,s.pos).scrollIntoView())},50)}};for(let t in qt)Kt[t]=qt[t];function Fc(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class wf{constructor(e,n){this.toDOM=e,this.spec=n||qi,this.side=this.spec.side||0}map(e,n,r,s){let{pos:i,deleted:o}=e.mapResult(n.from+s,this.side<0?-1:1);return o?null:new Vt(i-r,i-r,this)}valid(){return!0}eq(e){return this==e||e instanceof wf&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Fc(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Zs{constructor(e,n){this.attrs=e,this.spec=n||qi}map(e,n,r,s){let i=e.map(n.from+s,this.spec.inclusiveStart?-1:1)-r,o=e.map(n.to+s,this.spec.inclusiveEnd?1:-1)-r;return i>=o?null:new Vt(i,o,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof Zs&&Fc(this.attrs,e.attrs)&&Fc(this.spec,e.spec)}static is(e){return e.type instanceof Zs}destroy(){}}class O0{constructor(e,n){this.attrs=e,this.spec=n||qi}map(e,n,r,s){let i=e.mapResult(n.from+s,1);if(i.deleted)return null;let o=e.mapResult(n.to+s,-1);return o.deleted||o.pos<=i.pos?null:new Vt(i.pos-r,o.pos-r,this)}valid(e,n){let{index:r,offset:s}=e.content.findIndex(n.from),i;return s==n.from&&!(i=e.child(r)).isText&&s+i.nodeSize==n.to}eq(e){return this==e||e instanceof O0&&Fc(this.attrs,e.attrs)&&Fc(this.spec,e.spec)}destroy(){}}class Vt{constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new Vt(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new Vt(e,e,new wf(n,r))}static inline(e,n,r,s){return new Vt(e,n,new Zs(r,s))}static node(e,n,r,s){return new Vt(e,n,new O0(r,s))}get spec(){return this.type.spec}get inline(){return this.type instanceof Zs}get widget(){return this.type instanceof wf}}const zo=[],qi={};class Ke{constructor(e,n){this.local=e.length?e:zo,this.children=n.length?n:zo}static create(e,n){return n.length?xf(n,e,0,qi):Mt}find(e,n,r){let s=[];return this.findInner(e??0,n??1e9,s,0,r),s}findInner(e,n,r,s,i){for(let o=0;o<this.local.length;o++){let a=this.local[o];a.from<=n&&a.to>=e&&(!i||i(a.spec))&&r.push(a.copy(a.from+s,a.to+s))}for(let o=0;o<this.children.length;o+=3)if(this.children[o]<n&&this.children[o+1]>e){let a=this.children[o]+1;this.children[o+2].findInner(e-a,n-a,r,s+a,i)}}map(e,n,r){return this==Mt||e.maps.length==0?this:this.mapInner(e,n,0,0,r||qi)}mapInner(e,n,r,s,i){let o;for(let a=0;a<this.local.length;a++){let l=this.local[a].map(e,r,s);l&&l.type.valid(n,l)?(o||(o=[])).push(l):i.onRemove&&i.onRemove(this.local[a].spec)}return this.children.length?cV(this.children,o||[],e,n,r,s,i):o?new Ke(o.sort(Gi),zo):Mt}add(e,n){return n.length?this==Mt?Ke.create(e,n):this.addInner(e,n,0):this}addInner(e,n,r){let s,i=0;e.forEach((a,l)=>{let c=l+r,u;if(u=_A(n,a,c)){for(s||(s=this.children.slice());i<s.length&&s[i]<l;)i+=3;s[i]==l?s[i+2]=s[i+2].addInner(a,u,c+1):s.splice(i,0,l,l+a.nodeSize,xf(u,a,c+1,qi)),i+=3}});let o=CA(i?TA(n):n,-r);for(let a=0;a<o.length;a++)o[a].type.valid(e,o[a])||o.splice(a--,1);return new Ke(o.length?this.local.concat(o).sort(Gi):this.local,s||this.children)}remove(e){return e.length==0||this==Mt?this:this.removeInner(e,0)}removeInner(e,n){let r=this.children,s=this.local;for(let i=0;i<r.length;i+=3){let o,a=r[i]+n,l=r[i+1]+n;for(let u=0,d;u<e.length;u++)(d=e[u])&&d.from>a&&d.to<l&&(e[u]=null,(o||(o=[])).push(d));if(!o)continue;r==this.children&&(r=this.children.slice());let c=r[i+2].removeInner(o,a+1);c!=Mt?r[i+2]=c:(r.splice(i,3),i-=3)}if(s.length){for(let i=0,o;i<e.length;i++)if(o=e[i])for(let a=0;a<s.length;a++)s[a].eq(o,n)&&(s==this.local&&(s=this.local.slice()),s.splice(a--,1))}return r==this.children&&s==this.local?this:s.length||r.length?new Ke(s,r):Mt}forChild(e,n){if(this==Mt)return this;if(n.isLeaf)return Ke.empty;let r,s;for(let a=0;a<this.children.length;a+=3)if(this.children[a]>=e){this.children[a]==e&&(r=this.children[a+2]);break}let i=e+1,o=i+n.content.size;for(let a=0;a<this.local.length;a++){let l=this.local[a];if(l.from<o&&l.to>i&&l.type instanceof Zs){let c=Math.max(i,l.from)-i,u=Math.min(o,l.to)-i;c<u&&(s||(s=[])).push(l.copy(c,u))}}if(s){let a=new Ke(s.sort(Gi),zo);return r?new Ss([a,r]):a}return r||Mt}eq(e){if(this==e)return!0;if(!(e instanceof Ke)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return P0(this.localsInner(e))}localsInner(e){if(this==Mt)return zo;if(e.inlineContent||!this.local.some(Zs.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof Zs||n.push(this.local[r]);return n}forEachSet(e){e(this)}}Ke.empty=new Ke([],[]);Ke.removeOverlap=P0;const Mt=Ke.empty;class Ss{constructor(e){this.members=e}map(e,n){const r=this.members.map(s=>s.map(e,n,qi));return Ss.from(r)}forChild(e,n){if(n.isLeaf)return Ke.empty;let r=[];for(let s=0;s<this.members.length;s++){let i=this.members[s].forChild(e,n);i!=Mt&&(i instanceof Ss?r=r.concat(i.members):r.push(i))}return Ss.from(r)}eq(e){if(!(e instanceof Ss)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let s=0;s<this.members.length;s++){let i=this.members[s].localsInner(e);if(i.length)if(!n)n=i;else{r&&(n=n.slice(),r=!1);for(let o=0;o<i.length;o++)n.push(i[o])}}return n?P0(r?n:n.sort(Gi)):zo}static from(e){switch(e.length){case 0:return Mt;case 1:return e[0];default:return new Ss(e.every(n=>n instanceof Ke)?e:e.reduce((n,r)=>n.concat(r instanceof Ke?r:r.members),[]))}}forEachSet(e){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(e)}}function cV(t,e,n,r,s,i,o){let a=t.slice();for(let c=0,u=i;c<n.maps.length;c++){let d=0;n.maps[c].forEach((f,h,m,g)=>{let y=g-m-(h-f);for(let v=0;v<a.length;v+=3){let w=a[v+1];if(w<0||f>w+u-d)continue;let x=a[v]+u-d;h>=x?a[v+1]=f<=x?-2:-1:f>=u&&y&&(a[v]+=y,a[v+1]+=y)}d+=y}),u=n.maps[c].map(u,-1)}let l=!1;for(let c=0;c<a.length;c+=3)if(a[c+1]<0){if(a[c+1]==-2){l=!0,a[c+1]=-1;continue}let u=n.map(t[c]+i),d=u-s;if(d<0||d>=r.content.size){l=!0;continue}let f=n.map(t[c+1]+i,-1),h=f-s,{index:m,offset:g}=r.content.findIndex(d),y=r.maybeChild(m);if(y&&g==d&&g+y.nodeSize==h){let v=a[c+2].mapInner(n,y,u+1,t[c]+i+1,o);v!=Mt?(a[c]=d,a[c+1]=h,a[c+2]=v):(a[c+1]=-2,l=!0)}else l=!0}if(l){let c=uV(a,t,e,n,s,i,o),u=xf(c,r,0,o);e=u.local;for(let d=0;d<a.length;d+=3)a[d+1]<0&&(a.splice(d,3),d-=3);for(let d=0,f=0;d<u.children.length;d+=3){let h=u.children[d];for(;f<a.length&&a[f]<h;)f+=3;a.splice(f,0,u.children[d],u.children[d+1],u.children[d+2])}}return new Ke(e.sort(Gi),a)}function CA(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let s=t[r];n.push(new Vt(s.from+e,s.to+e,s.type))}return n}function uV(t,e,n,r,s,i,o){function a(l,c){for(let u=0;u<l.local.length;u++){let d=l.local[u].map(r,s,c);d?n.push(d):o.onRemove&&o.onRemove(l.local[u].spec)}for(let u=0;u<l.children.length;u+=3)a(l.children[u+2],l.children[u]+c+1)}for(let l=0;l<t.length;l+=3)t[l+1]==-1&&a(t[l+2],e[l]+i+1);return n}function _A(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,s=null;for(let i=0,o;i<t.length;i++)(o=t[i])&&o.from>n&&o.to<r&&((s||(s=[])).push(o),t[i]=null);return s}function TA(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function xf(t,e,n,r){let s=[],i=!1;e.forEach((a,l)=>{let c=_A(t,a,l+n);if(c){i=!0;let u=xf(c,a,n+l+1,r);u!=Mt&&s.push(l,l+a.nodeSize,u)}});let o=CA(i?TA(t):t,-n).sort(Gi);for(let a=0;a<o.length;a++)o[a].type.valid(e,o[a])||(r.onRemove&&r.onRemove(o[a].spec),o.splice(a--,1));return o.length||s.length?new Ke(o,s):Mt}function Gi(t,e){return t.from-e.from||t.to-e.to}function P0(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let s=n+1;s<e.length;s++){let i=e[s];if(i.from==r.from){i.to!=r.to&&(e==t&&(e=t.slice()),e[s]=i.copy(i.from,r.to),j1(e,s+1,i.copy(r.to,i.to)));continue}else{i.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,i.from),j1(e,s,r.copy(i.from,r.to)));break}}}return e}function j1(t,e,n){for(;e<t.length&&Gi(n,t[e])>0;)e++;t.splice(e,0,n)}function gm(t){let e=[];return t.someProp("decorations",n=>{let r=n(t.state);r&&r!=Mt&&e.push(r)}),t.cursorWrapper&&e.push(Ke.create(t.state.doc,[t.cursorWrapper.deco])),Ss.from(e)}const dV={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},fV=sn&&Qs<=11;class hV{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class pV{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new hV,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let s=0;s<r.length;s++)this.queue.push(r[s]);sn&&Qs<=11&&r.some(s=>s.type=="childList"&&s.removedNodes.length||s.type=="characterData"&&s.oldValue.length>s.target.nodeValue.length)?this.flushSoon():this.flush()}),fV&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,dV)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(_1(this.view)){if(this.suppressingSelectionUpdates)return Br(this.view);if(sn&&Qs<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&lo(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,r;for(let i=e.focusNode;i;i=Wa(i))n.add(i);for(let i=e.anchorNode;i;i=Wa(i))if(n.has(i)){r=i;break}let s=r&&this.view.docView.nearestDesc(r);if(s&&s.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=e.domSelectionRange(),s=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&_1(e)&&!this.ignoreSelectionChange(r),i=-1,o=-1,a=!1,l=[];if(e.editable)for(let u=0;u<n.length;u++){let d=this.registerMutation(n[u],l);d&&(i=i<0?d.from:Math.min(d.from,i),o=o<0?d.to:Math.max(d.to,o),d.typeOver&&(a=!0))}if(Nn&&l.length){let u=l.filter(d=>d.nodeName=="BR");if(u.length==2){let[d,f]=u;d.parentNode&&d.parentNode.parentNode==f.parentNode?f.remove():d.remove()}else{let{focusNode:d}=this.currentSelection;for(let f of u){let h=f.parentNode;h&&h.nodeName=="LI"&&(!d||yV(e,d)!=h)&&f.remove()}}}let c=null;i<0&&s&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&Wh(r)&&(c=E0(e))&&c.eq(me.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,Br(e),this.currentSelection.set(r),e.scrollToSelection()):(i>-1||s)&&(i>-1&&(e.docView.markDirty(i,o),mV(e)),this.handleDOMChange(i,o,a,l),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||Br(e),this.currentSelection.set(r))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let u=0;u<e.addedNodes.length;u++){let d=e.addedNodes[u];n.push(d),d.nodeType==3&&(this.lastChangedTextNode=d)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let s=e.previousSibling,i=e.nextSibling;if(sn&&Qs<=11&&e.addedNodes.length)for(let u=0;u<e.addedNodes.length;u++){let{previousSibling:d,nextSibling:f}=e.addedNodes[u];(!d||Array.prototype.indexOf.call(e.addedNodes,d)<0)&&(s=d),(!f||Array.prototype.indexOf.call(e.addedNodes,f)<0)&&(i=f)}let o=s&&s.parentNode==e.target?St(s)+1:0,a=r.localPosFromDOM(e.target,o,-1),l=i&&i.parentNode==e.target?St(i):e.target.childNodes.length,c=r.localPosFromDOM(e.target,l,1);return{from:a,to:c}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let I1=new WeakMap,D1=!1;function mV(t){if(!I1.has(t)&&(I1.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=Nn,D1)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),D1=!0}}function L1(t,e){let n=e.startContainer,r=e.startOffset,s=e.endContainer,i=e.endOffset,o=t.domAtPos(t.state.selection.anchor);return lo(o.node,o.offset,s,i)&&([n,r,s,i]=[s,i,n,r]),{anchorNode:n,anchorOffset:r,focusNode:s,focusOffset:i}}function gV(t,e){if(e.getComposedRanges){let s=e.getComposedRanges(t.root)[0];if(s)return L1(t,s)}let n;function r(s){s.preventDefault(),s.stopImmediatePropagation(),n=s.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",r,!0),n?L1(t,n):null}function yV(t,e){for(let n=e.parentNode;n&&n!=t.dom;n=n.parentNode){let r=t.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}function vV(t,e,n){let{node:r,fromOffset:s,toOffset:i,from:o,to:a}=t.docView.parseRange(e,n),l=t.domSelectionRange(),c,u=l.anchorNode;if(u&&t.dom.contains(u.nodeType==1?u:u.parentNode)&&(c=[{node:u,offset:l.anchorOffset}],Wh(l)||c.push({node:l.focusNode,offset:l.focusOffset})),It&&t.input.lastKeyCode===8)for(let y=i;y>s;y--){let v=r.childNodes[y-1],w=v.pmViewDesc;if(v.nodeName=="BR"&&!w){i=y;break}if(!w||w.size)break}let d=t.state.doc,f=t.someProp("domParser")||Js.fromSchema(t.state.schema),h=d.resolve(o),m=null,g=f.parse(r,{topNode:h.parent,topMatch:h.parent.contentMatchAt(h.index()),topOpen:!0,from:s,to:i,preserveWhitespace:h.parent.type.whitespace=="pre"?"full":!0,findPositions:c,ruleFromNode:wV,context:h});if(c&&c[0].pos!=null){let y=c[0].pos,v=c[1]&&c[1].pos;v==null&&(v=y),m={anchor:y+o,head:v+o}}return{doc:g,sel:m,from:o,to:a}}function wV(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(Wt&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||Wt&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const xV=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function bV(t,e,n,r,s){let i=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let E=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,_=E0(t,E);if(_&&!t.state.selection.eq(_)){if(It&&Fr&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",T=>T(t,Ni(13,"Enter"))))return;let A=t.state.tr.setSelection(_);E=="pointer"?A.setMeta("pointer",!0):E=="key"&&A.scrollIntoView(),i&&A.setMeta("composition",i),t.dispatch(A)}return}let o=t.state.doc.resolve(e),a=o.sharedDepth(n);e=o.before(a+1),n=t.state.doc.resolve(n).after(a+1);let l=t.state.selection,c=vV(t,e,n),u=t.state.doc,d=u.slice(c.from,c.to),f,h;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(f=t.state.selection.to,h="end"):(f=t.state.selection.from,h="start"),t.input.lastKeyCode=null;let m=EV(d.content,c.doc.content,c.from,f,h);if(m&&t.input.domChangeCount++,(Ka&&t.input.lastIOSEnter>Date.now()-225||Fr)&&s.some(E=>E.nodeType==1&&!xV.test(E.nodeName))&&(!m||m.endA>=m.endB)&&t.someProp("handleKeyDown",E=>E(t,Ni(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!m)if(r&&l instanceof ne&&!l.empty&&l.$head.sameParent(l.$anchor)&&!t.composing&&!(c.sel&&c.sel.anchor!=c.sel.head))m={start:l.from,endA:l.to,endB:l.to};else{if(c.sel){let E=$1(t,t.state.doc,c.sel);if(E&&!E.eq(t.state.selection)){let _=t.state.tr.setSelection(E);i&&_.setMeta("composition",i),t.dispatch(_)}}return}t.state.selection.from<t.state.selection.to&&m.start==m.endB&&t.state.selection instanceof ne&&(m.start>t.state.selection.from&&m.start<=t.state.selection.from+2&&t.state.selection.from>=c.from?m.start=t.state.selection.from:m.endA<t.state.selection.to&&m.endA>=t.state.selection.to-2&&t.state.selection.to<=c.to&&(m.endB+=t.state.selection.to-m.endA,m.endA=t.state.selection.to)),sn&&Qs<=11&&m.endB==m.start+1&&m.endA==m.start&&m.start>c.from&&c.doc.textBetween(m.start-c.from-1,m.start-c.from+1)==" "&&(m.start--,m.endA--,m.endB--);let g=c.doc.resolveNoCache(m.start-c.from),y=c.doc.resolveNoCache(m.endB-c.from),v=u.resolve(m.start),w=g.sameParent(y)&&g.parent.inlineContent&&v.end()>=m.endA;if((Ka&&t.input.lastIOSEnter>Date.now()-225&&(!w||s.some(E=>E.nodeName=="DIV"||E.nodeName=="P"))||!w&&g.pos<c.doc.content.size&&(!g.sameParent(y)||!g.parent.inlineContent)&&g.pos<y.pos&&!/\S/.test(c.doc.textBetween(g.pos,y.pos,"","")))&&t.someProp("handleKeyDown",E=>E(t,Ni(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>m.start&&SV(u,m.start,m.endA,g,y)&&t.someProp("handleKeyDown",E=>E(t,Ni(8,"Backspace")))){Fr&&It&&t.domObserver.suppressSelectionUpdates();return}It&&m.endB==m.start&&(t.input.lastChromeDelete=Date.now()),Fr&&!w&&g.start()!=y.start()&&y.parentOffset==0&&g.depth==y.depth&&c.sel&&c.sel.anchor==c.sel.head&&c.sel.head==m.endA&&(m.endB-=2,y=c.doc.resolveNoCache(m.endB-c.from),setTimeout(()=>{t.someProp("handleKeyDown",function(E){return E(t,Ni(13,"Enter"))})},20));let x=m.start,k=m.endA,S=E=>{let _=E||t.state.tr.replace(x,k,c.doc.slice(m.start-c.from,m.endB-c.from));if(c.sel){let A=$1(t,_.doc,c.sel);A&&!(It&&t.composing&&A.empty&&(m.start!=m.endB||t.input.lastChromeDelete<Date.now()-100)&&(A.head==x||A.head==_.mapping.map(k)-1)||sn&&A.empty&&A.head==x)&&_.setSelection(A)}return i&&_.setMeta("composition",i),_.scrollIntoView()},C;if(w)if(g.pos==y.pos){sn&&Qs<=11&&g.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>Br(t),20));let E=S(t.state.tr.delete(x,k)),_=u.resolve(m.start).marksAcross(u.resolve(m.endA));_&&E.ensureMarks(_),t.dispatch(E)}else if(m.endA==m.endB&&(C=kV(g.parent.content.cut(g.parentOffset,y.parentOffset),v.parent.content.cut(v.parentOffset,m.endA-v.start())))){let E=S(t.state.tr);C.type=="add"?E.addMark(x,k,C.mark):E.removeMark(x,k,C.mark),t.dispatch(E)}else if(g.parent.child(g.index()).isText&&g.index()==y.index()-(y.textOffset?0:1)){let E=g.parent.textBetween(g.parentOffset,y.parentOffset),_=()=>S(t.state.tr.insertText(E,x,k));t.someProp("handleTextInput",A=>A(t,x,k,E,_))||t.dispatch(_())}else t.dispatch(S());else t.dispatch(S())}function $1(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:C0(t,e.resolve(n.anchor),e.resolve(n.head))}function kV(t,e){let n=t.firstChild.marks,r=e.firstChild.marks,s=n,i=r,o,a,l;for(let u=0;u<r.length;u++)s=r[u].removeFromSet(s);for(let u=0;u<n.length;u++)i=n[u].removeFromSet(i);if(s.length==1&&i.length==0)a=s[0],o="add",l=u=>u.mark(a.addToSet(u.marks));else if(s.length==0&&i.length==1)a=i[0],o="remove",l=u=>u.mark(a.removeFromSet(u.marks));else return null;let c=[];for(let u=0;u<e.childCount;u++)c.push(l(e.child(u)));if(R.from(c).eq(t))return{mark:a,type:o}}function SV(t,e,n,r,s){if(n-e<=s.pos-r.pos||ym(r,!0,!1)<s.pos)return!1;let i=t.resolve(e);if(!r.parent.isTextblock){let a=i.nodeAfter;return a!=null&&n==e+a.nodeSize}if(i.parentOffset<i.parent.content.size||!i.parent.isTextblock)return!1;let o=t.resolve(ym(i,!0,!0));return!o.parent.isTextblock||o.pos>n||ym(o,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(o.parent.content)}function ym(t,e,n){let r=t.depth,s=e?t.end():t.pos;for(;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,s++,e=!1;if(n){let i=t.node(r).maybeChild(t.indexAfter(r));for(;i&&!i.isLeaf;)i=i.firstChild,s++}return s}function EV(t,e,n,r,s){let i=t.findDiffStart(e,n);if(i==null)return null;let{a:o,b:a}=t.findDiffEnd(e,n+t.size,n+e.size);if(s=="end"){let l=Math.max(0,i-Math.min(o,a));r-=o+l-i}if(o<i&&t.size<e.size){let l=r<=i&&r>=o?i-r:0;i-=l,i&&i<e.size&&F1(e.textBetween(i-1,i+1))&&(i+=l?1:-1),a=i+(a-o),o=i}else if(a<i){let l=r<=i&&r>=a?i-r:0;i-=l,i&&i<t.size&&F1(t.textBetween(i-1,i+1))&&(i+=l?1:-1),o=i+(o-a),a=i}return{start:i,endA:o,endB:a}}function F1(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}class NA{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new VU,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(H1),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=U1(this),B1(this),this.nodeViews=V1(this),this.docView=x1(this.state.doc,z1(this),gm(this),this.dom,this),this.domObserver=new pV(this,(r,s,i,o)=>bV(this,r,s,i,o)),this.domObserver.start(),HU(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&Sy(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(H1),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in e)n[r]=e[r];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){var r;let s=this.state,i=!1,o=!1;e.storedMarks&&this.composing&&(bA(this),o=!0),this.state=e;let a=s.plugins!=e.plugins||this._props.plugins!=n.plugins;if(a||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let h=V1(this);_V(h,this.nodeViews)&&(this.nodeViews=h,i=!0)}(a||n.handleDOMEvents!=this._props.handleDOMEvents)&&Sy(this),this.editable=U1(this),B1(this);let l=gm(this),c=z1(this),u=s.plugins!=e.plugins&&!s.doc.eq(e.doc)?"reset":e.scrollToSelection>s.scrollToSelection?"to selection":"preserve",d=i||!this.docView.matchesNode(e.doc,c,l);(d||!e.selection.eq(s.selection))&&(o=!0);let f=u=="preserve"&&o&&this.dom.style.overflowAnchor==null&&sU(this);if(o){this.domObserver.stop();let h=d&&(sn||It)&&!this.composing&&!s.selection.empty&&!e.selection.empty&&CV(s.selection,e.selection);if(d){let m=It?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=rV(this)),(i||!this.docView.update(e.doc,c,l,this))&&(this.docView.updateOuterDeco(c),this.docView.destroy(),this.docView=x1(e.doc,c,l,this.dom,this)),m&&!this.trackWrites&&(h=!0)}h||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&NU(this))?Br(this,h):(cA(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(s),!((r=this.dragging)===null||r===void 0)&&r.node&&!s.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,s),u=="reset"?this.dom.scrollTop=0:u=="to selection"?this.scrollToSelection():f&&iU(f)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof X){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&p1(this,n.getBoundingClientRect(),e)}else p1(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,e)}}updateDraggedNode(e,n){let r=e.node,s=-1;if(this.state.doc.nodeAt(r.from)==r.node)s=r.from;else{let i=r.from+(this.state.doc.content.size-n.doc.content.size);(i>0&&this.state.doc.nodeAt(i))==r.node&&(s=i)}this.dragging=new SA(e.slice,e.move,s<0?void 0:X.create(this.state.doc,s))}someProp(e,n){let r=this._props&&this._props[e],s;if(r!=null&&(s=n?n(r):r))return s;for(let o=0;o<this.directPlugins.length;o++){let a=this.directPlugins[o].props[e];if(a!=null&&(s=n?n(a):a))return s}let i=this.state.plugins;if(i)for(let o=0;o<i.length;o++){let a=i[o].props[e];if(a!=null&&(s=n?n(a):a))return s}}hasFocus(){if(sn){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&oU(this.dom),Br(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return dU(this,e)}coordsAtPos(e,n=1){return tA(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,r=-1){let s=this.docView.posFromDOM(e,n,r);if(s==null)throw new RangeError("DOM position not inside the editor");return s}endOfTextblock(e,n){return gU(this,n||this.state,e)}pasteHTML(e,n){return $c(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return $c(this,e,null,!0,n||new ClipboardEvent("paste"))}serializeForClipboard(e){return _0(this,e)}destroy(){this.docView&&(WU(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],gm(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,q5())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return qU(this,e)}domSelectionRange(){let e=this.domSelection();return e?Wt&&this.root.nodeType===11&&Z5(this.dom.ownerDocument)==this.dom&&gV(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}NA.prototype.dispatch=function(t){let e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))};function z1(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let r in n)r=="class"?e.class+=" "+n[r]:r=="style"?e.style=(e.style?e.style+";":"")+n[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(n[r]))}),e.translate||(e.translate="no"),[Vt.node(0,t.state.doc.content.size,e)]}function B1(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:Vt.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function U1(t){return!t.someProp("editable",e=>e(t.state)===!1)}function CV(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function V1(t){let e=Object.create(null);function n(r){for(let s in r)Object.prototype.hasOwnProperty.call(e,s)||(e[s]=r[s])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function _V(t,e){let n=0,r=0;for(let s in t){if(t[s]!=e[s])return!0;n++}for(let s in e)r++;return n!=r}function H1(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var ii={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},bf={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},TV=typeof navigator<"u"&&/Mac/.test(navigator.platform),NV=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Et=0;Et<10;Et++)ii[48+Et]=ii[96+Et]=String(Et);for(var Et=1;Et<=24;Et++)ii[Et+111]="F"+Et;for(var Et=65;Et<=90;Et++)ii[Et]=String.fromCharCode(Et+32),bf[Et]=String.fromCharCode(Et);for(var vm in ii)bf.hasOwnProperty(vm)||(bf[vm]=ii[vm]);function AV(t){var e=TV&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||NV&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?bf:ii)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const OV=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),PV=typeof navigator<"u"&&/Win/.test(navigator.platform);function RV(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let r,s,i,o;for(let a=0;a<e.length-1;a++){let l=e[a];if(/^(cmd|meta|m)$/i.test(l))o=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))s=!0;else if(/^s(hift)?$/i.test(l))i=!0;else if(/^mod$/i.test(l))OV?o=!0:s=!0;else throw new Error("Unrecognized modifier name: "+l)}return r&&(n="Alt-"+n),s&&(n="Ctrl-"+n),o&&(n="Meta-"+n),i&&(n="Shift-"+n),n}function MV(t){let e=Object.create(null);for(let n in t)e[RV(n)]=t[n];return e}function wm(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function jV(t){return new st({props:{handleKeyDown:AA(t)}})}function AA(t){let e=MV(t);return function(n,r){let s=AV(r),i,o=e[wm(s,r)];if(o&&o(n.state,n.dispatch,n))return!0;if(s.length==1&&s!=" "){if(r.shiftKey){let a=e[wm(s,r,!1)];if(a&&a(n.state,n.dispatch,n))return!0}if((r.altKey||r.metaKey||r.ctrlKey)&&!(PV&&r.ctrlKey&&r.altKey)&&(i=ii[r.keyCode])&&i!=s){let a=e[wm(i,r)];if(a&&a(n.state,n.dispatch,n))return!0}}return!1}}const IV=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function OA(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const DV=(t,e,n)=>{let r=OA(t,n);if(!r)return!1;let s=R0(r);if(!s){let o=r.blockRange(),a=o&&al(o);return a==null?!1:(e&&e(t.tr.lift(o,a).scrollIntoView()),!0)}let i=s.nodeBefore;if(jA(t,s,e,-1))return!0;if(r.parent.content.size==0&&(qa(i,"end")||X.isSelectable(i)))for(let o=r.depth;;o--){let a=Vh(t.doc,r.before(o),r.after(o),H.empty);if(a&&a.slice.size<a.to-a.from){if(e){let l=t.tr.step(a);l.setSelection(qa(i,"end")?me.findFrom(l.doc.resolve(l.mapping.map(s.pos,-1)),-1):X.create(l.doc,s.pos-i.nodeSize)),e(l.scrollIntoView())}return!0}if(o==1||r.node(o-1).childCount>1)break}return i.isAtom&&s.depth==r.depth-1?(e&&e(t.tr.delete(s.pos-i.nodeSize,s.pos).scrollIntoView()),!0):!1},LV=(t,e,n)=>{let r=OA(t,n);if(!r)return!1;let s=R0(r);return s?PA(t,s,e):!1},$V=(t,e,n)=>{let r=RA(t,n);if(!r)return!1;let s=M0(r);return s?PA(t,s,e):!1};function PA(t,e,n){let r=e.nodeBefore,s=r,i=e.pos-1;for(;!s.isTextblock;i--){if(s.type.spec.isolating)return!1;let u=s.lastChild;if(!u)return!1;s=u}let o=e.nodeAfter,a=o,l=e.pos+1;for(;!a.isTextblock;l++){if(a.type.spec.isolating)return!1;let u=a.firstChild;if(!u)return!1;a=u}let c=Vh(t.doc,i,l,H.empty);if(!c||c.from!=i||c instanceof gt&&c.slice.size>=l-i)return!1;if(n){let u=t.tr.step(c);u.setSelection(ne.create(u.doc,i)),n(u.scrollIntoView())}return!0}function qa(t,e,n=!1){for(let r=t;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const FV=(t,e,n)=>{let{$head:r,empty:s}=t.selection,i=r;if(!s)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;i=R0(r)}let o=i&&i.nodeBefore;return!o||!X.isSelectable(o)?!1:(e&&e(t.tr.setSelection(X.create(t.doc,i.pos-o.nodeSize)).scrollIntoView()),!0)};function R0(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function RA(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const zV=(t,e,n)=>{let r=RA(t,n);if(!r)return!1;let s=M0(r);if(!s)return!1;let i=s.nodeAfter;if(jA(t,s,e,1))return!0;if(r.parent.content.size==0&&(qa(i,"start")||X.isSelectable(i))){let o=Vh(t.doc,r.before(),r.after(),H.empty);if(o&&o.slice.size<o.to-o.from){if(e){let a=t.tr.step(o);a.setSelection(qa(i,"start")?me.findFrom(a.doc.resolve(a.mapping.map(s.pos)),1):X.create(a.doc,a.mapping.map(s.pos))),e(a.scrollIntoView())}return!0}}return i.isAtom&&s.depth==r.depth-1?(e&&e(t.tr.delete(s.pos,s.pos+i.nodeSize).scrollIntoView()),!0):!1},BV=(t,e,n)=>{let{$head:r,empty:s}=t.selection,i=r;if(!s)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;i=M0(r)}let o=i&&i.nodeAfter;return!o||!X.isSelectable(o)?!1:(e&&e(t.tr.setSelection(X.create(t.doc,i.pos)).scrollIntoView()),!0)};function M0(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const UV=(t,e)=>{let n=t.selection,r=n instanceof X,s;if(r){if(n.node.isTextblock||!mi(t.doc,n.from))return!1;s=n.from}else if(s=Uh(t.doc,n.from,-1),s==null)return!1;if(e){let i=t.tr.join(s);r&&i.setSelection(X.create(i.doc,s-t.doc.resolve(s).nodeBefore.nodeSize)),e(i.scrollIntoView())}return!0},VV=(t,e)=>{let n=t.selection,r;if(n instanceof X){if(n.node.isTextblock||!mi(t.doc,n.to))return!1;r=n.to}else if(r=Uh(t.doc,n.to,1),r==null)return!1;return e&&e(t.tr.join(r).scrollIntoView()),!0},HV=(t,e)=>{let{$from:n,$to:r}=t.selection,s=n.blockRange(r),i=s&&al(s);return i==null?!1:(e&&e(t.tr.lift(s,i).scrollIntoView()),!0)},WV=(t,e)=>{let{$head:n,$anchor:r}=t.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function MA(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const KV=(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let s=n.node(-1),i=n.indexAfter(-1),o=MA(s.contentMatchAt(i));if(!o||!s.canReplaceWith(i,i,o))return!1;if(e){let a=n.after(),l=t.tr.replaceWith(a,a,o.createAndFill());l.setSelection(me.near(l.doc.resolve(a),1)),e(l.scrollIntoView())}return!0},qV=(t,e)=>{let n=t.selection,{$from:r,$to:s}=n;if(n instanceof Tn||r.parent.inlineContent||s.parent.inlineContent)return!1;let i=MA(s.parent.contentMatchAt(s.indexAfter()));if(!i||!i.isTextblock)return!1;if(e){let o=(!r.parentOffset&&s.index()<s.parent.childCount?r:s).pos,a=t.tr.insert(o,i.createAndFill());a.setSelection(ne.create(a.doc,o+1)),e(a.scrollIntoView())}return!0},GV=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let i=n.before();if(ha(t.doc,i))return e&&e(t.tr.split(i).scrollIntoView()),!0}let r=n.blockRange(),s=r&&al(r);return s==null?!1:(e&&e(t.tr.lift(r,s).scrollIntoView()),!0)},JV=(t,e)=>{let{$from:n,to:r}=t.selection,s,i=n.sharedDepth(r);return i==0?!1:(s=n.before(i),e&&e(t.tr.setSelection(X.create(t.doc,s))),!0)};function QV(t,e,n){let r=e.nodeBefore,s=e.nodeAfter,i=e.index();return!r||!s||!r.type.compatibleContent(s.type)?!1:!r.content.size&&e.parent.canReplace(i-1,i)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(i,i+1)||!(s.isTextblock||mi(t.doc,e.pos))?!1:(n&&n(t.tr.join(e.pos).scrollIntoView()),!0)}function jA(t,e,n,r){let s=e.nodeBefore,i=e.nodeAfter,o,a,l=s.type.spec.isolating||i.type.spec.isolating;if(!l&&QV(t,e,n))return!0;let c=!l&&e.parent.canReplace(e.index(),e.index()+1);if(c&&(o=(a=s.contentMatchAt(s.childCount)).findWrapping(i.type))&&a.matchType(o[0]||i.type).validEnd){if(n){let h=e.pos+i.nodeSize,m=R.empty;for(let v=o.length-1;v>=0;v--)m=R.from(o[v].create(null,m));m=R.from(s.copy(m));let g=t.tr.step(new vt(e.pos-1,h,e.pos,h,new H(m,1,0),o.length,!0)),y=g.doc.resolve(h+2*o.length);y.nodeAfter&&y.nodeAfter.type==s.type&&mi(g.doc,y.pos)&&g.join(y.pos),n(g.scrollIntoView())}return!0}let u=i.type.spec.isolating||r>0&&l?null:me.findFrom(e,1),d=u&&u.$from.blockRange(u.$to),f=d&&al(d);if(f!=null&&f>=e.depth)return n&&n(t.tr.lift(d,f).scrollIntoView()),!0;if(c&&qa(i,"start",!0)&&qa(s,"end")){let h=s,m=[];for(;m.push(h),!h.isTextblock;)h=h.lastChild;let g=i,y=1;for(;!g.isTextblock;g=g.firstChild)y++;if(h.canReplace(h.childCount,h.childCount,g.content)){if(n){let v=R.empty;for(let x=m.length-1;x>=0;x--)v=R.from(m[x].copy(v));let w=t.tr.step(new vt(e.pos-m.length,e.pos+i.nodeSize,e.pos+y,e.pos+i.nodeSize-y,new H(v,m.length,0),0,!0));n(w.scrollIntoView())}return!0}}return!1}function IA(t){return function(e,n){let r=e.selection,s=t<0?r.$from:r.$to,i=s.depth;for(;s.node(i).isInline;){if(!i)return!1;i--}return s.node(i).isTextblock?(n&&n(e.tr.setSelection(ne.create(e.doc,t<0?s.start(i):s.end(i)))),!0):!1}}const YV=IA(-1),ZV=IA(1);function XV(t,e=null){return function(n,r){let{$from:s,$to:i}=n.selection,o=s.blockRange(i),a=o&&b0(o,t,e);return a?(r&&r(n.tr.wrap(o,a).scrollIntoView()),!0):!1}}function W1(t,e=null){return function(n,r){let s=!1;for(let i=0;i<n.selection.ranges.length&&!s;i++){let{$from:{pos:o},$to:{pos:a}}=n.selection.ranges[i];n.doc.nodesBetween(o,a,(l,c)=>{if(s)return!1;if(!(!l.isTextblock||l.hasMarkup(t,e)))if(l.type==t)s=!0;else{let u=n.doc.resolve(c),d=u.index();s=u.parent.canReplaceWith(d,d+1,t)}})}if(!s)return!1;if(r){let i=n.tr;for(let o=0;o<n.selection.ranges.length;o++){let{$from:{pos:a},$to:{pos:l}}=n.selection.ranges[o];i.setBlockType(a,l,t,e)}r(i.scrollIntoView())}return!0}}typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function e6(t,e=null){return function(n,r){let{$from:s,$to:i}=n.selection,o=s.blockRange(i);if(!o)return!1;let a=r?n.tr:null;return t6(a,o,t,e)?(r&&r(a.scrollIntoView()),!0):!1}}function t6(t,e,n,r=null){let s=!1,i=e,o=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(n)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let l=o.resolve(e.start-2);i=new pf(l,l,e.depth),e.endIndex<e.parent.childCount&&(e=new pf(e.$from,o.resolve(e.$to.end(e.depth)),e.depth)),s=!0}let a=b0(i,n,r,e);return a?(t&&n6(t,e,a,s,n),!0):!1}function n6(t,e,n,r,s){let i=R.empty;for(let u=n.length-1;u>=0;u--)i=R.from(n[u].type.create(n[u].attrs,i));t.step(new vt(e.start-(r?2:0),e.end,e.start,e.end,new H(i,0,0),n.length,!0));let o=0;for(let u=0;u<n.length;u++)n[u].type==s&&(o=u+1);let a=n.length-o,l=e.start+n.length-(r?2:0),c=e.parent;for(let u=e.startIndex,d=e.endIndex,f=!0;u<d;u++,f=!1)!f&&ha(t.doc,l,a)&&(t.split(l,a),l+=2*a),l+=c.child(u).nodeSize;return t}function r6(t){return function(e,n){let{$from:r,$to:s}=e.selection,i=r.blockRange(s,o=>o.childCount>0&&o.firstChild.type==t);return i?n?r.node(i.depth-1).type==t?s6(e,n,t,i):i6(e,n,i):!0:!1}}function s6(t,e,n,r){let s=t.tr,i=r.end,o=r.$to.end(r.depth);i<o&&(s.step(new vt(i-1,o,i,o,new H(R.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new pf(s.doc.resolve(r.$from.pos),s.doc.resolve(o),r.depth));const a=al(r);if(a==null)return!1;s.lift(r,a);let l=s.doc.resolve(s.mapping.map(i,-1)-1);return mi(s.doc,l.pos)&&l.nodeBefore.type==l.nodeAfter.type&&s.join(l.pos),e(s.scrollIntoView()),!0}function i6(t,e,n){let r=t.tr,s=n.parent;for(let h=n.end,m=n.endIndex-1,g=n.startIndex;m>g;m--)h-=s.child(m).nodeSize,r.delete(h-1,h+1);let i=r.doc.resolve(n.start),o=i.nodeAfter;if(r.mapping.map(n.end)!=n.start+i.nodeAfter.nodeSize)return!1;let a=n.startIndex==0,l=n.endIndex==s.childCount,c=i.node(-1),u=i.index(-1);if(!c.canReplace(u+(a?0:1),u+1,o.content.append(l?R.empty:R.from(s))))return!1;let d=i.pos,f=d+o.nodeSize;return r.step(new vt(d-(a?1:0),f+(l?1:0),d+1,f-1,new H((a?R.empty:R.from(s.copy(R.empty))).append(l?R.empty:R.from(s.copy(R.empty))),a?0:1,l?0:1),a?0:1)),e(r.scrollIntoView()),!0}function o6(t){return function(e,n){let{$from:r,$to:s}=e.selection,i=r.blockRange(s,c=>c.childCount>0&&c.firstChild.type==t);if(!i)return!1;let o=i.startIndex;if(o==0)return!1;let a=i.parent,l=a.child(o-1);if(l.type!=t)return!1;if(n){let c=l.lastChild&&l.lastChild.type==a.type,u=R.from(c?t.create():null),d=new H(R.from(t.create(null,R.from(a.type.create(null,u)))),c?3:1,0),f=i.start,h=i.end;n(e.tr.step(new vt(f-(c?3:1),h,f,h,d,1,!0)).scrollIntoView())}return!0}}var a6=Object.defineProperty,DA=(t,e)=>{for(var n in e)a6(t,n,{get:e[n],enumerable:!0})};function Gh(t){const{state:e,transaction:n}=t;let{selection:r}=n,{doc:s}=n,{storedMarks:i}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return i},get selection(){return r},get doc(){return s},get tr(){return r=n.selection,s=n.doc,i=n.storedMarks,n}}}var Jh=class{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:t,editor:e,state:n}=this,{view:r}=e,{tr:s}=n,i=this.buildProps(s);return Object.fromEntries(Object.entries(t).map(([o,a])=>[o,(...c)=>{const u=a(...c)(i);return!s.getMeta("preventDispatch")&&!this.hasCustomState&&r.dispatch(s),u}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,e=!0){const{rawCommands:n,editor:r,state:s}=this,{view:i}=r,o=[],a=!!t,l=t||s.tr,c=()=>(!a&&e&&!l.getMeta("preventDispatch")&&!this.hasCustomState&&i.dispatch(l),o.every(d=>d===!0)),u={...Object.fromEntries(Object.entries(n).map(([d,f])=>[d,(...m)=>{const g=this.buildProps(l,e),y=f(...m)(g);return o.push(y),u}])),run:c};return u}createCan(t){const{rawCommands:e,state:n}=this,r=!1,s=t||n.tr,i=this.buildProps(s,r);return{...Object.fromEntries(Object.entries(e).map(([a,l])=>[a,(...c)=>l(...c)({...i,dispatch:void 0})])),chain:()=>this.createChain(s,r)}}buildProps(t,e=!0){const{rawCommands:n,editor:r,state:s}=this,{view:i}=r,o={tr:t,editor:r,view:i,state:Gh({state:s,transaction:t}),dispatch:e?()=>{}:void 0,chain:()=>this.createChain(t,e),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(n).map(([a,l])=>[a,(...c)=>l(...c)(o)]))}};return o}},l6=class{constructor(){this.callbacks={}}on(t,e){return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(e),this}emit(t,...e){const n=this.callbacks[t];return n&&n.forEach(r=>r.apply(this,e)),this}off(t,e){const n=this.callbacks[t];return n&&(e?this.callbacks[t]=n.filter(r=>r!==e):delete this.callbacks[t]),this}once(t,e){const n=(...r)=>{this.off(t,n),e.apply(this,r)};return this.on(t,n)}removeAllListeners(){this.callbacks={}}};function LA(t,e){const n=new KN(t);return e.forEach(r=>{r.steps.forEach(s=>{n.step(s)})}),n}var $A=t=>{const e=t.childNodes;for(let n=e.length-1;n>=0;n-=1){const r=e[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?t.removeChild(r):r.nodeType===1&&$A(r)}return t};function Gu(t){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const e=`<body>${t}</body>`,n=new window.DOMParser().parseFromString(e,"text/html").body;return $A(n)}function zc(t,e,n){if(t instanceof Gs||t instanceof R)return t;n={slice:!0,parseOptions:{},...n};const r=typeof t=="object"&&t!==null,s=typeof t=="string";if(r)try{if(Array.isArray(t)&&t.length>0)return R.fromArray(t.map(a=>e.nodeFromJSON(a)));const o=e.nodeFromJSON(t);return n.errorOnInvalidContent&&o.check(),o}catch(i){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:i});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",i),zc("",e,n)}if(s){if(n.errorOnInvalidContent){let o=!1,a="";const l=new ON({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:c=>(o=!0,a=typeof c=="string"?c:c.outerHTML,null)}]}})});if(n.slice?Js.fromSchema(l).parseSlice(Gu(t),n.parseOptions):Js.fromSchema(l).parse(Gu(t),n.parseOptions),n.errorOnInvalidContent&&o)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${a}`)})}const i=Js.fromSchema(e);return n.slice?i.parseSlice(Gu(t),n.parseOptions).content:i.parse(Gu(t),n.parseOptions)}return zc("",e,n)}function Ey(t,e,n={},r={}){return zc(t,e,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}function c6(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function u6(t,e,n){const r=[];return t.nodesBetween(e.from,e.to,(s,i)=>{n(s)&&r.push({node:s,pos:i})}),r}function d6(t,e){for(let n=t.depth;n>0;n-=1){const r=t.node(n);if(e(r))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:r}}}function Qh(t){return e=>d6(e.$from,t)}function Z(t,e,n){return t.config[e]===void 0&&t.parent?Z(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?Z(t.parent,e,n):null}):t.config[e]}function j0(t){return t.map(e=>{const n={name:e.name,options:e.options,storage:e.storage},r=Z(e,"addExtensions",n);return r?[e,...j0(r())]:e}).flat(10)}function I0(t,e){const n=wo.fromSchema(e).serializeFragment(t),s=document.implementation.createHTMLDocument().createElement("div");return s.appendChild(n),s.innerHTML}function FA(t){return typeof t=="function"}function Ae(t,e=void 0,...n){return FA(t)?e?t.bind(e)(...n):t(...n):t}function f6(t={}){return Object.keys(t).length===0&&t.constructor===Object}function Bc(t){const e=t.filter(s=>s.type==="extension"),n=t.filter(s=>s.type==="node"),r=t.filter(s=>s.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:r}}function zA(t){const e=[],{nodeExtensions:n,markExtensions:r}=Bc(t),s=[...n,...r],i={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(o=>{const a={name:o.name,options:o.options,storage:o.storage,extensions:s},l=Z(o,"addGlobalAttributes",a);if(!l)return;l().forEach(u=>{u.types.forEach(d=>{Object.entries(u.attributes).forEach(([f,h])=>{e.push({type:d,name:f,attribute:{...i,...h}})})})})}),s.forEach(o=>{const a={name:o.name,options:o.options,storage:o.storage},l=Z(o,"addAttributes",a);if(!l)return;const c=l();Object.entries(c).forEach(([u,d])=>{const f={...i,...d};typeof(f==null?void 0:f.default)=="function"&&(f.default=f.default()),f!=null&&f.isRequired&&(f==null?void 0:f.default)===void 0&&delete f.default,e.push({type:o.name,name:u,attribute:f})})}),e}function rt(...t){return t.filter(e=>!!e).reduce((e,n)=>{const r={...e};return Object.entries(n).forEach(([s,i])=>{if(!r[s]){r[s]=i;return}if(s==="class"){const a=i?String(i).split(" "):[],l=r[s]?r[s].split(" "):[],c=a.filter(u=>!l.includes(u));r[s]=[...l,...c].join(" ")}else if(s==="style"){const a=i?i.split(";").map(u=>u.trim()).filter(Boolean):[],l=r[s]?r[s].split(";").map(u=>u.trim()).filter(Boolean):[],c=new Map;l.forEach(u=>{const[d,f]=u.split(":").map(h=>h.trim());c.set(d,f)}),a.forEach(u=>{const[d,f]=u.split(":").map(h=>h.trim());c.set(d,f)}),r[s]=Array.from(c.entries()).map(([u,d])=>`${u}: ${d}`).join("; ")}else r[s]=i}),r},{})}function kf(t,e){return e.filter(n=>n.type===t.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,r)=>rt(n,r),{})}function h6(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function K1(t,e){return"style"in t?t:{...t,getAttrs:n=>{const r=t.getAttrs?t.getAttrs(n):t.attrs;if(r===!1)return!1;const s=e.reduce((i,o)=>{const a=o.attribute.parseHTML?o.attribute.parseHTML(n):h6(n.getAttribute(o.name));return a==null?i:{...i,[o.name]:a}},{});return{...r,...s}}}}function q1(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&f6(n)?!1:n!=null))}function p6(t,e){var n;const r=zA(t),{nodeExtensions:s,markExtensions:i}=Bc(t),o=(n=s.find(c=>Z(c,"topNode")))==null?void 0:n.name,a=Object.fromEntries(s.map(c=>{const u=r.filter(v=>v.type===c.name),d={name:c.name,options:c.options,storage:c.storage,editor:e},f=t.reduce((v,w)=>{const x=Z(w,"extendNodeSchema",d);return{...v,...x?x(c):{}}},{}),h=q1({...f,content:Ae(Z(c,"content",d)),marks:Ae(Z(c,"marks",d)),group:Ae(Z(c,"group",d)),inline:Ae(Z(c,"inline",d)),atom:Ae(Z(c,"atom",d)),selectable:Ae(Z(c,"selectable",d)),draggable:Ae(Z(c,"draggable",d)),code:Ae(Z(c,"code",d)),whitespace:Ae(Z(c,"whitespace",d)),linebreakReplacement:Ae(Z(c,"linebreakReplacement",d)),defining:Ae(Z(c,"defining",d)),isolating:Ae(Z(c,"isolating",d)),attrs:Object.fromEntries(u.map(v=>{var w,x;return[v.name,{default:(w=v==null?void 0:v.attribute)==null?void 0:w.default,validate:(x=v==null?void 0:v.attribute)==null?void 0:x.validate}]}))}),m=Ae(Z(c,"parseHTML",d));m&&(h.parseDOM=m.map(v=>K1(v,u)));const g=Z(c,"renderHTML",d);g&&(h.toDOM=v=>g({node:v,HTMLAttributes:kf(v,u)}));const y=Z(c,"renderText",d);return y&&(h.toText=y),[c.name,h]})),l=Object.fromEntries(i.map(c=>{const u=r.filter(y=>y.type===c.name),d={name:c.name,options:c.options,storage:c.storage,editor:e},f=t.reduce((y,v)=>{const w=Z(v,"extendMarkSchema",d);return{...y,...w?w(c):{}}},{}),h=q1({...f,inclusive:Ae(Z(c,"inclusive",d)),excludes:Ae(Z(c,"excludes",d)),group:Ae(Z(c,"group",d)),spanning:Ae(Z(c,"spanning",d)),code:Ae(Z(c,"code",d)),attrs:Object.fromEntries(u.map(y=>{var v,w;return[y.name,{default:(v=y==null?void 0:y.attribute)==null?void 0:v.default,validate:(w=y==null?void 0:y.attribute)==null?void 0:w.validate}]}))}),m=Ae(Z(c,"parseHTML",d));m&&(h.parseDOM=m.map(y=>K1(y,u)));const g=Z(c,"renderHTML",d);return g&&(h.toDOM=y=>g({mark:y,HTMLAttributes:kf(y,u)})),[c.name,h]}));return new ON({topNode:o,nodes:a,marks:l})}function m6(t){const e=t.filter((n,r)=>t.indexOf(n)!==r);return Array.from(new Set(e))}function D0(t){return t.sort((n,r)=>{const s=Z(n,"priority")||100,i=Z(r,"priority")||100;return s>i?-1:s<i?1:0})}function BA(t){const e=D0(j0(t)),n=m6(e.map(r=>r.name));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map(r=>`'${r}'`).join(", ")}]. This can lead to issues.`),e}function UA(t,e,n){const{from:r,to:s}=e,{blockSeparator:i=`

`,textSerializers:o={}}=n||{};let a="";return t.nodesBetween(r,s,(l,c,u,d)=>{var f;l.isBlock&&c>r&&(a+=i);const h=o==null?void 0:o[l.type.name];if(h)return u&&(a+=h({node:l,pos:c,parent:u,index:d,range:e})),!1;l.isText&&(a+=(f=l==null?void 0:l.text)==null?void 0:f.slice(Math.max(r,c)-c,s-c))}),a}function g6(t,e){const n={from:0,to:t.content.size};return UA(t,n,e)}function VA(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}function Zr(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}function HA(t,e){const n=Zr(e,t.schema),{from:r,to:s,empty:i}=t.selection,o=[];i?(t.storedMarks&&o.push(...t.storedMarks),o.push(...t.selection.$head.marks())):t.doc.nodesBetween(r,s,l=>{o.push(...l.marks)});const a=o.find(l=>l.type.name===n.name);return a?{...a.attrs}:{}}function ct(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}function y6(t,e){const n=ct(e,t.schema),{from:r,to:s}=t.selection,i=[];t.doc.nodesBetween(r,s,a=>{i.push(a)});const o=i.reverse().find(a=>a.type.name===n.name);return o?{...o.attrs}:{}}function Yh(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function WA(t,e){const n=Yh(typeof e=="string"?e:e.name,t.schema);return n==="node"?y6(t,e):n==="mark"?HA(t,e):{}}function v6(t,e=JSON.stringify){const n={};return t.filter(r=>{const s=e(r);return Object.prototype.hasOwnProperty.call(n,s)?!1:n[s]=!0})}function w6(t){const e=v6(t);return e.length===1?e:e.filter((n,r)=>!e.filter((i,o)=>o!==r).some(i=>n.oldRange.from>=i.oldRange.from&&n.oldRange.to<=i.oldRange.to&&n.newRange.from>=i.newRange.from&&n.newRange.to<=i.newRange.to))}function KA(t){const{mapping:e,steps:n}=t,r=[];return e.maps.forEach((s,i)=>{const o=[];if(s.ranges.length)s.forEach((a,l)=>{o.push({from:a,to:l})});else{const{from:a,to:l}=n[i];if(a===void 0||l===void 0)return;o.push({from:a,to:l})}o.forEach(({from:a,to:l})=>{const c=e.slice(i).map(a,-1),u=e.slice(i).map(l),d=e.invert().map(c,-1),f=e.invert().map(u);r.push({oldRange:{from:d,to:f},newRange:{from:c,to:u}})})}),w6(r)}function L0(t){return Object.prototype.toString.call(t)==="[object RegExp]"}function Sf(t,e,n={strict:!0}){const r=Object.keys(e);return r.length?r.every(s=>n.strict?e[s]===t[s]:L0(e[s])?e[s].test(t[s]):e[s]===t[s]):!0}function qA(t,e,n={}){return t.find(r=>r.type===e&&Sf(Object.fromEntries(Object.keys(n).map(s=>[s,r.attrs[s]])),n))}function G1(t,e,n={}){return!!qA(t,e,n)}function $0(t,e,n){var r;if(!t||!e)return;let s=t.parent.childAfter(t.parentOffset);if((!s.node||!s.node.marks.some(u=>u.type===e))&&(s=t.parent.childBefore(t.parentOffset)),!s.node||!s.node.marks.some(u=>u.type===e)||(n=n||((r=s.node.marks[0])==null?void 0:r.attrs),!qA([...s.node.marks],e,n)))return;let o=s.index,a=t.start()+s.offset,l=o+1,c=a+s.node.nodeSize;for(;o>0&&G1([...t.parent.child(o-1).marks],e,n);)o-=1,a-=t.parent.child(o).nodeSize;for(;l<t.parent.childCount&&G1([...t.parent.child(l).marks],e,n);)c+=t.parent.child(l).nodeSize,l+=1;return{from:a,to:c}}function F0(t,e,n){const r=[];return t===e?n.resolve(t).marks().forEach(s=>{const i=n.resolve(t),o=$0(i,s.type);o&&r.push({mark:s,...o})}):n.nodesBetween(t,e,(s,i)=>{!s||(s==null?void 0:s.nodeSize)===void 0||r.push(...s.marks.map(o=>({from:i,to:i+s.nodeSize,mark:o})))}),r}var x6=(t,e,n,r=20)=>{const s=t.doc.resolve(n);let i=r,o=null;for(;i>0&&o===null;){const a=s.node(i);(a==null?void 0:a.type.name)===e?o=a:i-=1}return[o,i]};function xm(t,e){return e.nodes[t]||e.marks[t]||null}function bd(t,e,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const s=t.find(i=>i.type===e&&i.name===r);return s?s.attribute.keepOnSplit:!1}))}var b6=(t,e=500)=>{let n="";const r=t.parentOffset;return t.parent.nodesBetween(Math.max(0,r-e),r,(s,i,o,a)=>{var l,c;const u=((c=(l=s.type.spec).toText)==null?void 0:c.call(l,{node:s,pos:i,parent:o,index:a}))||s.textContent||"%leaf%";n+=s.isAtom&&!s.isText?u:u.slice(0,Math.max(0,r-i))}),n};function Cy(t,e,n={}){const{empty:r,ranges:s}=t.selection,i=e?Zr(e,t.schema):null;if(r)return!!(t.storedMarks||t.selection.$from.marks()).filter(d=>i?i.name===d.type.name:!0).find(d=>Sf(d.attrs,n,{strict:!1}));let o=0;const a=[];if(s.forEach(({$from:d,$to:f})=>{const h=d.pos,m=f.pos;t.doc.nodesBetween(h,m,(g,y)=>{if(!g.isText&&!g.marks.length)return;const v=Math.max(h,y),w=Math.min(m,y+g.nodeSize),x=w-v;o+=x,a.push(...g.marks.map(k=>({mark:k,from:v,to:w})))})}),o===0)return!1;const l=a.filter(d=>i?i.name===d.mark.type.name:!0).filter(d=>Sf(d.mark.attrs,n,{strict:!1})).reduce((d,f)=>d+f.to-f.from,0),c=a.filter(d=>i?d.mark.type!==i&&d.mark.type.excludes(i):!0).reduce((d,f)=>d+f.to-f.from,0);return(l>0?l+c:l)>=o}function oi(t,e,n={}){const{from:r,to:s,empty:i}=t.selection,o=e?ct(e,t.schema):null,a=[];t.doc.nodesBetween(r,s,(d,f)=>{if(d.isText)return;const h=Math.max(r,f),m=Math.min(s,f+d.nodeSize);a.push({node:d,from:h,to:m})});const l=s-r,c=a.filter(d=>o?o.name===d.node.type.name:!0).filter(d=>Sf(d.node.attrs,n,{strict:!1}));return i?!!c.length:c.reduce((d,f)=>d+f.to-f.from,0)>=l}function k6(t,e,n={}){if(!e)return oi(t,null,n)||Cy(t,null,n);const r=Yh(e,t.schema);return r==="node"?oi(t,e,n):r==="mark"?Cy(t,e,n):!1}var S6=(t,e)=>{const{$from:n,$to:r,$anchor:s}=t.selection;if(e){const i=Qh(a=>a.type.name===e)(t.selection);if(!i)return!1;const o=t.doc.resolve(i.pos+1);return s.pos+1===o.end()}return!(r.parentOffset<r.parent.nodeSize-2||n.pos!==r.pos)},E6=t=>{const{$from:e,$to:n}=t.selection;return!(e.parentOffset>0||e.pos!==n.pos)};function J1(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}function Q1(t,e){const{nodeExtensions:n}=Bc(e),r=n.find(o=>o.name===t);if(!r)return!1;const s={name:r.name,options:r.options,storage:r.storage},i=Ae(Z(r,"group",s));return typeof i!="string"?!1:i.split(" ").includes("list")}function Zh(t,{checkChildren:e=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((r=t.text)!=null?r:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let s=!0;return t.content.forEach(i=>{s!==!1&&(Zh(i,{ignoreWhitespace:n,checkChildren:e})||(s=!1))}),s}return!1}function GA(t){return t instanceof X}function JA(t){return t instanceof ne}function Ii(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function QA(t,e=null){if(!e)return null;const n=me.atStart(t),r=me.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return r;const s=n.from,i=r.to;return e==="all"?ne.create(t,Ii(0,s,i),Ii(t.content.size,s,i)):ne.create(t,Ii(e,s,i),Ii(e,s,i))}function C6(t,e,n){const r=t.steps.length-1;if(r<e)return;const s=t.steps[r];if(!(s instanceof gt||s instanceof vt))return;const i=t.mapping.maps[r];let o=0;i.forEach((a,l,c,u)=>{o===0&&(o=u)}),t.setSelection(me.near(t.doc.resolve(o),n))}var Xh=class{constructor(t){var e;this.find=t.find,this.handler=t.handler,this.undoable=(e=t.undoable)!=null?e:!0}},_6=(t,e)=>{if(L0(e))return e.exec(t);const n=e(t);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=t,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function Ju(t){var e;const{editor:n,from:r,to:s,text:i,rules:o,plugin:a}=t,{view:l}=n;if(l.composing)return!1;const c=l.state.doc.resolve(r);if(c.parent.type.spec.code||(e=c.nodeBefore||c.nodeAfter)!=null&&e.marks.find(f=>f.type.spec.code))return!1;let u=!1;const d=b6(c)+i;return o.forEach(f=>{if(u)return;const h=_6(d,f.find);if(!h)return;const m=l.state.tr,g=Gh({state:l.state,transaction:m}),y={from:r-(h[0].length-i.length),to:s},{commands:v,chain:w,can:x}=new Jh({editor:n,state:g});f.handler({state:g,range:y,match:h,commands:v,chain:w,can:x})===null||!m.steps.length||(f.undoable&&m.setMeta(a,{transform:m,from:r,to:s,text:i}),l.dispatch(m),u=!0)}),u}function T6(t){const{editor:e,rules:n}=t,r=new st({state:{init(){return null},apply(s,i,o){const a=s.getMeta(r);if(a)return a;const l=s.getMeta("applyInputRules");return!!l&&setTimeout(()=>{let{text:u}=l;typeof u=="string"?u=u:u=I0(R.from(u),o.schema);const{from:d}=l,f=d+u.length;Ju({editor:e,from:d,to:f,text:u,rules:n,plugin:r})}),s.selectionSet||s.docChanged?null:i}},props:{handleTextInput(s,i,o,a){return Ju({editor:e,from:i,to:o,text:a,rules:n,plugin:r})},handleDOMEvents:{compositionend:s=>(setTimeout(()=>{const{$cursor:i}=s.state.selection;i&&Ju({editor:e,from:i.pos,to:i.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(s,i){if(i.key!=="Enter")return!1;const{$cursor:o}=s.state.selection;return o?Ju({editor:e,from:o.pos,to:o.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function N6(t){return Object.prototype.toString.call(t).slice(8,-1)}function Qu(t){return N6(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function YA(t,e){const n={...t};return Qu(t)&&Qu(e)&&Object.keys(e).forEach(r=>{Qu(e[r])&&Qu(t[r])?n[r]=YA(t[r],e[r]):n[r]=e[r]}),n}var z0=class{constructor(t={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...t},this.name=this.config.name}get options(){return{...Ae(Z(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...Ae(Z(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(t={}){const e=this.extend({...this.config,addOptions:()=>YA(this.options,t)});return e.name=this.name,e.parent=this.parent,e}extend(t={}){const e=new this.constructor({...this.config,...t});return e.parent=this,this.child=e,e.name="name"in t?t.name:e.parent.name,e}},xo=class ZA extends z0{constructor(){super(...arguments),this.type="mark"}static create(e={}){const n=typeof e=="function"?e():e;return new ZA(n)}static handleExit({editor:e,mark:n}){const{tr:r}=e.state,s=e.state.selection.$from;if(s.pos===s.end()){const o=s.marks();if(!!!o.find(c=>(c==null?void 0:c.type.name)===n.name))return!1;const l=o.find(c=>(c==null?void 0:c.type.name)===n.name);return l&&r.removeStoredMark(l),r.insertText(" ",s.pos),e.view.dispatch(r),!0}return!1}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}};function A6(t){return typeof t=="number"}var XA=class{constructor(t){this.find=t.find,this.handler=t.handler}},O6=(t,e,n)=>{if(L0(e))return[...t.matchAll(e)];const r=e(t,n);return r?r.map(s=>{const i=[s.text];return i.index=s.index,i.input=t,i.data=s.data,s.replaceWith&&(s.text.includes(s.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),i.push(s.replaceWith)),i}):[]};function P6(t){const{editor:e,state:n,from:r,to:s,rule:i,pasteEvent:o,dropEvent:a}=t,{commands:l,chain:c,can:u}=new Jh({editor:e,state:n}),d=[];return n.doc.nodesBetween(r,s,(h,m)=>{var g,y,v,w,x;if((y=(g=h.type)==null?void 0:g.spec)!=null&&y.code||!(h.isText||h.isTextblock||h.isInline))return;const k=(x=(w=(v=h.content)==null?void 0:v.size)!=null?w:h.nodeSize)!=null?x:0,S=Math.max(r,m),C=Math.min(s,m+k);if(S>=C)return;const E=h.isText?h.text||"":h.textBetween(S-m,C-m,void 0,"");O6(E,i.find,o).forEach(A=>{if(A.index===void 0)return;const T=S+A.index+1,z=T+A[0].length,I={from:n.tr.mapping.map(T),to:n.tr.mapping.map(z)},q=i.handler({state:n,range:I,match:A,commands:l,chain:c,can:u,pasteEvent:o,dropEvent:a});d.push(q)})}),d.every(h=>h!==null)}var Yu=null,R6=t=>{var e;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=n.clipboardData)==null||e.setData("text/html",t),n};function M6(t){const{editor:e,rules:n}=t;let r=null,s=!1,i=!1,o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,a;try{a=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{a=null}const l=({state:u,from:d,to:f,rule:h,pasteEvt:m})=>{const g=u.tr,y=Gh({state:u,transaction:g});if(!(!P6({editor:e,state:y,from:Math.max(d-1,0),to:f.b-1,rule:h,pasteEvent:m,dropEvent:a})||!g.steps.length)){try{a=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{a=null}return o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,g}};return n.map(u=>new st({view(d){const f=m=>{var g;r=(g=d.dom.parentElement)!=null&&g.contains(m.target)?d.dom.parentElement:null,r&&(Yu=e)},h=()=>{Yu&&(Yu=null)};return window.addEventListener("dragstart",f),window.addEventListener("dragend",h),{destroy(){window.removeEventListener("dragstart",f),window.removeEventListener("dragend",h)}}},props:{handleDOMEvents:{drop:(d,f)=>{if(i=r===d.dom.parentElement,a=f,!i){const h=Yu;h!=null&&h.isEditable&&setTimeout(()=>{const m=h.state.selection;m&&h.commands.deleteRange({from:m.from,to:m.to})},10)}return!1},paste:(d,f)=>{var h;const m=(h=f.clipboardData)==null?void 0:h.getData("text/html");return o=f,s=!!(m!=null&&m.includes("data-pm-slice")),!1}}},appendTransaction:(d,f,h)=>{const m=d[0],g=m.getMeta("uiEvent")==="paste"&&!s,y=m.getMeta("uiEvent")==="drop"&&!i,v=m.getMeta("applyPasteRules"),w=!!v;if(!g&&!y&&!w)return;if(w){let{text:S}=v;typeof S=="string"?S=S:S=I0(R.from(S),h.schema);const{from:C}=v,E=C+S.length,_=R6(S);return l({rule:u,state:h,from:C,to:{b:E},pasteEvt:_})}const x=f.doc.content.findDiffStart(h.doc.content),k=f.doc.content.findDiffEnd(h.doc.content);if(!(!A6(x)||!k||x===k.b))return l({rule:u,state:h,from:x,to:k,pasteEvt:o})}}))}var ep=class{constructor(t,e){this.splittableMarks=[],this.editor=e,this.extensions=BA(t),this.schema=p6(this.extensions,e),this.setupExtensions()}get commands(){return this.extensions.reduce((t,e)=>{const n={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:xm(e.name,this.schema)},r=Z(e,"addCommands",n);return r?{...t,...r()}:t},{})}get plugins(){const{editor:t}=this;return D0([...this.extensions].reverse()).flatMap(r=>{const s={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:t,type:xm(r.name,this.schema)},i=[],o=Z(r,"addKeyboardShortcuts",s);let a={};if(r.type==="mark"&&Z(r,"exitable",s)&&(a.ArrowRight=()=>xo.handleExit({editor:t,mark:r})),o){const f=Object.fromEntries(Object.entries(o()).map(([h,m])=>[h,()=>m({editor:t})]));a={...a,...f}}const l=jV(a);i.push(l);const c=Z(r,"addInputRules",s);if(J1(r,t.options.enableInputRules)&&c){const f=c();if(f&&f.length){const h=T6({editor:t,rules:f}),m=Array.isArray(h)?h:[h];i.push(...m)}}const u=Z(r,"addPasteRules",s);if(J1(r,t.options.enablePasteRules)&&u){const f=u();if(f&&f.length){const h=M6({editor:t,rules:f});i.push(...h)}}const d=Z(r,"addProseMirrorPlugins",s);if(d){const f=d();i.push(...f)}return i})}get attributes(){return zA(this.extensions)}get nodeViews(){const{editor:t}=this,{nodeExtensions:e}=Bc(this.extensions);return Object.fromEntries(e.filter(n=>!!Z(n,"addNodeView")).map(n=>{const r=this.attributes.filter(a=>a.type===n.name),s={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:ct(n.name,this.schema)},i=Z(n,"addNodeView",s);if(!i)return[];const o=(a,l,c,u,d)=>{const f=kf(a,r);return i()({node:a,view:l,getPos:c,decorations:u,innerDecorations:d,editor:t,extension:n,HTMLAttributes:f})};return[n.name,o]}))}get markViews(){const{editor:t}=this,{markExtensions:e}=Bc(this.extensions);return Object.fromEntries(e.filter(n=>!!Z(n,"addMarkView")).map(n=>{const r=this.attributes.filter(a=>a.type===n.name),s={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:Zr(n.name,this.schema)},i=Z(n,"addMarkView",s);if(!i)return[];const o=(a,l,c)=>{const u=kf(a,r);return i()({mark:a,view:l,inline:c,editor:t,extension:n,HTMLAttributes:u,updateAttributes:d=>{GH(a,t,d)}})};return[n.name,o]}))}setupExtensions(){const t=this.extensions;this.editor.extensionStorage=Object.fromEntries(t.map(e=>[e.name,e.storage])),t.forEach(e=>{var n;const r={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:xm(e.name,this.schema)};e.type==="mark"&&((n=Ae(Z(e,"keepOnSplit",r)))==null||n)&&this.splittableMarks.push(e.name);const s=Z(e,"onBeforeCreate",r),i=Z(e,"onCreate",r),o=Z(e,"onUpdate",r),a=Z(e,"onSelectionUpdate",r),l=Z(e,"onTransaction",r),c=Z(e,"onFocus",r),u=Z(e,"onBlur",r),d=Z(e,"onDestroy",r);s&&this.editor.on("beforeCreate",s),i&&this.editor.on("create",i),o&&this.editor.on("update",o),a&&this.editor.on("selectionUpdate",a),l&&this.editor.on("transaction",l),c&&this.editor.on("focus",c),u&&this.editor.on("blur",u),d&&this.editor.on("destroy",d)})}};ep.resolve=BA;ep.sort=D0;ep.flatten=j0;var j6={};DA(j6,{ClipboardTextSerializer:()=>tO,Commands:()=>sO,Delete:()=>iO,Drop:()=>oO,Editable:()=>aO,FocusEvents:()=>cO,Keymap:()=>uO,Paste:()=>dO,Tabindex:()=>fO,focusEventsPluginKey:()=>lO});var ut=class eO extends z0{constructor(){super(...arguments),this.type="extension"}static create(e={}){const n=typeof e=="function"?e():e;return new eO(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}},tO=ut.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new st({key:new xt("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:r,selection:s}=e,{ranges:i}=s,o=Math.min(...i.map(u=>u.$from.pos)),a=Math.max(...i.map(u=>u.$to.pos)),l=VA(n);return UA(r,{from:o,to:a},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:l})}}})]}}),nO={};DA(nO,{blur:()=>I6,clearContent:()=>D6,clearNodes:()=>L6,command:()=>$6,createParagraphNear:()=>F6,cut:()=>z6,deleteCurrentNode:()=>B6,deleteNode:()=>U6,deleteRange:()=>V6,deleteSelection:()=>H6,enter:()=>W6,exitCode:()=>K6,extendMarkRange:()=>q6,first:()=>G6,focus:()=>Q6,forEach:()=>Y6,insertContent:()=>Z6,insertContentAt:()=>eH,joinBackward:()=>rH,joinDown:()=>nH,joinForward:()=>sH,joinItemBackward:()=>iH,joinItemForward:()=>oH,joinTextblockBackward:()=>aH,joinTextblockForward:()=>lH,joinUp:()=>tH,keyboardShortcut:()=>uH,lift:()=>dH,liftEmptyBlock:()=>fH,liftListItem:()=>hH,newlineInCode:()=>pH,resetAttributes:()=>mH,scrollIntoView:()=>gH,selectAll:()=>yH,selectNodeBackward:()=>vH,selectNodeForward:()=>wH,selectParentNode:()=>xH,selectTextblockEnd:()=>bH,selectTextblockStart:()=>kH,setContent:()=>SH,setMark:()=>CH,setMeta:()=>_H,setNode:()=>TH,setNodeSelection:()=>NH,setTextSelection:()=>AH,sinkListItem:()=>OH,splitBlock:()=>PH,splitListItem:()=>RH,toggleList:()=>MH,toggleMark:()=>jH,toggleNode:()=>IH,toggleWrap:()=>DH,undoInputRule:()=>LH,unsetAllMarks:()=>$H,unsetMark:()=>FH,updateAttributes:()=>zH,wrapIn:()=>BH,wrapInList:()=>UH});var I6=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window==null?void 0:window.getSelection())==null||n.removeAllRanges())}),!0),D6=(t=!0)=>({commands:e})=>e.setContent("",{emitUpdate:t}),L6=()=>({state:t,tr:e,dispatch:n})=>{const{selection:r}=e,{ranges:s}=r;return n&&s.forEach(({$from:i,$to:o})=>{t.doc.nodesBetween(i.pos,o.pos,(a,l)=>{if(a.type.isText)return;const{doc:c,mapping:u}=e,d=c.resolve(u.map(l)),f=c.resolve(u.map(l+a.nodeSize)),h=d.blockRange(f);if(!h)return;const m=al(h);if(a.type.isTextblock){const{defaultType:g}=d.parent.contentMatchAt(d.index());e.setNodeMarkup(h.start,g)}(m||m===0)&&e.lift(h,m)})}),!0},$6=t=>e=>t(e),F6=()=>({state:t,dispatch:e})=>qV(t,e),z6=(t,e)=>({editor:n,tr:r})=>{const{state:s}=n,i=s.doc.slice(t.from,t.to);r.deleteRange(t.from,t.to);const o=r.mapping.map(e);return r.insert(o,i.content),r.setSelection(new ne(r.doc.resolve(Math.max(o-1,0)))),!0},B6=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,r=n.$anchor.node();if(r.content.size>0)return!1;const s=t.selection.$anchor;for(let i=s.depth;i>0;i-=1)if(s.node(i).type===r.type){if(e){const a=s.before(i),l=s.after(i);t.delete(a,l).scrollIntoView()}return!0}return!1},U6=t=>({tr:e,state:n,dispatch:r})=>{const s=ct(t,n.schema),i=e.selection.$anchor;for(let o=i.depth;o>0;o-=1)if(i.node(o).type===s){if(r){const l=i.before(o),c=i.after(o);e.delete(l,c).scrollIntoView()}return!0}return!1},V6=t=>({tr:e,dispatch:n})=>{const{from:r,to:s}=t;return n&&e.delete(r,s),!0},H6=()=>({state:t,dispatch:e})=>IV(t,e),W6=()=>({commands:t})=>t.keyboardShortcut("Enter"),K6=()=>({state:t,dispatch:e})=>KV(t,e),q6=(t,e={})=>({tr:n,state:r,dispatch:s})=>{const i=Zr(t,r.schema),{doc:o,selection:a}=n,{$from:l,from:c,to:u}=a;if(s){const d=$0(l,i,e);if(d&&d.from<=c&&d.to>=u){const f=ne.create(o,d.from,d.to);n.setSelection(f)}}return!0},G6=t=>e=>{const n=typeof t=="function"?t(e):t;for(let r=0;r<n.length;r+=1)if(n[r](e))return!0;return!1};function J6(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function B0(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}var Q6=(t=null,e={})=>({editor:n,view:r,tr:s,dispatch:i})=>{e={scrollIntoView:!0,...e};const o=()=>{(B0()||J6())&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),e!=null&&e.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&t===null||t===!1)return!0;if(i&&t===null&&!JA(n.state.selection))return o(),!0;const a=QA(s.doc,t)||n.state.selection,l=n.state.selection.eq(a);return i&&(l||s.setSelection(a),l&&s.storedMarks&&s.setStoredMarks(s.storedMarks),o()),!0},Y6=(t,e)=>n=>t.every((r,s)=>e(r,{...n,index:s})),Z6=(t,e)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},t,e),X6=t=>!("type"in t),eH=(t,e,n)=>({tr:r,dispatch:s,editor:i})=>{var o;if(s){n={parseOptions:i.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let a;const l=y=>{i.emit("contentError",{editor:i,error:y,disableCollaboration:()=>{"collaboration"in i.storage&&typeof i.storage.collaboration=="object"&&i.storage.collaboration&&(i.storage.collaboration.isDisabled=!0)}})},c={preserveWhitespace:"full",...n.parseOptions};if(!n.errorOnInvalidContent&&!i.options.enableContentCheck&&i.options.emitContentError)try{zc(e,i.schema,{parseOptions:c,errorOnInvalidContent:!0})}catch(y){l(y)}try{a=zc(e,i.schema,{parseOptions:c,errorOnInvalidContent:(o=n.errorOnInvalidContent)!=null?o:i.options.enableContentCheck})}catch(y){return l(y),!1}let{from:u,to:d}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},f=!0,h=!0;if((X6(a)?a:[a]).forEach(y=>{y.check(),f=f?y.isText&&y.marks.length===0:!1,h=h?y.isBlock:!1}),u===d&&h){const{parent:y}=r.doc.resolve(u);y.isTextblock&&!y.type.spec.code&&!y.childCount&&(u-=1,d+=1)}let g;if(f){if(Array.isArray(e))g=e.map(y=>y.text||"").join("");else if(e instanceof R){let y="";e.forEach(v=>{v.text&&(y+=v.text)}),g=y}else typeof e=="object"&&e&&e.text?g=e.text:g=e;r.insertText(g,u,d)}else{g=a;const y=r.doc.resolve(u),v=y.node(),w=y.parentOffset===0,x=v.isText||v.isTextblock,k=v.content.size>0;w&&x&&k&&(u=Math.max(0,u-1)),r.replaceWith(u,d,g)}n.updateSelection&&C6(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:u,text:g}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:u,text:g})}return!0},tH=()=>({state:t,dispatch:e})=>UV(t,e),nH=()=>({state:t,dispatch:e})=>VV(t,e),rH=()=>({state:t,dispatch:e})=>DV(t,e),sH=()=>({state:t,dispatch:e})=>zV(t,e),iH=()=>({state:t,dispatch:e,tr:n})=>{try{const r=Uh(t.doc,t.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},oH=()=>({state:t,dispatch:e,tr:n})=>{try{const r=Uh(t.doc,t.selection.$from.pos,1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},aH=()=>({state:t,dispatch:e})=>LV(t,e),lH=()=>({state:t,dispatch:e})=>$V(t,e);function rO(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function cH(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let r,s,i,o;for(let a=0;a<e.length-1;a+=1){const l=e[a];if(/^(cmd|meta|m)$/i.test(l))o=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))s=!0;else if(/^s(hift)?$/i.test(l))i=!0;else if(/^mod$/i.test(l))B0()||rO()?o=!0:s=!0;else throw new Error(`Unrecognized modifier name: ${l}`)}return r&&(n=`Alt-${n}`),s&&(n=`Ctrl-${n}`),o&&(n=`Meta-${n}`),i&&(n=`Shift-${n}`),n}var uH=t=>({editor:e,view:n,tr:r,dispatch:s})=>{const i=cH(t).split(/-(?!$)/),o=i.find(c=>!["Alt","Ctrl","Meta","Shift"].includes(c)),a=new KeyboardEvent("keydown",{key:o==="Space"?" ":o,altKey:i.includes("Alt"),ctrlKey:i.includes("Ctrl"),metaKey:i.includes("Meta"),shiftKey:i.includes("Shift"),bubbles:!0,cancelable:!0}),l=e.captureTransaction(()=>{n.someProp("handleKeyDown",c=>c(n,a))});return l==null||l.steps.forEach(c=>{const u=c.map(r.mapping);u&&s&&r.maybeStep(u)}),!0},dH=(t,e={})=>({state:n,dispatch:r})=>{const s=ct(t,n.schema);return oi(n,s,e)?HV(n,r):!1},fH=()=>({state:t,dispatch:e})=>GV(t,e),hH=t=>({state:e,dispatch:n})=>{const r=ct(t,e.schema);return r6(r)(e,n)},pH=()=>({state:t,dispatch:e})=>WV(t,e);function Y1(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((r,s)=>(n.includes(s)||(r[s]=t[s]),r),{})}var mH=(t,e)=>({tr:n,state:r,dispatch:s})=>{let i=null,o=null;const a=Yh(typeof t=="string"?t:t.name,r.schema);return a?(a==="node"&&(i=ct(t,r.schema)),a==="mark"&&(o=Zr(t,r.schema)),s&&n.selection.ranges.forEach(l=>{r.doc.nodesBetween(l.$from.pos,l.$to.pos,(c,u)=>{i&&i===c.type&&n.setNodeMarkup(u,void 0,Y1(c.attrs,e)),o&&c.marks.length&&c.marks.forEach(d=>{o===d.type&&n.addMark(u,u+c.nodeSize,o.create(Y1(d.attrs,e)))})})}),!0):!1},gH=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),yH=()=>({tr:t,dispatch:e})=>{if(e){const n=new Tn(t.doc);t.setSelection(n)}return!0},vH=()=>({state:t,dispatch:e})=>FV(t,e),wH=()=>({state:t,dispatch:e})=>BV(t,e),xH=()=>({state:t,dispatch:e})=>JV(t,e),bH=()=>({state:t,dispatch:e})=>ZV(t,e),kH=()=>({state:t,dispatch:e})=>YV(t,e),SH=(t,{errorOnInvalidContent:e,emitUpdate:n=!0,parseOptions:r={}}={})=>({editor:s,tr:i,dispatch:o,commands:a})=>{const{doc:l}=i;if(r.preserveWhitespace!=="full"){const c=Ey(t,s.schema,r,{errorOnInvalidContent:e??s.options.enableContentCheck});return o&&i.replaceWith(0,l.content.size,c).setMeta("preventUpdate",!n),!0}return o&&i.setMeta("preventUpdate",!n),a.insertContentAt({from:0,to:l.content.size},t,{parseOptions:r,errorOnInvalidContent:e??s.options.enableContentCheck})};function EH(t,e,n){var r;const{selection:s}=e;let i=null;if(JA(s)&&(i=s.$cursor),i){const a=(r=t.storedMarks)!=null?r:i.marks();return i.parent.type.allowsMarkType(n)&&(!!n.isInSet(a)||!a.some(c=>c.type.excludes(n)))}const{ranges:o}=s;return o.some(({$from:a,$to:l})=>{let c=a.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(a.pos,l.pos,(u,d,f)=>{if(c)return!1;if(u.isInline){const h=!f||f.type.allowsMarkType(n),m=!!n.isInSet(u.marks)||!u.marks.some(g=>g.type.excludes(n));c=h&&m}return!c}),c})}var CH=(t,e={})=>({tr:n,state:r,dispatch:s})=>{const{selection:i}=n,{empty:o,ranges:a}=i,l=Zr(t,r.schema);if(s)if(o){const c=HA(r,l);n.addStoredMark(l.create({...c,...e}))}else a.forEach(c=>{const u=c.$from.pos,d=c.$to.pos;r.doc.nodesBetween(u,d,(f,h)=>{const m=Math.max(h,u),g=Math.min(h+f.nodeSize,d);f.marks.find(v=>v.type===l)?f.marks.forEach(v=>{l===v.type&&n.addMark(m,g,l.create({...v.attrs,...e}))}):n.addMark(m,g,l.create(e))})});return EH(r,n,l)},_H=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),TH=(t,e={})=>({state:n,dispatch:r,chain:s})=>{const i=ct(t,n.schema);let o;return n.selection.$anchor.sameParent(n.selection.$head)&&(o=n.selection.$anchor.parent.attrs),i.isTextblock?s().command(({commands:a})=>W1(i,{...o,...e})(n)?!0:a.clearNodes()).command(({state:a})=>W1(i,{...o,...e})(a,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},NH=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,s=Ii(t,0,r.content.size),i=X.create(r,s);e.setSelection(i)}return!0},AH=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,{from:s,to:i}=typeof t=="number"?{from:t,to:t}:t,o=ne.atStart(r).from,a=ne.atEnd(r).to,l=Ii(s,o,a),c=Ii(i,o,a),u=ne.create(r,l,c);e.setSelection(u)}return!0},OH=t=>({state:e,dispatch:n})=>{const r=ct(t,e.schema);return o6(r)(e,n)};function Z1(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const r=n.filter(s=>e==null?void 0:e.includes(s.type.name));t.tr.ensureMarks(r)}}var PH=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:r,editor:s})=>{const{selection:i,doc:o}=e,{$from:a,$to:l}=i,c=s.extensionManager.attributes,u=bd(c,a.node().type.name,a.node().attrs);if(i instanceof X&&i.node.isBlock)return!a.parentOffset||!ha(o,a.pos)?!1:(r&&(t&&Z1(n,s.extensionManager.splittableMarks),e.split(a.pos).scrollIntoView()),!0);if(!a.parent.isBlock)return!1;const d=l.parentOffset===l.parent.content.size,f=a.depth===0?void 0:c6(a.node(-1).contentMatchAt(a.indexAfter(-1)));let h=d&&f?[{type:f,attrs:u}]:void 0,m=ha(e.doc,e.mapping.map(a.pos),1,h);if(!h&&!m&&ha(e.doc,e.mapping.map(a.pos),1,f?[{type:f}]:void 0)&&(m=!0,h=f?[{type:f,attrs:u}]:void 0),r){if(m&&(i instanceof ne&&e.deleteSelection(),e.split(e.mapping.map(a.pos),1,h),f&&!d&&!a.parentOffset&&a.parent.type!==f)){const g=e.mapping.map(a.before()),y=e.doc.resolve(g);a.node(-1).canReplaceWith(y.index(),y.index()+1,f)&&e.setNodeMarkup(e.mapping.map(a.before()),f)}t&&Z1(n,s.extensionManager.splittableMarks),e.scrollIntoView()}return m},RH=(t,e={})=>({tr:n,state:r,dispatch:s,editor:i})=>{var o;const a=ct(t,r.schema),{$from:l,$to:c}=r.selection,u=r.selection.node;if(u&&u.isBlock||l.depth<2||!l.sameParent(c))return!1;const d=l.node(-1);if(d.type!==a)return!1;const f=i.extensionManager.attributes;if(l.parent.content.size===0&&l.node(-1).childCount===l.indexAfter(-1)){if(l.depth===2||l.node(-3).type!==a||l.index(-2)!==l.node(-2).childCount-1)return!1;if(s){let v=R.empty;const w=l.index(-1)?1:l.index(-2)?2:3;for(let _=l.depth-w;_>=l.depth-3;_-=1)v=R.from(l.node(_).copy(v));const x=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,k={...bd(f,l.node().type.name,l.node().attrs),...e},S=((o=a.contentMatch.defaultType)==null?void 0:o.createAndFill(k))||void 0;v=v.append(R.from(a.createAndFill(null,S)||void 0));const C=l.before(l.depth-(w-1));n.replace(C,l.after(-x),new H(v,4-w,0));let E=-1;n.doc.nodesBetween(C,n.doc.content.size,(_,A)=>{if(E>-1)return!1;_.isTextblock&&_.content.size===0&&(E=A+1)}),E>-1&&n.setSelection(ne.near(n.doc.resolve(E))),n.scrollIntoView()}return!0}const h=c.pos===l.end()?d.contentMatchAt(0).defaultType:null,m={...bd(f,d.type.name,d.attrs),...e},g={...bd(f,l.node().type.name,l.node().attrs),...e};n.delete(l.pos,c.pos);const y=h?[{type:a,attrs:m},{type:h,attrs:g}]:[{type:a,attrs:m}];if(!ha(n.doc,l.pos,2))return!1;if(s){const{selection:v,storedMarks:w}=r,{splittableMarks:x}=i.extensionManager,k=w||v.$to.parentOffset&&v.$from.marks();if(n.split(l.pos,2,y).scrollIntoView(),!k||!s)return!0;const S=k.filter(C=>x.includes(C.type.name));n.ensureMarks(S)}return!0},bm=(t,e)=>{const n=Qh(o=>o.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const s=t.doc.nodeAt(r);return n.node.type===(s==null?void 0:s.type)&&mi(t.doc,n.pos)&&t.join(n.pos),!0},km=(t,e)=>{const n=Qh(o=>o.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const s=t.doc.nodeAt(r);return n.node.type===(s==null?void 0:s.type)&&mi(t.doc,r)&&t.join(r),!0},MH=(t,e,n,r={})=>({editor:s,tr:i,state:o,dispatch:a,chain:l,commands:c,can:u})=>{const{extensions:d,splittableMarks:f}=s.extensionManager,h=ct(t,o.schema),m=ct(e,o.schema),{selection:g,storedMarks:y}=o,{$from:v,$to:w}=g,x=v.blockRange(w),k=y||g.$to.parentOffset&&g.$from.marks();if(!x)return!1;const S=Qh(C=>Q1(C.type.name,d))(g);if(x.depth>=1&&S&&x.depth-S.depth<=1){if(S.node.type===h)return c.liftListItem(m);if(Q1(S.node.type.name,d)&&h.validContent(S.node.content)&&a)return l().command(()=>(i.setNodeMarkup(S.pos,h),!0)).command(()=>bm(i,h)).command(()=>km(i,h)).run()}return!n||!k||!a?l().command(()=>u().wrapInList(h,r)?!0:c.clearNodes()).wrapInList(h,r).command(()=>bm(i,h)).command(()=>km(i,h)).run():l().command(()=>{const C=u().wrapInList(h,r),E=k.filter(_=>f.includes(_.type.name));return i.ensureMarks(E),C?!0:c.clearNodes()}).wrapInList(h,r).command(()=>bm(i,h)).command(()=>km(i,h)).run()},jH=(t,e={},n={})=>({state:r,commands:s})=>{const{extendEmptyMarkRange:i=!1}=n,o=Zr(t,r.schema);return Cy(r,o,e)?s.unsetMark(o,{extendEmptyMarkRange:i}):s.setMark(o,e)},IH=(t,e,n={})=>({state:r,commands:s})=>{const i=ct(t,r.schema),o=ct(e,r.schema),a=oi(r,i,n);let l;return r.selection.$anchor.sameParent(r.selection.$head)&&(l=r.selection.$anchor.parent.attrs),a?s.setNode(o,l):s.setNode(i,{...l,...n})},DH=(t,e={})=>({state:n,commands:r})=>{const s=ct(t,n.schema);return oi(n,s,e)?r.lift(s):r.wrapIn(s,e)},LH=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let r=0;r<n.length;r+=1){const s=n[r];let i;if(s.spec.isInputRules&&(i=s.getState(t))){if(e){const o=t.tr,a=i.transform;for(let l=a.steps.length-1;l>=0;l-=1)o.step(a.steps[l].invert(a.docs[l]));if(i.text){const l=o.doc.resolve(i.from).marks();o.replaceWith(i.from,i.to,t.schema.text(i.text,l))}else o.delete(i.from,i.to)}return!0}}return!1},$H=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:r,ranges:s}=n;return r||e&&s.forEach(i=>{t.removeMark(i.$from.pos,i.$to.pos)}),!0},FH=(t,e={})=>({tr:n,state:r,dispatch:s})=>{var i;const{extendEmptyMarkRange:o=!1}=e,{selection:a}=n,l=Zr(t,r.schema),{$from:c,empty:u,ranges:d}=a;if(!s)return!0;if(u&&o){let{from:f,to:h}=a;const m=(i=c.marks().find(y=>y.type===l))==null?void 0:i.attrs,g=$0(c,l,m);g&&(f=g.from,h=g.to),n.removeMark(f,h,l)}else d.forEach(f=>{n.removeMark(f.$from.pos,f.$to.pos,l)});return n.removeStoredMark(l),!0},zH=(t,e={})=>({tr:n,state:r,dispatch:s})=>{let i=null,o=null;const a=Yh(typeof t=="string"?t:t.name,r.schema);return a?(a==="node"&&(i=ct(t,r.schema)),a==="mark"&&(o=Zr(t,r.schema)),s&&n.selection.ranges.forEach(l=>{const c=l.$from.pos,u=l.$to.pos;let d,f,h,m;n.selection.empty?r.doc.nodesBetween(c,u,(g,y)=>{i&&i===g.type&&(h=Math.max(y,c),m=Math.min(y+g.nodeSize,u),d=y,f=g)}):r.doc.nodesBetween(c,u,(g,y)=>{y<c&&i&&i===g.type&&(h=Math.max(y,c),m=Math.min(y+g.nodeSize,u),d=y,f=g),y>=c&&y<=u&&(i&&i===g.type&&n.setNodeMarkup(y,void 0,{...g.attrs,...e}),o&&g.marks.length&&g.marks.forEach(v=>{if(o===v.type){const w=Math.max(y,c),x=Math.min(y+g.nodeSize,u);n.addMark(w,x,o.create({...v.attrs,...e}))}}))}),f&&(d!==void 0&&n.setNodeMarkup(d,void 0,{...f.attrs,...e}),o&&f.marks.length&&f.marks.forEach(g=>{o===g.type&&n.addMark(h,m,o.create({...g.attrs,...e}))}))}),!0):!1},BH=(t,e={})=>({state:n,dispatch:r})=>{const s=ct(t,n.schema);return XV(s,e)(n,r)},UH=(t,e={})=>({state:n,dispatch:r})=>{const s=ct(t,n.schema);return e6(s,e)(n,r)},sO=ut.create({name:"commands",addCommands(){return{...nO}}}),iO=ut.create({name:"delete",onUpdate({transaction:t,appendedTransactions:e}){var n,r,s;const i=()=>{var o,a,l,c;if((c=(l=(a=(o=this.editor.options.coreExtensionOptions)==null?void 0:o.delete)==null?void 0:a.filterTransaction)==null?void 0:l.call(a,t))!=null?c:t.getMeta("y-sync$"))return;const u=LA(t.before,[t,...e]);KA(u).forEach(h=>{u.mapping.mapResult(h.oldRange.from).deletedAfter&&u.mapping.mapResult(h.oldRange.to).deletedBefore&&u.before.nodesBetween(h.oldRange.from,h.oldRange.to,(m,g)=>{const y=g+m.nodeSize-2,v=h.oldRange.from<=g&&y<=h.oldRange.to;this.editor.emit("delete",{type:"node",node:m,from:g,to:y,newFrom:u.mapping.map(g),newTo:u.mapping.map(y),deletedRange:h.oldRange,newRange:h.newRange,partial:!v,editor:this.editor,transaction:t,combinedTransform:u})})});const f=u.mapping;u.steps.forEach((h,m)=>{var g,y;if(h instanceof Yn){const v=f.slice(m).map(h.from,-1),w=f.slice(m).map(h.to),x=f.invert().map(v,-1),k=f.invert().map(w),S=(g=u.doc.nodeAt(v-1))==null?void 0:g.marks.some(E=>E.eq(h.mark)),C=(y=u.doc.nodeAt(w))==null?void 0:y.marks.some(E=>E.eq(h.mark));this.editor.emit("delete",{type:"mark",mark:h.mark,from:h.from,to:h.to,deletedRange:{from:x,to:k},newRange:{from:v,to:w},partial:!!(C||S),editor:this.editor,transaction:t,combinedTransform:u})}})};(s=(r=(n=this.editor.options.coreExtensionOptions)==null?void 0:n.delete)==null?void 0:r.async)==null||s?setTimeout(i,0):i()}}),oO=ut.create({name:"drop",addProseMirrorPlugins(){return[new st({key:new xt("tiptapDrop"),props:{handleDrop:(t,e,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:n,moved:r})}}})]}}),aO=ut.create({name:"editable",addProseMirrorPlugins(){return[new st({key:new xt("editable"),props:{editable:()=>this.editor.options.editable}})]}}),lO=new xt("focusEvents"),cO=ut.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new st({key:lO,props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const r=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,n)=>{t.isFocused=!1;const r=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),uO=ut.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:o})=>[()=>o.undoInputRule(),()=>o.command(({tr:a})=>{const{selection:l,doc:c}=a,{empty:u,$anchor:d}=l,{pos:f,parent:h}=d,m=d.parent.isTextblock&&f>0?a.doc.resolve(f-1):d,g=m.parent.type.spec.isolating,y=d.pos-d.parentOffset,v=g&&m.parent.childCount===1?y===d.pos:me.atStart(c).from===f;return!u||!h.type.isTextblock||h.textContent.length||!v||v&&d.parent.type.name==="paragraph"?!1:o.clearNodes()}),()=>o.deleteSelection(),()=>o.joinBackward(),()=>o.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:o})=>[()=>o.deleteSelection(),()=>o.deleteCurrentNode(),()=>o.joinForward(),()=>o.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:o})=>[()=>o.newlineInCode(),()=>o.createParagraphNear(),()=>o.liftEmptyBlock(),()=>o.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},s={...r},i={...r,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return B0()||rO()?i:s},addProseMirrorPlugins(){return[new st({key:new xt("clearDocument"),appendTransaction:(t,e,n)=>{if(t.some(g=>g.getMeta("composition")))return;const r=t.some(g=>g.docChanged)&&!e.doc.eq(n.doc),s=t.some(g=>g.getMeta("preventClearDocument"));if(!r||s)return;const{empty:i,from:o,to:a}=e.selection,l=me.atStart(e.doc).from,c=me.atEnd(e.doc).to;if(i||!(o===l&&a===c)||!Zh(n.doc))return;const f=n.tr,h=Gh({state:n,transaction:f}),{commands:m}=new Jh({editor:this.editor,state:h});if(m.clearNodes(),!!f.steps.length)return f}})]}}),dO=ut.create({name:"paste",addProseMirrorPlugins(){return[new st({key:new xt("tiptapPaste"),props:{handlePaste:(t,e,n)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:n})}}})]}}),fO=ut.create({name:"tabindex",addProseMirrorPlugins(){return[new st({key:new xt("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),VH=class Bo{constructor(e,n,r=!1,s=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=e,this.editor=n,this.currentNode=s}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!=null?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let n=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:n,to:r},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(e);return new Bo(n,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new Bo(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new Bo(e,this.editor)}get children(){const e=[];return this.node.content.forEach((n,r)=>{const s=n.isBlock&&!n.isTextblock,i=n.isAtom&&!n.isText,o=this.pos+r+(i?0:1);if(o<0||o>this.resolvedPos.doc.nodeSize-2)return;const a=this.resolvedPos.doc.resolve(o);if(!s&&a.depth<=this.depth)return;const l=new Bo(a,this.editor,s,s?n:null);s&&(l.actualDepth=this.depth+1),e.push(new Bo(a,this.editor,s,s?n:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,n={}){let r=null,s=this.parent;for(;s&&!r;){if(s.node.type.name===e)if(Object.keys(n).length>0){const i=s.node.attrs,o=Object.keys(n);for(let a=0;a<o.length;a+=1){const l=o[a];if(i[l]!==n[l])break}}else r=s;s=s.parent}return r}querySelector(e,n={}){return this.querySelectorAll(e,n,!0)[0]||null}querySelectorAll(e,n={},r=!1){let s=[];if(!this.children||this.children.length===0)return s;const i=Object.keys(n);return this.children.forEach(o=>{r&&s.length>0||(o.node.type.name===e&&i.every(l=>n[l]===o.node.attrs[l])&&s.push(o),!(r&&s.length>0)&&(s=s.concat(o.querySelectorAll(e,n,r))))}),s}setAttribute(e){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(n)}},HH=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function WH(t,e,n){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const s=document.createElement("style");return e&&s.setAttribute("nonce",e),s.setAttribute("data-tiptap-style",""),s.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(s),s}var KH=class extends l6{constructor(t={}){super(),this.css=null,this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:r})=>{throw r},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(t),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:r,slice:s,moved:i})=>this.options.onDrop(r,s,i)),this.on("paste",({event:r,slice:s})=>this.options.onPaste(r,s)),this.on("delete",this.options.onDelete);const e=this.createDoc(),n=QA(e,this.options.autofocus);this.editorState=ta.create({doc:e,schema:this.schema,selection:n||void 0}),this.options.element&&this.mount(this.options.element)}mount(t){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(t),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const t=this.editorView.dom;t!=null&&t.editor&&delete t.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(t){console.warn("Failed to remove CSS element:",t)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=WH(HH,this.options.injectNonce))}setOptions(t={}){this.options={...this.options,...t},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(t,e=!0){this.setOptions({editable:t}),e&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:t=>{this.editorState=t},dispatch:t=>{this.dispatchTransaction(t)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(t,e)=>{if(this.editorView)return this.editorView[e];if(e==="state")return this.editorState;if(e in t)return Reflect.get(t,e);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${e}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(t,e){const n=FA(e)?e(t,[...this.state.plugins]):[...this.state.plugins,t],r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}unregisterPlugin(t){if(this.isDestroyed)return;const e=this.state.plugins;let n=e;if([].concat(t).forEach(s=>{const i=typeof s=="string"?`${s}$`:s.key;n=n.filter(o=>!o.key.startsWith(i))}),e.length===n.length)return;const r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}createExtensionManager(){var t,e;const r=[...this.options.enableCoreExtensions?[aO,tO.configure({blockSeparator:(e=(t=this.options.coreExtensionOptions)==null?void 0:t.clipboardTextSerializer)==null?void 0:e.blockSeparator}),sO,cO,uO,fO,oO,dO,iO].filter(s=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[s.name]!==!1:!0):[],...this.options.extensions].filter(s=>["extension","node","mark"].includes(s==null?void 0:s.type));this.extensionManager=new ep(r,this)}createCommandManager(){this.commandManager=new Jh({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let t;try{t=Ey(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(e){if(!(e instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(e.message))throw e;this.emit("contentError",{editor:this,error:e,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(n=>n.name!=="collaboration"),this.createExtensionManager()}}),t=Ey(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return t}createView(t){var e;this.editorView=new NA(t,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)==null?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews});const n=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(n),this.prependClass(),this.injectCSS();const r=this.view.dom;r.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(t){this.isCapturingTransaction=!0,t(),this.isCapturingTransaction=!1;const e=this.capturedTransaction;return this.capturedTransaction=null,e}dispatchTransaction(t){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=t;return}t.steps.forEach(c=>{var u;return(u=this.capturedTransaction)==null?void 0:u.step(c)});return}const{state:e,transactions:n}=this.state.applyTransaction(t),r=!this.state.selection.eq(e.selection),s=n.includes(t),i=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:t,nextState:e}),!s)return;this.view.updateState(e),this.emit("transaction",{editor:this,transaction:t,appendedTransactions:n.slice(1)}),r&&this.emit("selectionUpdate",{editor:this,transaction:t});const o=n.findLast(c=>c.getMeta("focus")||c.getMeta("blur")),a=o==null?void 0:o.getMeta("focus"),l=o==null?void 0:o.getMeta("blur");a&&this.emit("focus",{editor:this,event:a.event,transaction:o}),l&&this.emit("blur",{editor:this,event:l.event,transaction:o}),!(t.getMeta("preventUpdate")||!n.some(c=>c.docChanged)||i.doc.eq(e.doc))&&this.emit("update",{editor:this,transaction:t,appendedTransactions:n.slice(1)})}getAttributes(t){return WA(this.state,t)}isActive(t,e){const n=typeof t=="string"?t:null,r=typeof t=="string"?e:t;return k6(this.state,n,r)}getJSON(){return this.state.doc.toJSON()}getHTML(){return I0(this.state.doc.content,this.schema)}getText(t){const{blockSeparator:e=`

`,textSerializers:n={}}=t||{};return g6(this.state.doc,{blockSeparator:e,textSerializers:{...VA(this.schema),...n}})}get isEmpty(){return Zh(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var t,e;return(e=(t=this.editorView)==null?void 0:t.isDestroyed)!=null?e:!0}$node(t,e){var n;return((n=this.$doc)==null?void 0:n.querySelector(t,e))||null}$nodes(t,e){var n;return((n=this.$doc)==null?void 0:n.querySelectorAll(t,e))||null}$pos(t){const e=this.state.doc.resolve(t);return new VH(e,this)}get $doc(){return this.$pos(0)}};function Ga(t){return new Xh({find:t.find,handler:({state:e,range:n,match:r})=>{const s=Ae(t.getAttributes,void 0,r);if(s===!1||s===null)return null;const{tr:i}=e,o=r[r.length-1],a=r[0];if(o){const l=a.search(/\S/),c=n.from+a.indexOf(o),u=c+o.length;if(F0(n.from,n.to,e.doc).filter(h=>h.mark.type.excluded.find(g=>g===t.type&&g!==h.mark.type)).filter(h=>h.to>c).length)return null;u<n.to&&i.delete(u,n.to),c>n.from&&i.delete(n.from+l,c);const f=n.from+l+o.length;i.addMark(n.from+l,f,t.type.create(s||{})),i.removeStoredMark(t.type)}},undoable:t.undoable})}function hO(t){return new Xh({find:t.find,handler:({state:e,range:n,match:r})=>{const s=Ae(t.getAttributes,void 0,r)||{},{tr:i}=e,o=n.from;let a=n.to;const l=t.type.create(s);if(r[1]){const c=r[0].lastIndexOf(r[1]);let u=o+c;u>a?u=a:a=u+r[1].length;const d=r[0][r[0].length-1];i.insertText(d,o+r[0].length-1),i.replaceWith(u,a,l)}else if(r[0]){const c=t.type.isInline?o:o-1;i.insert(c,t.type.create(s)).delete(i.mapping.map(o),i.mapping.map(a))}i.scrollIntoView()},undoable:t.undoable})}function _y(t){return new Xh({find:t.find,handler:({state:e,range:n,match:r})=>{const s=e.doc.resolve(n.from),i=Ae(t.getAttributes,void 0,r)||{};if(!s.node(-1).canReplaceWith(s.index(-1),s.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,i)},undoable:t.undoable})}function Ja(t){return new Xh({find:t.find,handler:({state:e,range:n,match:r,chain:s})=>{const i=Ae(t.getAttributes,void 0,r)||{},o=e.tr.delete(n.from,n.to),l=o.doc.resolve(n.from).blockRange(),c=l&&b0(l,t.type,i);if(!c)return null;if(o.wrap(l,c),t.keepMarks&&t.editor){const{selection:d,storedMarks:f}=e,{splittableMarks:h}=t.editor.extensionManager,m=f||d.$to.parentOffset&&d.$from.marks();if(m){const g=m.filter(y=>h.includes(y.type.name));o.ensureMarks(g)}}if(t.keepAttributes){const d=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";s().updateAttributes(d,i).run()}const u=o.doc.resolve(n.from-1).nodeBefore;u&&u.type===t.type&&mi(o.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(r,u))&&o.join(n.from-1)},undoable:t.undoable})}function qH(t,e){const{selection:n}=t,{$from:r}=n;if(n instanceof X){const i=r.index();return r.parent.canReplaceWith(i,i+1,e)}let s=r.depth;for(;s>=0;){const i=r.index(s);if(r.node(s).contentMatchAt(i).matchType(e))return!0;s-=1}return!1}function GH(t,e,n={}){const{state:r}=e,{doc:s,tr:i}=r,o=t;s.descendants((a,l)=>{const c=i.mapping.map(l),u=i.mapping.map(l)+a.nodeSize;let d=null;if(a.marks.forEach(h=>{if(h!==o)return!1;d=h}),!d)return;let f=!1;if(Object.keys(n).forEach(h=>{n[h]!==d.attrs[h]&&(f=!0)}),f){const h=t.type.create({...t.attrs,...n});i.removeMark(c,u,t.type),i.addMark(c,u,h)}}),i.docChanged&&e.view.dispatch(i)}var $t=class pO extends z0{constructor(){super(...arguments),this.type="node"}static create(e={}){const n=typeof e=="function"?e():e;return new pO(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}};function uo(t){return new XA({find:t.find,handler:({state:e,range:n,match:r,pasteEvent:s})=>{const i=Ae(t.getAttributes,void 0,r,s);if(i===!1||i===null)return null;const{tr:o}=e,a=r[r.length-1],l=r[0];let c=n.to;if(a){const u=l.search(/\S/),d=n.from+l.indexOf(a),f=d+a.length;if(F0(n.from,n.to,e.doc).filter(m=>m.mark.type.excluded.find(y=>y===t.type&&y!==m.mark.type)).filter(m=>m.to>d).length)return null;f<n.to&&o.delete(f,n.to),d>n.from&&o.delete(n.from+u,d),c=n.from+u+a.length,o.addMark(n.from+u,c,t.type.create(i||{})),o.removeStoredMark(t.type)}}})}function JH(t){return new XA({find:t.find,handler({match:e,chain:n,range:r,pasteEvent:s}){const i=Ae(t.getAttributes,void 0,e,s),o=Ae(t.getContent,void 0,i);if(i===!1||i===null)return null;const a={type:t.type.name,attrs:i};o&&(a.content=o),e.input&&n().deleteRange(r).insertContentAt(r.from,a)}})}var QH=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,s,i;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(s=r;s--!==0;)if(!t(e[s],n[s]))return!1;return!0}if(e instanceof Map&&n instanceof Map){if(e.size!==n.size)return!1;for(s of e.entries())if(!n.has(s[0]))return!1;for(s of e.entries())if(!t(s[1],n.get(s[0])))return!1;return!0}if(e instanceof Set&&n instanceof Set){if(e.size!==n.size)return!1;for(s of e.entries())if(!n.has(s[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(n)){if(r=e.length,r!=n.length)return!1;for(s=r;s--!==0;)if(e[s]!==n[s])return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(i=Object.keys(e),r=i.length,r!==Object.keys(n).length)return!1;for(s=r;s--!==0;)if(!Object.prototype.hasOwnProperty.call(n,i[s]))return!1;for(s=r;s--!==0;){var o=i[s];if(!(o==="_owner"&&e.$$typeof)&&!t(e[o],n[o]))return!1}return!0}return e!==e&&n!==n};const YH=Fy(QH);var mO={exports:{}},gO={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tp=b,ZH=v0;function XH(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var eW=typeof Object.is=="function"?Object.is:XH,tW=ZH.useSyncExternalStore,nW=tp.useRef,rW=tp.useEffect,sW=tp.useMemo,iW=tp.useDebugValue;gO.useSyncExternalStoreWithSelector=function(t,e,n,r,s){var i=nW(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=sW(function(){function l(h){if(!c){if(c=!0,u=h,h=r(h),s!==void 0&&o.hasValue){var m=o.value;if(s(m,h))return d=m}return d=h}if(m=d,eW(u,h))return m;var g=r(h);return s!==void 0&&s(m,g)?(u=h,m):(u=h,d=g)}var c=!1,u,d,f=n===void 0?null:n;return[function(){return l(e())},f===null?void 0:function(){return l(f())}]},[e,n,r,s]);var a=tW(t,i[0],i[1]);return rW(function(){o.hasValue=!0,o.value=a},[a]),iW(a),a};mO.exports=gO;var oW=mO.exports,aW=(...t)=>e=>{t.forEach(n=>{typeof n=="function"?n(e):n&&(n.current=e)})},lW=({contentComponent:t})=>{const e=v0.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getServerSnapshot);return p.jsx(p.Fragment,{children:Object.values(e)})};function cW(){const t=new Set;let e={};return{subscribe(n){return t.add(n),()=>{t.delete(n)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(n,r){e={...e,[n]:Iv.createPortal(r.reactElement,r.element,n)},t.forEach(s=>s())},removeRenderer(n){const r={...e};delete r[n],e=r,t.forEach(s=>s())}}}var uW=class extends L.Component{constructor(t){var e;super(t),this.editorContentRef=L.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!((e=t.editor)!=null&&e.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const t=this.props.editor;if(t&&!t.isDestroyed&&t.options.element){if(t.contentComponent)return;const e=this.editorContentRef.current;e.append(t.view.dom),t.setOptions({element:e}),t.contentComponent=cW(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=t.contentComponent.subscribe(()=>{this.setState(n=>n.hasContentComponentInitialized?n:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),t.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var t;const e=this.props.editor;if(e){this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null;try{if(!((t=e.view.dom)!=null&&t.firstChild))return;const n=document.createElement("div");n.append(e.view.dom),e.setOptions({element:n})}catch{}}}render(){const{editor:t,innerRef:e,...n}=this.props;return p.jsxs(p.Fragment,{children:[p.jsx("div",{ref:aW(e,this.editorContentRef),...n}),(t==null?void 0:t.contentComponent)&&p.jsx(lW,{contentComponent:t.contentComponent})]})}},dW=b.forwardRef((t,e)=>{const n=L.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return L.createElement(uW,{key:n,innerRef:e,...t})}),fW=L.memo(dW),hW=typeof window<"u"?b.useLayoutEffect:b.useEffect,pW=class{constructor(t){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=t,this.lastSnapshot={editor:t,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(t){return this.subscribers.add(t),()=>{this.subscribers.delete(t)}}watch(t){if(this.editor=t,this.editor){const e=()=>{this.transactionNumber+=1,this.subscribers.forEach(r=>r())},n=this.editor;return n.on("transaction",e),()=>{n.off("transaction",e)}}}};function mW(t){var e;const[n]=b.useState(()=>new pW(t.editor)),r=oW.useSyncExternalStoreWithSelector(n.subscribe,n.getSnapshot,n.getServerSnapshot,t.selector,(e=t.equalityFn)!=null?e:YH);return hW(()=>n.watch(t.editor),[t.editor,n]),b.useDebugValue(r),r}var gW=!1,Ty=typeof window>"u",yW=Ty||!!(typeof window<"u"&&window.next),vW=class yO{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(n=>n())}getInitialEditor(){if(this.options.current.immediatelyRender===void 0)return Ty||yW?null:this.createEditor();if(this.options.current.immediatelyRender&&Ty&&gW)throw new Error("Tiptap Error: SSR has been detected, and `immediatelyRender` has been set to `true` this is an unsupported configuration that may result in errors, explicitly set `immediatelyRender` to `false` to avoid hydration mismatches.");return this.options.current.immediatelyRender?this.createEditor():null}createEditor(){const e={...this.options.current,onBeforeCreate:(...r)=>{var s,i;return(i=(s=this.options.current).onBeforeCreate)==null?void 0:i.call(s,...r)},onBlur:(...r)=>{var s,i;return(i=(s=this.options.current).onBlur)==null?void 0:i.call(s,...r)},onCreate:(...r)=>{var s,i;return(i=(s=this.options.current).onCreate)==null?void 0:i.call(s,...r)},onDestroy:(...r)=>{var s,i;return(i=(s=this.options.current).onDestroy)==null?void 0:i.call(s,...r)},onFocus:(...r)=>{var s,i;return(i=(s=this.options.current).onFocus)==null?void 0:i.call(s,...r)},onSelectionUpdate:(...r)=>{var s,i;return(i=(s=this.options.current).onSelectionUpdate)==null?void 0:i.call(s,...r)},onTransaction:(...r)=>{var s,i;return(i=(s=this.options.current).onTransaction)==null?void 0:i.call(s,...r)},onUpdate:(...r)=>{var s,i;return(i=(s=this.options.current).onUpdate)==null?void 0:i.call(s,...r)},onContentError:(...r)=>{var s,i;return(i=(s=this.options.current).onContentError)==null?void 0:i.call(s,...r)},onDrop:(...r)=>{var s,i;return(i=(s=this.options.current).onDrop)==null?void 0:i.call(s,...r)},onPaste:(...r)=>{var s,i;return(i=(s=this.options.current).onPaste)==null?void 0:i.call(s,...r)},onDelete:(...r)=>{var s,i;return(i=(s=this.options.current).onDelete)==null?void 0:i.call(s,...r)}};return new KH(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,n){return Object.keys(e).every(r=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(r)?!0:r==="extensions"&&e.extensions&&n.extensions?e.extensions.length!==n.extensions.length?!1:e.extensions.every((s,i)=>{var o;return s===((o=n.extensions)==null?void 0:o[i])}):e[r]===n[r])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?yO.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((r,s)=>r===e[s]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,n=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){n&&n.setOptions(this.options.current);return}n&&!n.isDestroyed&&(n.destroy(),this.instanceId===e&&this.setEditor(null))},1)}};function wW(t={},e=[]){const n=b.useRef(t);n.current=t;const[r]=b.useState(()=>new vW(n)),s=v0.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return b.useDebugValue(s),b.useEffect(r.onRender(e)),mW({editor:s,selector:({transactionNumber:i})=>t.shouldRerenderOnTransaction===!1||t.shouldRerenderOnTransaction===void 0?null:t.immediatelyRender&&i===0?0:i+1}),s}var xW=b.createContext({editor:null});xW.Consumer;var bW=b.createContext({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),kW=()=>b.useContext(bW);L.forwardRef((t,e)=>{const{onDragStart:n}=kW(),r=t.as||"div";return p.jsx(r,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...t.style}})});L.createContext({markViewContentRef:()=>{}});var Ef=(t,e)=>{if(t==="slot")return 0;if(t instanceof Function)return t(e);const{children:n,...r}=e??{};if(t==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[t,r,n]},SW=/^\s*>\s$/,EW=$t.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return Ef("blockquote",{...rt(this.options.HTMLAttributes,t),children:Ef("slot",{})})},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[Ja({find:SW,type:this.type})]}}),CW=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,_W=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,TW=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,NW=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,AW=xo.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return Ef("strong",{...rt(this.options.HTMLAttributes,t),children:Ef("slot",{})})},addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Ga({find:CW,type:this.type}),Ga({find:TW,type:this.type})]},addPasteRules(){return[uo({find:_W,type:this.type}),uo({find:NW,type:this.type})]}}),OW=/(^|[^`])`([^`]+)`(?!`)$/,PW=/(^|[^`])`([^`]+)`(?!`)/g,RW=xo.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",rt(this.options.HTMLAttributes,t),0]},addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[Ga({find:OW,type:this.type})]},addPasteRules(){return[uo({find:PW,type:this.type})]}}),Sm=4,MW=/^```([a-z]+)?[\s\n]$/,jW=/^~~~([a-z]+)?[\s\n]$/,IW=$t.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:Sm,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options;if(!n)return null;const i=[...((e=t.firstElementChild)==null?void 0:e.classList)||[]].filter(o=>o.startsWith(n)).map(o=>o.replace(n,""))[0];return i||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",rt(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=e.pos===1;return!t||e.parent.type.name!==this.name?!1:n||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Tab:({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const n=(e=this.options.tabSize)!=null?e:Sm,{state:r}=t,{selection:s}=r,{$from:i,empty:o}=s;if(i.parent.type!==this.type)return!1;const a=" ".repeat(n);return o?t.commands.insertContent(a):t.commands.command(({tr:l})=>{const{from:c,to:u}=s,h=r.doc.textBetween(c,u,`
`,`
`).split(`
`).map(m=>a+m).join(`
`);return l.replaceWith(c,u,r.schema.text(h)),!0})},"Shift-Tab":({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const n=(e=this.options.tabSize)!=null?e:Sm,{state:r}=t,{selection:s}=r,{$from:i,empty:o}=s;return i.parent.type!==this.type?!1:o?t.commands.command(({tr:a})=>{var l;const{pos:c}=i,u=i.start(),d=i.end(),h=r.doc.textBetween(u,d,`
`,`
`).split(`
`);let m=0,g=0;const y=c-u;for(let C=0;C<h.length;C+=1){if(g+h[C].length>=y){m=C;break}g+=h[C].length+1}const w=((l=h[m].match(/^ */))==null?void 0:l[0])||"",x=Math.min(w.length,n);if(x===0)return!0;let k=u;for(let C=0;C<m;C+=1)k+=h[C].length+1;return a.delete(k,k+x),c-k<=x&&a.setSelection(ne.create(a.doc,k)),!0}):t.commands.command(({tr:a})=>{const{from:l,to:c}=s,f=r.doc.textBetween(l,c,`
`,`
`).split(`
`).map(h=>{var m;const g=((m=h.match(/^ */))==null?void 0:m[0])||"",y=Math.min(g.length,n);return h.slice(y)}).join(`
`);return a.replaceWith(l,c,r.schema.text(f)),!0})},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:r,empty:s}=n;if(!s||r.parent.type!==this.type)return!1;const i=r.parentOffset===r.parent.nodeSize-2,o=r.parent.textContent.endsWith(`

`);return!i||!o?!1:t.chain().command(({tr:a})=>(a.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:r}=e,{$from:s,empty:i}=n;if(!i||s.parent.type!==this.type||!(s.parentOffset===s.parent.nodeSize-2))return!1;const a=s.after();return a===void 0?!1:r.nodeAt(a)?t.commands.command(({tr:c})=>(c.setSelection(me.near(r.resolve(a))),!0)):t.commands.exitCode()}}},addInputRules(){return[_y({find:MW,type:this.type,getAttributes:t=>({language:t[1]})}),_y({find:jW,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new st({key:new xt("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),s=r?JSON.parse(r):void 0,i=s==null?void 0:s.mode;if(!n||!i)return!1;const{tr:o,schema:a}=t.state,l=a.text(n.replace(/\r\n?/g,`
`));return o.replaceSelectionWith(this.type.create({language:i},l)),o.selection.$from.parent.type!==this.type&&o.setSelection(ne.near(o.doc.resolve(Math.max(0,o.selection.from-2)))),o.setMeta("paste",!0),t.dispatch(o),!0}}})]}}),DW=$t.create({name:"doc",topNode:!0,content:"block+"}),LW=$t.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",rt(this.options.HTMLAttributes,t)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:r})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:s,storedMarks:i}=n;if(s.$from.parent.type.spec.isolating)return!1;const{keepMarks:o}=this.options,{splittableMarks:a}=r.extensionManager,l=i||s.$to.parentOffset&&s.$from.marks();return e().insertContent({type:this.name}).command(({tr:c,dispatch:u})=>{if(u&&l&&o){const d=l.filter(f=>a.includes(f.type.name));c.ensureMarks(d)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),$W=$t.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,rt(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>_y({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}}),FW=$t.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{},nextNodeType:"paragraph"}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",rt(this.options.HTMLAttributes,t)]},addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{if(!qH(e,e.schema.nodes[this.name]))return!1;const{selection:n}=e,{$to:r}=n,s=t();return GA(n)?s.insertContentAt(r.pos,{type:this.name}):s.insertContent({type:this.name}),s.command(({state:i,tr:o,dispatch:a})=>{if(a){const{$to:l}=o.selection,c=l.end();if(l.nodeAfter)l.nodeAfter.isTextblock?o.setSelection(ne.create(o.doc,l.pos+1)):l.nodeAfter.isBlock?o.setSelection(X.create(o.doc,l.pos)):o.setSelection(ne.create(o.doc,l.pos));else{const u=i.schema.nodes[this.options.nextNodeType]||l.parent.type.contentMatch.defaultType,d=u==null?void 0:u.create();d&&(o.insert(c,d),o.setSelection(ne.create(o.doc,c+1)))}o.scrollIntoView()}return!0}).run()}}},addInputRules(){return[hO({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),zW=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,BW=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,UW=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,VW=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,HW=xo.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",rt(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Ga({find:zW,type:this.type}),Ga({find:UW,type:this.type})]},addPasteRules(){return[uo({find:BW,type:this.type}),uo({find:VW,type:this.type})]}});const WW="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",KW="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",Ny="numeric",Ay="ascii",Oy="alpha",Yl="asciinumeric",Ml="alphanumeric",Py="domain",vO="emoji",qW="scheme",GW="slashscheme",Em="whitespace";function JW(t,e){return t in e||(e[t]=[]),e[t]}function Di(t,e,n){e[Ny]&&(e[Yl]=!0,e[Ml]=!0),e[Ay]&&(e[Yl]=!0,e[Oy]=!0),e[Yl]&&(e[Ml]=!0),e[Oy]&&(e[Ml]=!0),e[Ml]&&(e[Py]=!0),e[vO]&&(e[Py]=!0);for(const r in e){const s=JW(r,n);s.indexOf(t)<0&&s.push(t)}}function QW(t,e){const n={};for(const r in e)e[r].indexOf(t)>=0&&(n[r]=!0);return n}function Xt(t=null){this.j={},this.jr=[],this.jd=null,this.t=t}Xt.groups={};Xt.prototype={accepts(){return!!this.t},go(t){const e=this,n=e.j[t];if(n)return n;for(let r=0;r<e.jr.length;r++){const s=e.jr[r][0],i=e.jr[r][1];if(i&&s.test(t))return i}return e.jd},has(t,e=!1){return e?t in this.j:!!this.go(t)},ta(t,e,n,r){for(let s=0;s<t.length;s++)this.tt(t[s],e,n,r)},tr(t,e,n,r){r=r||Xt.groups;let s;return e&&e.j?s=e:(s=new Xt(e),n&&r&&Di(e,n,r)),this.jr.push([t,s]),s},ts(t,e,n,r){let s=this;const i=t.length;if(!i)return s;for(let o=0;o<i-1;o++)s=s.tt(t[o]);return s.tt(t[i-1],e,n,r)},tt(t,e,n,r){r=r||Xt.groups;const s=this;if(e&&e.j)return s.j[t]=e,e;const i=e;let o,a=s.go(t);if(a?(o=new Xt,Object.assign(o.j,a.j),o.jr.push.apply(o.jr,a.jr),o.jd=a.jd,o.t=a.t):o=new Xt,i){if(r)if(o.t&&typeof o.t=="string"){const l=Object.assign(QW(o.t,r),n);Di(i,l,r)}else n&&Di(i,n,r);o.t=i}return s.j[t]=o,o}};const he=(t,e,n,r,s)=>t.ta(e,n,r,s),Ye=(t,e,n,r,s)=>t.tr(e,n,r,s),X1=(t,e,n,r,s)=>t.ts(e,n,r,s),M=(t,e,n,r,s)=>t.tt(e,n,r,s),Pr="WORD",Ry="UWORD",wO="ASCIINUMERICAL",xO="ALPHANUMERICAL",Uc="LOCALHOST",My="TLD",jy="UTLD",kd="SCHEME",Uo="SLASH_SCHEME",U0="NUM",Iy="WS",V0="NL",Zl="OPENBRACE",Xl="CLOSEBRACE",Cf="OPENBRACKET",_f="CLOSEBRACKET",Tf="OPENPAREN",Nf="CLOSEPAREN",Af="OPENANGLEBRACKET",Of="CLOSEANGLEBRACKET",Pf="FULLWIDTHLEFTPAREN",Rf="FULLWIDTHRIGHTPAREN",Mf="LEFTCORNERBRACKET",jf="RIGHTCORNERBRACKET",If="LEFTWHITECORNERBRACKET",Df="RIGHTWHITECORNERBRACKET",Lf="FULLWIDTHLESSTHAN",$f="FULLWIDTHGREATERTHAN",Ff="AMPERSAND",zf="APOSTROPHE",Bf="ASTERISK",vs="AT",Uf="BACKSLASH",Vf="BACKTICK",Hf="CARET",Es="COLON",H0="COMMA",Wf="DOLLAR",ar="DOT",Kf="EQUALS",W0="EXCLAMATION",wn="HYPHEN",ec="PERCENT",qf="PIPE",Gf="PLUS",Jf="POUND",tc="QUERY",K0="QUOTE",bO="FULLWIDTHMIDDLEDOT",q0="SEMI",lr="SLASH",nc="TILDE",Qf="UNDERSCORE",kO="EMOJI",Yf="SYM";var SO=Object.freeze({__proto__:null,ALPHANUMERICAL:xO,AMPERSAND:Ff,APOSTROPHE:zf,ASCIINUMERICAL:wO,ASTERISK:Bf,AT:vs,BACKSLASH:Uf,BACKTICK:Vf,CARET:Hf,CLOSEANGLEBRACKET:Of,CLOSEBRACE:Xl,CLOSEBRACKET:_f,CLOSEPAREN:Nf,COLON:Es,COMMA:H0,DOLLAR:Wf,DOT:ar,EMOJI:kO,EQUALS:Kf,EXCLAMATION:W0,FULLWIDTHGREATERTHAN:$f,FULLWIDTHLEFTPAREN:Pf,FULLWIDTHLESSTHAN:Lf,FULLWIDTHMIDDLEDOT:bO,FULLWIDTHRIGHTPAREN:Rf,HYPHEN:wn,LEFTCORNERBRACKET:Mf,LEFTWHITECORNERBRACKET:If,LOCALHOST:Uc,NL:V0,NUM:U0,OPENANGLEBRACKET:Af,OPENBRACE:Zl,OPENBRACKET:Cf,OPENPAREN:Tf,PERCENT:ec,PIPE:qf,PLUS:Gf,POUND:Jf,QUERY:tc,QUOTE:K0,RIGHTCORNERBRACKET:jf,RIGHTWHITECORNERBRACKET:Df,SCHEME:kd,SEMI:q0,SLASH:lr,SLASH_SCHEME:Uo,SYM:Yf,TILDE:nc,TLD:My,UNDERSCORE:Qf,UTLD:jy,UWORD:Ry,WORD:Pr,WS:Iy});const Tr=/[a-z]/,kl=new RegExp("\\p{L}","u"),Cm=new RegExp("\\p{Emoji}","u"),Nr=/\d/,_m=/\s/,ek="\r",Tm=`
`,YW="",ZW="",Nm="";let Zu=null,Xu=null;function XW(t=[]){const e={};Xt.groups=e;const n=new Xt;Zu==null&&(Zu=tk(WW)),Xu==null&&(Xu=tk(KW)),M(n,"'",zf),M(n,"{",Zl),M(n,"}",Xl),M(n,"[",Cf),M(n,"]",_f),M(n,"(",Tf),M(n,")",Nf),M(n,"<",Af),M(n,">",Of),M(n,"",Pf),M(n,"",Rf),M(n,"",Mf),M(n,"",jf),M(n,"",If),M(n,"",Df),M(n,"",Lf),M(n,"",$f),M(n,"&",Ff),M(n,"*",Bf),M(n,"@",vs),M(n,"`",Vf),M(n,"^",Hf),M(n,":",Es),M(n,",",H0),M(n,"$",Wf),M(n,".",ar),M(n,"=",Kf),M(n,"!",W0),M(n,"-",wn),M(n,"%",ec),M(n,"|",qf),M(n,"+",Gf),M(n,"#",Jf),M(n,"?",tc),M(n,'"',K0),M(n,"/",lr),M(n,";",q0),M(n,"~",nc),M(n,"_",Qf),M(n,"\\",Uf),M(n,"",bO);const r=Ye(n,Nr,U0,{[Ny]:!0});Ye(r,Nr,r);const s=Ye(r,Tr,wO,{[Yl]:!0}),i=Ye(r,kl,xO,{[Ml]:!0}),o=Ye(n,Tr,Pr,{[Ay]:!0});Ye(o,Nr,s),Ye(o,Tr,o),Ye(s,Nr,s),Ye(s,Tr,s);const a=Ye(n,kl,Ry,{[Oy]:!0});Ye(a,Tr),Ye(a,Nr,i),Ye(a,kl,a),Ye(i,Nr,i),Ye(i,Tr),Ye(i,kl,i);const l=M(n,Tm,V0,{[Em]:!0}),c=M(n,ek,Iy,{[Em]:!0}),u=Ye(n,_m,Iy,{[Em]:!0});M(n,Nm,u),M(c,Tm,l),M(c,Nm,u),Ye(c,_m,u),M(u,ek),M(u,Tm),Ye(u,_m,u),M(u,Nm,u);const d=Ye(n,Cm,kO,{[vO]:!0});M(d,"#"),Ye(d,Cm,d),M(d,YW,d);const f=M(d,ZW);M(f,"#"),Ye(f,Cm,d);const h=[[Tr,o],[Nr,s]],m=[[Tr,null],[kl,a],[Nr,i]];for(let g=0;g<Zu.length;g++)ls(n,Zu[g],My,Pr,h);for(let g=0;g<Xu.length;g++)ls(n,Xu[g],jy,Ry,m);Di(My,{tld:!0,ascii:!0},e),Di(jy,{utld:!0,alpha:!0},e),ls(n,"file",kd,Pr,h),ls(n,"mailto",kd,Pr,h),ls(n,"http",Uo,Pr,h),ls(n,"https",Uo,Pr,h),ls(n,"ftp",Uo,Pr,h),ls(n,"ftps",Uo,Pr,h),Di(kd,{scheme:!0,ascii:!0},e),Di(Uo,{slashscheme:!0,ascii:!0},e),t=t.sort((g,y)=>g[0]>y[0]?1:-1);for(let g=0;g<t.length;g++){const y=t[g][0],w=t[g][1]?{[qW]:!0}:{[GW]:!0};y.indexOf("-")>=0?w[Py]=!0:Tr.test(y)?Nr.test(y)?w[Yl]=!0:w[Ay]=!0:w[Ny]=!0,X1(n,y,y,w)}return X1(n,"localhost",Uc,{ascii:!0}),n.jd=new Xt(Yf),{start:n,tokens:Object.assign({groups:e},SO)}}function EO(t,e){const n=e8(e.replace(/[A-Z]/g,a=>a.toLowerCase())),r=n.length,s=[];let i=0,o=0;for(;o<r;){let a=t,l=null,c=0,u=null,d=-1,f=-1;for(;o<r&&(l=a.go(n[o]));)a=l,a.accepts()?(d=0,f=0,u=a):d>=0&&(d+=n[o].length,f++),c+=n[o].length,i+=n[o].length,o++;i-=d,o-=f,c-=d,s.push({t:u.t,v:e.slice(i-c,i),s:i-c,e:i})}return s}function e8(t){const e=[],n=t.length;let r=0;for(;r<n;){let s=t.charCodeAt(r),i,o=s<55296||s>56319||r+1===n||(i=t.charCodeAt(r+1))<56320||i>57343?t[r]:t.slice(r,r+2);e.push(o),r+=o.length}return e}function ls(t,e,n,r,s){let i;const o=e.length;for(let a=0;a<o-1;a++){const l=e[a];t.j[l]?i=t.j[l]:(i=new Xt(r),i.jr=s.slice(),t.j[l]=i),t=i}return i=new Xt(n),i.jr=s.slice(),t.j[e[o-1]]=i,i}function tk(t){const e=[],n=[];let r=0,s="0123456789";for(;r<t.length;){let i=0;for(;s.indexOf(t[r+i])>=0;)i++;if(i>0){e.push(n.join(""));for(let o=parseInt(t.substring(r,r+i),10);o>0;o--)n.pop();r+=i}else n.push(t[r]),r++}return e}const Vc={defaultProtocol:"http",events:null,format:nk,formatHref:nk,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function G0(t,e=null){let n=Object.assign({},Vc);t&&(n=Object.assign(n,t instanceof G0?t.o:t));const r=n.ignoreTags,s=[];for(let i=0;i<r.length;i++)s.push(r[i].toUpperCase());this.o=n,e&&(this.defaultRender=e),this.ignoreTags=s}G0.prototype={o:Vc,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,n){const r=e!=null;let s=this.o[t];return s&&(typeof s=="object"?(s=n.t in s?s[n.t]:Vc[t],typeof s=="function"&&r&&(s=s(e,n))):typeof s=="function"&&r&&(s=s(e,n.t,n)),s)},getObj(t,e,n){let r=this.o[t];return typeof r=="function"&&e!=null&&(r=r(e,n.t,n)),r},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function nk(t){return t}function CO(t,e){this.t="token",this.v=t,this.tk=e}CO.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),n=t.get("truncate",e,this),r=t.get("format",e,this);return n&&r.length>n?r.substring(0,n)+"":r},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t=Vc.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,n=this.toHref(t.get("defaultProtocol")),r=t.get("formatHref",n,this),s=t.get("tagName",n,e),i=this.toFormattedString(t),o={},a=t.get("className",n,e),l=t.get("target",n,e),c=t.get("rel",n,e),u=t.getObj("attributes",n,e),d=t.getObj("events",n,e);return o.href=r,a&&(o.class=a),l&&(o.target=l),c&&(o.rel=c),u&&Object.assign(o,u),{tagName:s,attributes:o,content:i,eventListeners:d}}};function np(t,e){class n extends CO{constructor(s,i){super(s,i),this.t=t}}for(const r in e)n.prototype[r]=e[r];return n.t=t,n}const rk=np("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),sk=np("text"),t8=np("nl"),ed=np("url",{isLink:!0,toHref(t=Vc.defaultProtocol){return this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==Uc&&t[1].t===Es}}),vn=t=>new Xt(t);function n8({groups:t}){const e=t.domain.concat([Ff,Bf,vs,Uf,Vf,Hf,Wf,Kf,wn,U0,ec,qf,Gf,Jf,lr,Yf,nc,Qf]),n=[zf,Es,H0,ar,W0,ec,tc,K0,q0,Af,Of,Zl,Xl,_f,Cf,Tf,Nf,Pf,Rf,Mf,jf,If,Df,Lf,$f],r=[Ff,zf,Bf,Uf,Vf,Hf,Wf,Kf,wn,Zl,Xl,ec,qf,Gf,Jf,tc,lr,Yf,nc,Qf],s=vn(),i=M(s,nc);he(i,r,i),he(i,t.domain,i);const o=vn(),a=vn(),l=vn();he(s,t.domain,o),he(s,t.scheme,a),he(s,t.slashscheme,l),he(o,r,i),he(o,t.domain,o);const c=M(o,vs);M(i,vs,c),M(a,vs,c),M(l,vs,c);const u=M(i,ar);he(u,r,i),he(u,t.domain,i);const d=vn();he(c,t.domain,d),he(d,t.domain,d);const f=M(d,ar);he(f,t.domain,d);const h=vn(rk);he(f,t.tld,h),he(f,t.utld,h),M(c,Uc,h);const m=M(d,wn);M(m,wn,m),he(m,t.domain,d),he(h,t.domain,d),M(h,ar,f),M(h,wn,m);const g=M(h,Es);he(g,t.numeric,rk);const y=M(o,wn),v=M(o,ar);M(y,wn,y),he(y,t.domain,o),he(v,r,i),he(v,t.domain,o);const w=vn(ed);he(v,t.tld,w),he(v,t.utld,w),he(w,t.domain,o),he(w,r,i),M(w,ar,v),M(w,wn,y),M(w,vs,c);const x=M(w,Es),k=vn(ed);he(x,t.numeric,k);const S=vn(ed),C=vn();he(S,e,S),he(S,n,C),he(C,e,S),he(C,n,C),M(w,lr,S),M(k,lr,S);const E=M(a,Es),_=M(l,Es),A=M(_,lr),T=M(A,lr);he(a,t.domain,o),M(a,ar,v),M(a,wn,y),he(l,t.domain,o),M(l,ar,v),M(l,wn,y),he(E,t.domain,S),M(E,lr,S),M(E,tc,S),he(T,t.domain,S),he(T,e,S),M(T,lr,S);const z=[[Zl,Xl],[Cf,_f],[Tf,Nf],[Af,Of],[Pf,Rf],[Mf,jf],[If,Df],[Lf,$f]];for(let I=0;I<z.length;I++){const[q,D]=z[I],Q=M(S,q);M(C,q,Q),M(Q,D,S);const F=vn(ed);he(Q,e,F);const J=vn();he(Q,n),he(F,e,F),he(F,n,J),he(J,e,F),he(J,n,J),M(F,D,S),M(J,D,S)}return M(s,Uc,w),M(s,V0,t8),{start:s,tokens:SO}}function r8(t,e,n){let r=n.length,s=0,i=[],o=[];for(;s<r;){let a=t,l=null,c=null,u=0,d=null,f=-1;for(;s<r&&!(l=a.go(n[s].t));)o.push(n[s++]);for(;s<r&&(c=l||a.go(n[s].t));)l=null,a=c,a.accepts()?(f=0,d=a):f>=0&&f++,s++,u++;if(f<0)s-=u,s<r&&(o.push(n[s]),s++);else{o.length>0&&(i.push(Am(sk,e,o)),o=[]),s-=f,u-=f;const h=d.t,m=n.slice(s-u,s);i.push(Am(h,e,m))}}return o.length>0&&i.push(Am(sk,e,o)),i}function Am(t,e,n){const r=n[0].s,s=n[n.length-1].e,i=e.slice(r,s);return new t(i,n)}const s8=typeof console<"u"&&console&&console.warn||(()=>{}),i8="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",Be={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function o8(){return Xt.groups={},Be.scanner=null,Be.parser=null,Be.tokenQueue=[],Be.pluginQueue=[],Be.customSchemes=[],Be.initialized=!1,Be}function ik(t,e=!1){if(Be.initialized&&s8(`linkifyjs: already initialized - will not register custom scheme "${t}" ${i8}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(t))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);Be.customSchemes.push([t,e])}function a8(){Be.scanner=XW(Be.customSchemes);for(let t=0;t<Be.tokenQueue.length;t++)Be.tokenQueue[t][1]({scanner:Be.scanner});Be.parser=n8(Be.scanner.tokens);for(let t=0;t<Be.pluginQueue.length;t++)Be.pluginQueue[t][1]({scanner:Be.scanner,parser:Be.parser});return Be.initialized=!0,Be}function J0(t){return Be.initialized||a8(),r8(Be.parser.start,t,EO(Be.scanner.start,t))}J0.scan=EO;function _O(t,e=null,n=null){if(e&&typeof e=="object"){if(n)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);n=e,e=null}const r=new G0(n),s=J0(t),i=[];for(let o=0;o<s.length;o++){const a=s[o];a.isLink&&(!e||a.t===e)&&r.check(a)&&i.push(a.toFormattedObject(r))}return i}var Q0="[\0- -\u2029]",l8=new RegExp(Q0),c8=new RegExp(`${Q0}$`),u8=new RegExp(Q0,"g");function d8(t){return t.length===1?t[0].isLink:t.length===3&&t[1].isLink?["()","[]"].includes(t[0].value+t[2].value):!1}function f8(t){return new st({key:new xt("autolink"),appendTransaction:(e,n,r)=>{const s=e.some(c=>c.docChanged)&&!n.doc.eq(r.doc),i=e.some(c=>c.getMeta("preventAutolink"));if(!s||i)return;const{tr:o}=r,a=LA(n.doc,[...e]);if(KA(a).forEach(({newRange:c})=>{const u=u6(r.doc,c,h=>h.isTextblock);let d,f;if(u.length>1)d=u[0],f=r.doc.textBetween(d.pos,d.pos+d.node.nodeSize,void 0," ");else if(u.length){const h=r.doc.textBetween(c.from,c.to," "," ");if(!c8.test(h))return;d=u[0],f=r.doc.textBetween(d.pos,c.to,void 0," ")}if(d&&f){const h=f.split(l8).filter(Boolean);if(h.length<=0)return!1;const m=h[h.length-1],g=d.pos+f.lastIndexOf(m);if(!m)return!1;const y=J0(m).map(v=>v.toObject(t.defaultProtocol));if(!d8(y))return!1;y.filter(v=>v.isLink).map(v=>({...v,from:g+v.start+1,to:g+v.end+1})).filter(v=>r.schema.marks.code?!r.doc.rangeHasMark(v.from,v.to,r.schema.marks.code):!0).filter(v=>t.validate(v.value)).filter(v=>t.shouldAutoLink(v.value)).forEach(v=>{F0(v.from,v.to,r.doc).some(w=>w.mark.type===t.type)||o.addMark(v.from,v.to,t.type.create({href:v.href}))})}}),!!o.steps.length)return o}})}function h8(t){return new st({key:new xt("handleClickLink"),props:{handleClick:(e,n,r)=>{var s,i;if(r.button!==0||!e.editable)return!1;let o=null;if(r.target instanceof HTMLAnchorElement)o=r.target;else{let u=r.target;const d=[];for(;u.nodeName!=="DIV";)d.push(u),u=u.parentNode;o=d.find(f=>f.nodeName==="A")}if(!o)return!1;const a=WA(e.state,t.type.name),l=(s=o==null?void 0:o.href)!=null?s:a.href,c=(i=o==null?void 0:o.target)!=null?i:a.target;return t.enableClickSelection&&t.editor.commands.extendMarkRange(t.type.name),o&&l?(window.open(l,c),!0):!1}}})}function p8(t){return new st({key:new xt("handlePasteLink"),props:{handlePaste:(e,n,r)=>{const{state:s}=e,{selection:i}=s,{empty:o}=i;if(o)return!1;let a="";r.content.forEach(c=>{a+=c.textContent});const l=_O(a,{defaultProtocol:t.defaultProtocol}).find(c=>c.isLink&&c.value===a);return!a||!l?!1:t.editor.commands.setMark(t.type,{href:l.href})}}})}function Si(t,e){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(r=>{const s=typeof r=="string"?r:r.scheme;s&&n.push(s)}),!t||t.replace(u8,"").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var m8=xo.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(t=>{if(typeof t=="string"){ik(t);return}ik(t.scheme,t.optionalSlashes)})},onDestroy(){o8()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(t,e)=>!!Si(t,e.protocols),validate:t=>!!t,shouldAutoLink:t=>!!t}},addAttributes(){return{href:{default:null,parseHTML(t){return t.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:t=>{const e=t.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:n=>!!Si(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:t}){return this.options.isAllowedUri(t.href,{defaultValidate:e=>!!Si(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",rt(this.options.HTMLAttributes,t),0]:["a",rt(this.options.HTMLAttributes,{...t,href:""}),0]},addCommands(){return{setLink:t=>({chain:e})=>{const{href:n}=t;return this.options.isAllowedUri(n,{defaultValidate:r=>!!Si(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,t).setMeta("preventAutolink",!0).run():!1},toggleLink:t=>({chain:e})=>{const{href:n}=t||{};return n&&!this.options.isAllowedUri(n,{defaultValidate:r=>!!Si(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:e().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[uo({find:t=>{const e=[];if(t){const{protocols:n,defaultProtocol:r}=this.options,s=_O(t).filter(i=>i.isLink&&this.options.isAllowedUri(i.value,{defaultValidate:o=>!!Si(o,n),protocols:n,defaultProtocol:r}));s.length&&s.forEach(i=>e.push({text:i.value,data:{href:i.href},index:i.start}))}return e},type:this.type,getAttributes:t=>{var e;return{href:(e=t.data)==null?void 0:e.href}}})]},addProseMirrorPlugins(){const t=[],{protocols:e,defaultProtocol:n}=this.options;return this.options.autolink&&t.push(f8({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:r=>this.options.isAllowedUri(r,{defaultValidate:s=>!!Si(s,e),protocols:e,defaultProtocol:n}),shouldAutoLink:this.options.shouldAutoLink})),this.options.openOnClick===!0&&t.push(h8({type:this.type,editor:this.editor,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&t.push(p8({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type})),t}}),g8=Object.defineProperty,y8=(t,e)=>{for(var n in e)g8(t,n,{get:e[n],enumerable:!0})},v8="listItem",ok="textStyle",ak=/^\s*([-+*])\s$/,TO=$t.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",rt(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(v8,this.editor.getAttributes(ok)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=Ja({find:ak,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Ja({find:ak,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(ok),editor:this.editor})),[t]}}),NO=$t.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",rt(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),w8={};y8(w8,{findListItemPos:()=>du,getNextListDepth:()=>Y0,handleBackspace:()=>Dy,handleDelete:()=>Ly,hasListBefore:()=>AO,hasListItemAfter:()=>x8,hasListItemBefore:()=>OO,listItemHasSubList:()=>PO,nextListIsDeeper:()=>RO,nextListIsHigher:()=>MO});var du=(t,e)=>{const{$from:n}=e.selection,r=ct(t,e.schema);let s=null,i=n.depth,o=n.pos,a=null;for(;i>0&&a===null;)s=n.node(i),s.type===r?a=i:(i-=1,o-=1);return a===null?null:{$pos:e.doc.resolve(o),depth:a}},Y0=(t,e)=>{const n=du(t,e);if(!n)return!1;const[,r]=x6(e,t,n.$pos.pos+4);return r},AO=(t,e,n)=>{const{$anchor:r}=t.selection,s=Math.max(0,r.pos-2),i=t.doc.resolve(s).node();return!(!i||!n.includes(i.type.name))},OO=(t,e)=>{var n;const{$anchor:r}=e.selection,s=e.doc.resolve(r.pos-2);return!(s.index()===0||((n=s.nodeBefore)==null?void 0:n.type.name)!==t)},PO=(t,e,n)=>{if(!n)return!1;const r=ct(t,e.schema);let s=!1;return n.descendants(i=>{i.type===r&&(s=!0)}),s},Dy=(t,e,n)=>{if(t.commands.undoInputRule())return!0;if(t.state.selection.from!==t.state.selection.to)return!1;if(!oi(t.state,e)&&AO(t.state,e,n)){const{$anchor:a}=t.state.selection,l=t.state.doc.resolve(a.before()-1),c=[];l.node().descendants((f,h)=>{f.type.name===e&&c.push({node:f,pos:h})});const u=c.at(-1);if(!u)return!1;const d=t.state.doc.resolve(l.start()+u.pos+1);return t.chain().cut({from:a.start()-1,to:a.end()+1},d.end()).joinForward().run()}if(!oi(t.state,e)||!E6(t.state))return!1;const r=du(e,t.state);if(!r)return!1;const i=t.state.doc.resolve(r.$pos.pos-2).node(r.depth),o=PO(e,t.state,i);return OO(e,t.state)&&!o?t.commands.joinItemBackward():t.chain().liftListItem(e).run()},RO=(t,e)=>{const n=Y0(t,e),r=du(t,e);return!r||!n?!1:n>r.depth},MO=(t,e)=>{const n=Y0(t,e),r=du(t,e);return!r||!n?!1:n<r.depth},Ly=(t,e)=>{if(!oi(t.state,e)||!S6(t.state,e))return!1;const{selection:n}=t.state,{$from:r,$to:s}=n;return!n.empty&&r.sameParent(s)?!1:RO(e,t.state)?t.chain().focus(t.state.selection.from+4).lift(e).joinBackward().run():MO(e,t.state)?t.chain().joinForward().joinBackward().run():t.commands.joinItemForward()},x8=(t,e)=>{var n;const{$anchor:r}=e.selection,s=e.doc.resolve(r.pos-r.parentOffset-2);return!(s.index()===s.parent.childCount-1||((n=s.nodeAfter)==null?void 0:n.type.name)!==t)},jO=ut.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&Ly(t,n)&&(e=!0)}),e},"Mod-Delete":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&Ly(t,n)&&(e=!0)}),e},Backspace:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{t.state.schema.nodes[n]!==void 0&&Dy(t,n,r)&&(e=!0)}),e},"Mod-Backspace":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{t.state.schema.nodes[n]!==void 0&&Dy(t,n,r)&&(e=!0)}),e}}}}),b8="listItem",lk="textStyle",ck=/^(\d+)\.\s$/,IO=$t.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:null,parseHTML:t=>t.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return e===1?["ol",rt(this.options.HTMLAttributes,n),0]:["ol",rt(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(b8,this.editor.getAttributes(lk)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=Ja({find:ck,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Ja({find:ck,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(lk)}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1],editor:this.editor})),[t]}}),k8=/^\s*(\[([( |x])?\])\s$/,S8=$t.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:t=>{const e=t.getAttribute("data-checked");return e===""||e==="true"},renderHTML:t=>({"data-checked":t.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:t,HTMLAttributes:e}){return["li",rt(this.options.HTMLAttributes,e,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:t.attrs.checked?"checked":null}],["span"]],["div",0]]},addKeyboardShortcuts(){const t={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...t,Tab:()=>this.editor.commands.sinkListItem(this.name)}:t},addNodeView(){return({node:t,HTMLAttributes:e,getPos:n,editor:r})=>{const s=document.createElement("li"),i=document.createElement("label"),o=document.createElement("span"),a=document.createElement("input"),l=document.createElement("div"),c=u=>{var d,f;a.ariaLabel=((f=(d=this.options.a11y)==null?void 0:d.checkboxLabel)==null?void 0:f.call(d,u,a.checked))||`Task item checkbox for ${u.textContent||"empty task item"}`};return c(t),i.contentEditable="false",a.type="checkbox",a.addEventListener("mousedown",u=>u.preventDefault()),a.addEventListener("change",u=>{if(!r.isEditable&&!this.options.onReadOnlyChecked){a.checked=!a.checked;return}const{checked:d}=u.target;r.isEditable&&typeof n=="function"&&r.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:f})=>{const h=n();if(typeof h!="number")return!1;const m=f.doc.nodeAt(h);return f.setNodeMarkup(h,void 0,{...m==null?void 0:m.attrs,checked:d}),!0}).run(),!r.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(t,d)||(a.checked=!a.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([u,d])=>{s.setAttribute(u,d)}),s.dataset.checked=t.attrs.checked,a.checked=t.attrs.checked,i.append(a,o),s.append(i,l),Object.entries(e).forEach(([u,d])=>{s.setAttribute(u,d)}),{dom:s,contentDOM:l,update:u=>u.type!==this.type?!1:(s.dataset.checked=u.attrs.checked,a.checked=u.attrs.checked,c(u),!0)}}},addInputRules(){return[Ja({find:k8,type:this.type,getAttributes:t=>({checked:t[t.length-1]==="x"})})]}}),E8=$t.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:t}){return["ul",rt(this.options.HTMLAttributes,t,{"data-type":this.name}),0]},addCommands(){return{toggleTaskList:()=>({commands:t})=>t.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});ut.create({name:"listKit",addExtensions(){const t=[];return this.options.bulletList!==!1&&t.push(TO.configure(this.options.bulletList)),this.options.listItem!==!1&&t.push(NO.configure(this.options.listItem)),this.options.listKeymap!==!1&&t.push(jO.configure(this.options.listKeymap)),this.options.orderedList!==!1&&t.push(IO.configure(this.options.orderedList)),this.options.taskItem!==!1&&t.push(S8.configure(this.options.taskItem)),this.options.taskList!==!1&&t.push(E8.configure(this.options.taskList)),t}});var C8=$t.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",rt(this.options.HTMLAttributes,t),0]},addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),_8=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,T8=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,N8=xo.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",rt(this.options.HTMLAttributes,t),0]},addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[Ga({find:_8,type:this.type})]},addPasteRules(){return[uo({find:T8,type:this.type})]}}),A8=$t.create({name:"text",group:"inline"}),O8=xo.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["u",rt(this.options.HTMLAttributes,t),0]},addCommands(){return{setUnderline:()=>({commands:t})=>t.setMark(this.name),toggleUnderline:()=>({commands:t})=>t.toggleMark(this.name),unsetUnderline:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}});function P8(t={}){return new st({view(e){return new R8(e,t)}})}class R8{constructor(e,n){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=n.width)!==null&&r!==void 0?r:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(s=>{let i=o=>{this[s](o)};return e.dom.addEventListener(s,i),{name:s,handler:i}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,r,s=this.editorView.dom,i=s.getBoundingClientRect(),o=i.width/s.offsetWidth,a=i.height/s.offsetHeight;if(n){let d=e.nodeBefore,f=e.nodeAfter;if(d||f){let h=this.editorView.nodeDOM(this.cursorPos-(d?d.nodeSize:0));if(h){let m=h.getBoundingClientRect(),g=d?m.bottom:m.top;d&&f&&(g=(g+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let y=this.width/2*a;r={left:m.left,right:m.right,top:g-y,bottom:g+y}}}}if(!r){let d=this.editorView.coordsAtPos(this.cursorPos),f=this.width/2*o;r={left:d.left-f,right:d.left+f,top:d.top,bottom:d.bottom}}let l=this.editorView.dom.offsetParent;this.element||(this.element=l.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let c,u;if(!l||l==document.body&&getComputedStyle(l).position=="static")c=-pageXOffset,u=-pageYOffset;else{let d=l.getBoundingClientRect(),f=d.width/l.offsetWidth,h=d.height/l.offsetHeight;c=d.left-l.scrollLeft*f,u=d.top-l.scrollTop*h}this.element.style.left=(r.left-c)/o+"px",this.element.style.top=(r.top-u)/a+"px",this.element.style.width=(r.right-r.left)/o+"px",this.element.style.height=(r.bottom-r.top)/a+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),s=r&&r.type.spec.disableDropCursor,i=typeof s=="function"?s(this.editorView,n,e):s;if(n&&!i){let o=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let a=BN(this.editorView.state.doc,o,this.editorView.dragging.slice);a!=null&&(o=a)}this.setCursor(o),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}class tt extends me{constructor(e){super(e,e)}map(e,n){let r=e.resolve(n.map(this.head));return tt.valid(r)?new tt(r):me.near(r)}content(){return H.empty}eq(e){return e instanceof tt&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new tt(e.resolve(n.pos))}getBookmark(){return new Z0(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!M8(e)||!j8(e))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let s=n.contentMatchAt(e.index()).defaultType;return s&&s.isTextblock}static findGapCursorFrom(e,n,r=!1){e:for(;;){if(!r&&tt.valid(e))return e;let s=e.pos,i=null;for(let o=e.depth;;o--){let a=e.node(o);if(n>0?e.indexAfter(o)<a.childCount:e.index(o)>0){i=a.child(n>0?e.indexAfter(o):e.index(o)-1);break}else if(o==0)return null;s+=n;let l=e.doc.resolve(s);if(tt.valid(l))return l}for(;;){let o=n>0?i.firstChild:i.lastChild;if(!o){if(i.isAtom&&!i.isText&&!X.isSelectable(i)){e=e.doc.resolve(s+i.nodeSize*n),r=!1;continue e}break}i=o,s+=n;let a=e.doc.resolve(s);if(tt.valid(a))return a}return null}}}tt.prototype.visible=!1;tt.findFrom=tt.findGapCursorFrom;me.jsonID("gapcursor",tt);class Z0{constructor(e){this.pos=e}map(e){return new Z0(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return tt.valid(n)?new tt(n):me.near(n)}}function M8(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),r=t.node(e);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let s=r.child(n-1);;s=s.lastChild){if(s.childCount==0&&!s.inlineContent||s.isAtom||s.type.spec.isolating)return!0;if(s.inlineContent)return!1}}return!0}function j8(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),r=t.node(e);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let s=r.child(n);;s=s.firstChild){if(s.childCount==0&&!s.inlineContent||s.isAtom||s.type.spec.isolating)return!0;if(s.inlineContent)return!1}}return!0}function I8(){return new st({props:{decorations:F8,createSelectionBetween(t,e,n){return e.pos==n.pos&&tt.valid(n)?new tt(n):null},handleClick:L8,handleKeyDown:D8,handleDOMEvents:{beforeinput:$8}}})}const D8=AA({ArrowLeft:td("horiz",-1),ArrowRight:td("horiz",1),ArrowUp:td("vert",-1),ArrowDown:td("vert",1)});function td(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,s,i){let o=r.selection,a=e>0?o.$to:o.$from,l=o.empty;if(o instanceof ne){if(!i.endOfTextblock(n)||a.depth==0)return!1;l=!1,a=r.doc.resolve(e>0?a.after():a.before())}let c=tt.findGapCursorFrom(a,e,l);return c?(s&&s(r.tr.setSelection(new tt(c))),!0):!1}}function L8(t,e,n){if(!t||!t.editable)return!1;let r=t.state.doc.resolve(e);if(!tt.valid(r))return!1;let s=t.posAtCoords({left:n.clientX,top:n.clientY});return s&&s.inside>-1&&X.isSelectable(t.state.doc.nodeAt(s.inside))?!1:(t.dispatch(t.state.tr.setSelection(new tt(r))),!0)}function $8(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof tt))return!1;let{$from:n}=t.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!r)return!1;let s=R.empty;for(let o=r.length-1;o>=0;o--)s=R.from(r[o].createAndFill(null,s));let i=t.state.tr.replace(n.pos,n.pos,new H(s,0,0));return i.setSelection(ne.near(i.doc.resolve(n.pos+1))),t.dispatch(i),!1}function F8(t){if(!(t.selection instanceof tt))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",Ke.create(t.doc,[Vt.widget(t.selection.head,e,{key:"gapcursor"})])}var Zf=200,wt=function(){};wt.prototype.append=function(e){return e.length?(e=wt.from(e),!this.length&&e||e.length<Zf&&this.leafAppend(e)||this.length<Zf&&e.leafPrepend(this)||this.appendInner(e)):this};wt.prototype.prepend=function(e){return e.length?wt.from(e).append(this):this};wt.prototype.appendInner=function(e){return new z8(this,e)};wt.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?wt.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};wt.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};wt.prototype.forEach=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(e,n,r,0):this.forEachInvertedInner(e,n,r,0)};wt.prototype.map=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var s=[];return this.forEach(function(i,o){return s.push(e(i,o))},n,r),s};wt.from=function(e){return e instanceof wt?e:e&&e.length?new DO(e):wt.empty};var DO=function(t){function e(r){t.call(this),this.values=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(s,i){return s==0&&i==this.length?this:new e(this.values.slice(s,i))},e.prototype.getInner=function(s){return this.values[s]},e.prototype.forEachInner=function(s,i,o,a){for(var l=i;l<o;l++)if(s(this.values[l],a+l)===!1)return!1},e.prototype.forEachInvertedInner=function(s,i,o,a){for(var l=i-1;l>=o;l--)if(s(this.values[l],a+l)===!1)return!1},e.prototype.leafAppend=function(s){if(this.length+s.length<=Zf)return new e(this.values.concat(s.flatten()))},e.prototype.leafPrepend=function(s){if(this.length+s.length<=Zf)return new e(s.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(wt);wt.empty=new DO([]);var z8=function(t){function e(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,s,i,o){var a=this.left.length;if(s<a&&this.left.forEachInner(r,s,Math.min(i,a),o)===!1||i>a&&this.right.forEachInner(r,Math.max(s-a,0),Math.min(this.length,i)-a,o+a)===!1)return!1},e.prototype.forEachInvertedInner=function(r,s,i,o){var a=this.left.length;if(s>a&&this.right.forEachInvertedInner(r,s-a,Math.max(i,a)-a,o+a)===!1||i<a&&this.left.forEachInvertedInner(r,Math.min(s,a),i,o)===!1)return!1},e.prototype.sliceInner=function(r,s){if(r==0&&s==this.length)return this;var i=this.left.length;return s<=i?this.left.slice(r,s):r>=i?this.right.slice(r-i,s-i):this.left.slice(r,i).append(this.right.slice(0,s-i))},e.prototype.leafAppend=function(r){var s=this.right.leafAppend(r);if(s)return new e(this.left,s)},e.prototype.leafPrepend=function(r){var s=this.left.leafPrepend(r);if(s)return new e(s,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e}(wt);const B8=500;class Qn{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let s,i;n&&(s=this.remapping(r,this.items.length),i=s.maps.length);let o=e.tr,a,l,c=[],u=[];return this.items.forEach((d,f)=>{if(!d.step){s||(s=this.remapping(r,f+1),i=s.maps.length),i--,u.push(d);return}if(s){u.push(new cr(d.map));let h=d.step.map(s.slice(i)),m;h&&o.maybeStep(h).doc&&(m=o.mapping.maps[o.mapping.maps.length-1],c.push(new cr(m,void 0,void 0,c.length+u.length))),i--,m&&s.appendMap(m,i)}else o.maybeStep(d.step);if(d.selection)return a=s?d.selection.map(s.slice(i)):d.selection,l=new Qn(this.items.slice(0,r).append(u.reverse().concat(c)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:o,selection:a}}addTransform(e,n,r,s){let i=[],o=this.eventCount,a=this.items,l=!s&&a.length?a.get(a.length-1):null;for(let u=0;u<e.steps.length;u++){let d=e.steps[u].invert(e.docs[u]),f=new cr(e.mapping.maps[u],d,n),h;(h=l&&l.merge(f))&&(f=h,u?i.pop():a=a.slice(0,a.length-1)),i.push(f),n&&(o++,n=void 0),s||(l=f)}let c=o-r.depth;return c>V8&&(a=U8(a,c),o-=c),new Qn(a.append(i),o)}remapping(e,n){let r=new Ic;return this.items.forEach((s,i)=>{let o=s.mirrorOffset!=null&&i-s.mirrorOffset>=e?r.maps.length-s.mirrorOffset:void 0;r.appendMap(s.map,o)},e,n),r}addMaps(e){return this.eventCount==0?this:new Qn(this.items.append(e.map(n=>new cr(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let r=[],s=Math.max(0,this.items.length-n),i=e.mapping,o=e.steps.length,a=this.eventCount;this.items.forEach(f=>{f.selection&&a--},s);let l=n;this.items.forEach(f=>{let h=i.getMirror(--l);if(h==null)return;o=Math.min(o,h);let m=i.maps[h];if(f.step){let g=e.steps[h].invert(e.docs[h]),y=f.selection&&f.selection.map(i.slice(l+1,h));y&&a++,r.push(new cr(m,g,y))}else r.push(new cr(m))},s);let c=[];for(let f=n;f<o;f++)c.push(new cr(i.maps[f]));let u=this.items.slice(0,s).append(c).append(r),d=new Qn(u,a);return d.emptyItemCount()>B8&&(d=d.compress(this.items.length-r.length)),d}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),r=n.maps.length,s=[],i=0;return this.items.forEach((o,a)=>{if(a>=e)s.push(o),o.selection&&i++;else if(o.step){let l=o.step.map(n.slice(r)),c=l&&l.getMap();if(r--,c&&n.appendMap(c,r),l){let u=o.selection&&o.selection.map(n.slice(r));u&&i++;let d=new cr(c.invert(),l,u),f,h=s.length-1;(f=s.length&&s[h].merge(d))?s[h]=f:s.push(d)}}else o.map&&r--},this.items.length,0),new Qn(wt.from(s.reverse()),i)}}Qn.empty=new Qn(wt.empty,0);function U8(t,e){let n;return t.forEach((r,s)=>{if(r.selection&&e--==0)return n=s,!1}),t.slice(n)}class cr{constructor(e,n,r,s){this.map=e,this.step=n,this.selection=r,this.mirrorOffset=s}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new cr(n.getMap().invert(),n,this.selection)}}}class ws{constructor(e,n,r,s,i){this.done=e,this.undone=n,this.prevRanges=r,this.prevTime=s,this.prevComposition=i}}const V8=20;function H8(t,e,n,r){let s=n.getMeta(Ji),i;if(s)return s.historyState;n.getMeta(q8)&&(t=new ws(t.done,t.undone,null,0,-1));let o=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(o&&o.getMeta(Ji))return o.getMeta(Ji).redo?new ws(t.done.addTransform(n,void 0,r,Sd(e)),t.undone,uk(n.mapping.maps),t.prevTime,t.prevComposition):new ws(t.done,t.undone.addTransform(n,void 0,r,Sd(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(o&&o.getMeta("addToHistory")===!1)){let a=n.getMeta("composition"),l=t.prevTime==0||!o&&t.prevComposition!=a&&(t.prevTime<(n.time||0)-r.newGroupDelay||!W8(n,t.prevRanges)),c=o?Om(t.prevRanges,n.mapping):uk(n.mapping.maps);return new ws(t.done.addTransform(n,l?e.selection.getBookmark():void 0,r,Sd(e)),Qn.empty,c,n.time,a??t.prevComposition)}else return(i=n.getMeta("rebased"))?new ws(t.done.rebased(n,i),t.undone.rebased(n,i),Om(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new ws(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),Om(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function W8(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((r,s)=>{for(let i=0;i<e.length;i+=2)r<=e[i+1]&&s>=e[i]&&(n=!0)}),n}function uk(t){let e=[];for(let n=t.length-1;n>=0&&e.length==0;n--)t[n].forEach((r,s,i,o)=>e.push(i,o));return e}function Om(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let s=e.map(t[r],1),i=e.map(t[r+1],-1);s<=i&&n.push(s,i)}return n}function K8(t,e,n){let r=Sd(e),s=Ji.get(e).spec.config,i=(n?t.undone:t.done).popEvent(e,r);if(!i)return null;let o=i.selection.resolve(i.transform.doc),a=(n?t.done:t.undone).addTransform(i.transform,e.selection.getBookmark(),s,r),l=new ws(n?a:i.remaining,n?i.remaining:a,null,0,-1);return i.transform.setSelection(o).setMeta(Ji,{redo:n,historyState:l})}let Pm=!1,dk=null;function Sd(t){let e=t.plugins;if(dk!=e){Pm=!1,dk=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){Pm=!0;break}}return Pm}const Ji=new xt("history"),q8=new xt("closeHistory");function G8(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new st({key:Ji,state:{init(){return new ws(Qn.empty,Qn.empty,null,0,-1)},apply(e,n,r){return H8(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let r=n.inputType,s=r=="historyUndo"?$O:r=="historyRedo"?FO:null;return s?(n.preventDefault(),s(e.state,e.dispatch)):!1}}}})}function LO(t,e){return(n,r)=>{let s=Ji.getState(n);if(!s||(t?s.undone:s.done).eventCount==0)return!1;if(r){let i=K8(s,n,t);i&&r(e?i.scrollIntoView():i)}return!0}}const $O=LO(!1,!0),FO=LO(!0,!0);ut.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:t=>t.length,wordCounter:t=>t.split(" ").filter(e=>e!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=t=>{const e=(t==null?void 0:t.node)||this.editor.state.doc;if(((t==null?void 0:t.mode)||this.options.mode)==="textSize"){const r=e.textBetween(0,e.content.size,void 0," ");return this.options.textCounter(r)}return e.nodeSize},this.storage.words=t=>{const e=(t==null?void 0:t.node)||this.editor.state.doc,n=e.textBetween(0,e.content.size," "," ");return this.options.wordCounter(n)}},addProseMirrorPlugins(){let t=!1;return[new st({key:new xt("characterCount"),appendTransaction:(e,n,r)=>{if(t)return;const s=this.options.limit;if(s==null||s===0){t=!0;return}const i=this.storage.characters({node:r.doc});if(i>s){const o=i-s,a=0,l=o;console.warn(`[CharacterCount] Initial content exceeded limit of ${s} characters. Content was automatically trimmed.`);const c=r.tr.deleteRange(a,l);return t=!0,c}t=!0},filterTransaction:(e,n)=>{const r=this.options.limit;if(!e.docChanged||r===0||r===null||r===void 0)return!0;const s=this.storage.characters({node:n.doc}),i=this.storage.characters({node:e.doc});if(i<=r||s>r&&i>r&&i<=s)return!0;if(s>r&&i>r&&i>s||!e.getMeta("paste"))return!1;const a=e.selection.$head.pos,l=i-r,c=a-l,u=a;return e.deleteRange(c,u),!(this.storage.characters({node:e.doc})>r)}})]}});var J8=ut.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[P8(this.options)]}});ut.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new st({key:new xt("focus"),props:{decorations:({doc:t,selection:e})=>{const{isEditable:n,isFocused:r}=this.editor,{anchor:s}=e,i=[];if(!n||!r)return Ke.create(t,[]);let o=0;this.options.mode==="deepest"&&t.descendants((l,c)=>{if(l.isText)return;if(!(s>=c&&s<=c+l.nodeSize-1))return!1;o+=1});let a=0;return t.descendants((l,c)=>{if(l.isText||!(s>=c&&s<=c+l.nodeSize-1))return!1;if(a+=1,this.options.mode==="deepest"&&o-a>0||this.options.mode==="shallowest"&&a>1)return this.options.mode==="deepest";i.push(Vt.node(c,c+l.nodeSize,{class:this.options.className}))}),Ke.create(t,i)}}})]}});var Q8=ut.create({name:"gapCursor",addProseMirrorPlugins(){return[I8()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=Ae(Z(t,"allowGapCursor",n)))!=null?e:null}}});ut.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new st({key:new xt("placeholder"),props:{decorations:({doc:t,selection:e})=>{const n=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:r}=e,s=[];if(!n)return null;const i=this.editor.isEmpty;return t.descendants((o,a)=>{const l=r>=a&&r<=a+o.nodeSize,c=!o.isLeaf&&Zh(o);if((l||!this.options.showOnlyCurrent)&&c){const u=[this.options.emptyNodeClass];i&&u.push(this.options.emptyEditorClass);const d=Vt.node(a,a+o.nodeSize,{class:u.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:o,pos:a,hasAnchor:l}):this.options.placeholder});s.push(d)}return this.options.includeChildren}),Ke.create(t,s)}}})]}});ut.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:t,options:e}=this;return[new st({key:new xt("selection"),props:{decorations(n){return n.selection.empty||t.isFocused||!t.isEditable||GA(n.selection)||t.view.dragging?null:Ke.create(n.doc,[Vt.inline(n.selection.from,n.selection.to,{class:e.className})])}}})]}});function fk({types:t,node:e}){return e&&Array.isArray(t)&&t.includes(e.type)||(e==null?void 0:e.type)===t}var Y8=ut.create({name:"trailingNode",addOptions(){return{node:"paragraph",notAfter:[]}},addProseMirrorPlugins(){const t=new xt(this.name),e=Object.entries(this.editor.schema.nodes).map(([,n])=>n).filter(n=>(this.options.notAfter||[]).concat(this.options.node).includes(n.name));return[new st({key:t,appendTransaction:(n,r,s)=>{const{doc:i,tr:o,schema:a}=s,l=t.getState(s),c=i.content.size,u=a.nodes[this.options.node];if(l)return o.insert(c,u.create())},state:{init:(n,r)=>{const s=r.tr.doc.lastChild;return!fk({node:s,types:e})},apply:(n,r)=>{if(!n.docChanged)return r;const s=n.doc.lastChild;return!fk({node:s,types:e})}}})]}}),Z8=ut.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>$O(t,e),redo:()=>({state:t,dispatch:e})=>FO(t,e)}},addProseMirrorPlugins(){return[G8(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),X8=ut.create({name:"starterKit",addExtensions(){var t,e,n,r;const s=[];return this.options.bold!==!1&&s.push(AW.configure(this.options.bold)),this.options.blockquote!==!1&&s.push(EW.configure(this.options.blockquote)),this.options.bulletList!==!1&&s.push(TO.configure(this.options.bulletList)),this.options.code!==!1&&s.push(RW.configure(this.options.code)),this.options.codeBlock!==!1&&s.push(IW.configure(this.options.codeBlock)),this.options.document!==!1&&s.push(DW.configure(this.options.document)),this.options.dropcursor!==!1&&s.push(J8.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&s.push(Q8.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&s.push(LW.configure(this.options.hardBreak)),this.options.heading!==!1&&s.push($W.configure(this.options.heading)),this.options.undoRedo!==!1&&s.push(Z8.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&s.push(FW.configure(this.options.horizontalRule)),this.options.italic!==!1&&s.push(HW.configure(this.options.italic)),this.options.listItem!==!1&&s.push(NO.configure(this.options.listItem)),this.options.listKeymap!==!1&&s.push(jO.configure((t=this.options)==null?void 0:t.listKeymap)),this.options.link!==!1&&s.push(m8.configure((e=this.options)==null?void 0:e.link)),this.options.orderedList!==!1&&s.push(IO.configure(this.options.orderedList)),this.options.paragraph!==!1&&s.push(C8.configure(this.options.paragraph)),this.options.strike!==!1&&s.push(N8.configure(this.options.strike)),this.options.text!==!1&&s.push(A8.configure(this.options.text)),this.options.underline!==!1&&s.push(O8.configure((n=this.options)==null?void 0:n.underline)),this.options.trailingNode!==!1&&s.push(Y8.configure((r=this.options)==null?void 0:r.trailingNode)),s}}),e9=X8,t9=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,n9=$t.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{}}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null},width:{default:null},height:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:t}){return["img",rt(this.options.HTMLAttributes,t)]},addCommands(){return{setImage:t=>({commands:e})=>e.insertContent({type:this.name,attrs:t})}},addInputRules(){return[hO({find:t9,type:this.type,getAttributes:t=>{const[,,e,n,r]=t;return{src:n,alt:e,title:r}}})]}}),r9=n9,s9=/^((?:https?:)?\/\/)?((?:www|m|music)\.)?((?:youtube\.com|youtu\.be|youtube-nocookie\.com))(\/(?:[\w-]+\?v=|embed\/|v\/)?)([\w-]+)(\S+)?$/,i9=/^((?:https?:)?\/\/)?((?:www|m|music)\.)?((?:youtube\.com|youtu\.be|youtube-nocookie\.com))(\/(?:[\w-]+\?v=|embed\/|v\/)?)([\w-]+)(\S+)?$/g,zO=t=>t.match(s9),hk=(t,e)=>e?"https://www.youtube-nocookie.com/embed/videoseries?list=":t?"https://www.youtube-nocookie.com/embed/":"https://www.youtube.com/embed/",o9=t=>{const{url:e,allowFullscreen:n,autoplay:r,ccLanguage:s,ccLoadPolicy:i,controls:o,disableKBcontrols:a,enableIFrameApi:l,endTime:c,interfaceLanguage:u,ivLoadPolicy:d,loop:f,modestBranding:h,nocookie:m,origin:g,playlist:y,progressBarColor:v,startAt:w,rel:x}=t;if(!zO(e))return null;if(e.includes("/embed/"))return e;if(e.includes("youtu.be")){const _=e.split("/").pop();return _?`${hk(m)}${_}`:null}const S=/(?:(v|list)=|shorts\/)([-\w]+)/gm.exec(e);if(!S||!S[2])return null;let C=`${hk(m,S[1]==="list")}${S[2]}`;const E=[];return n===!1&&E.push("fs=0"),r&&E.push("autoplay=1"),s&&E.push(`cc_lang_pref=${s}`),i&&E.push("cc_load_policy=1"),o||E.push("controls=0"),a&&E.push("disablekb=1"),l&&E.push("enablejsapi=1"),c&&E.push(`end=${c}`),u&&E.push(`hl=${u}`),d&&E.push(`iv_load_policy=${d}`),f&&E.push("loop=1"),h&&E.push("modestbranding=1"),g&&E.push(`origin=${g}`),y&&E.push(`playlist=${y}`),w&&E.push(`start=${w}`),v&&E.push(`color=${v}`),x!==void 0&&E.push(`rel=${x}`),E.length&&(C+=`${S[1]==="v"?"?":"&"}${E.join("&")}`),C},a9=$t.create({name:"youtube",addOptions(){return{addPasteHandler:!0,allowFullscreen:!0,autoplay:!1,ccLanguage:void 0,ccLoadPolicy:void 0,controls:!0,disableKBcontrols:!1,enableIFrameApi:!1,endTime:0,height:480,interfaceLanguage:void 0,ivLoadPolicy:0,loop:!1,modestBranding:!1,HTMLAttributes:{},inline:!1,nocookie:!1,origin:"",playlist:"",progressBarColor:void 0,width:640,rel:1}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},start:{default:0},width:{default:this.options.width},height:{default:this.options.height}}},parseHTML(){return[{tag:"div[data-youtube-video] iframe"}]},addCommands(){return{setYoutubeVideo:t=>({commands:e})=>zO(t.src)?e.insertContent({type:this.name,attrs:t}):!1}},addPasteRules(){return this.options.addPasteHandler?[JH({find:i9,type:this.type,getAttributes:t=>({src:t.input})})]:[]},renderHTML({HTMLAttributes:t}){const e=o9({url:t.src,allowFullscreen:this.options.allowFullscreen,autoplay:this.options.autoplay,ccLanguage:this.options.ccLanguage,ccLoadPolicy:this.options.ccLoadPolicy,controls:this.options.controls,disableKBcontrols:this.options.disableKBcontrols,enableIFrameApi:this.options.enableIFrameApi,endTime:this.options.endTime,interfaceLanguage:this.options.interfaceLanguage,ivLoadPolicy:this.options.ivLoadPolicy,loop:this.options.loop,modestBranding:this.options.modestBranding,nocookie:this.options.nocookie,origin:this.options.origin,playlist:this.options.playlist,progressBarColor:this.options.progressBarColor,startAt:t.start||0,rel:this.options.rel});return t.src=e,["div",{"data-youtube-video":""},["iframe",rt(this.options.HTMLAttributes,{width:this.options.width,height:this.options.height,allowfullscreen:this.options.allowFullscreen,autoplay:this.options.autoplay,ccLanguage:this.options.ccLanguage,ccLoadPolicy:this.options.ccLoadPolicy,disableKBcontrols:this.options.disableKBcontrols,enableIFrameApi:this.options.enableIFrameApi,endTime:this.options.endTime,interfaceLanguage:this.options.interfaceLanguage,ivLoadPolicy:this.options.ivLoadPolicy,loop:this.options.loop,modestBranding:this.options.modestBranding,origin:this.options.origin,playlist:this.options.playlist,progressBarColor:this.options.progressBarColor,rel:this.options.rel},t)]]}}),l9=a9,rp="Dialog",[BO,q9]=ui(rp),[c9,rr]=BO(rp),UO=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=b.useRef(null),l=b.useRef(null),[c,u]=Ra({prop:r,defaultProp:s??!1,onChange:i,caller:rp});return p.jsx(c9,{scope:e,triggerRef:a,contentRef:l,contentId:Ws(),titleId:Ws(),descriptionId:Ws(),open:c,onOpenChange:u,onOpenToggle:b.useCallback(()=>u(d=>!d),[u]),modal:o,children:n})};UO.displayName=rp;var VO="DialogTrigger",HO=b.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=rr(VO,n),i=Le(e,s.triggerRef);return p.jsx(ge.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":tw(s.open),...r,ref:i,onClick:ee(t.onClick,s.onOpenToggle)})});HO.displayName=VO;var X0="DialogPortal",[u9,WO]=BO(X0,{forceMount:void 0}),KO=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=rr(X0,e);return p.jsx(u9,{scope:e,forceMount:n,children:b.Children.map(r,o=>p.jsx(go,{present:n||i.open,children:p.jsx(yh,{asChild:!0,container:s,children:o})}))})};KO.displayName=X0;var Xf="DialogOverlay",qO=b.forwardRef((t,e)=>{const n=WO(Xf,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=rr(Xf,t.__scopeDialog);return i.modal?p.jsx(go,{present:r||i.open,children:p.jsx(f9,{...s,ref:e})}):null});qO.displayName=Xf;var d9=Pa("DialogOverlay.RemoveScroll"),f9=b.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=rr(Xf,n);return p.jsx(g0,{as:d9,allowPinchZoom:!0,shards:[s.contentRef],children:p.jsx(ge.div,{"data-state":tw(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),fo="DialogContent",GO=b.forwardRef((t,e)=>{const n=WO(fo,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=rr(fo,t.__scopeDialog);return p.jsx(go,{present:r||i.open,children:i.modal?p.jsx(h9,{...s,ref:e}):p.jsx(p9,{...s,ref:e})})});GO.displayName=fo;var h9=b.forwardRef((t,e)=>{const n=rr(fo,t.__scopeDialog),r=b.useRef(null),s=Le(e,n.contentRef,r);return b.useEffect(()=>{const i=r.current;if(i)return wT(i)},[]),p.jsx(JO,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ee(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:ee(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:ee(t.onFocusOutside,i=>i.preventDefault())})}),p9=b.forwardRef((t,e)=>{const n=rr(fo,t.__scopeDialog),r=b.useRef(!1),s=b.useRef(!1);return p.jsx(JO,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),JO=b.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=rr(fo,n),l=b.useRef(null),c=Le(e,l);return gT(),p.jsxs(p.Fragment,{children:[p.jsx(m0,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:p.jsx(eu,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":tw(a.open),...o,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),p.jsxs(p.Fragment,{children:[p.jsx(m9,{titleId:a.titleId}),p.jsx(y9,{contentRef:l,descriptionId:a.descriptionId})]})]})}),ew="DialogTitle",QO=b.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=rr(ew,n);return p.jsx(ge.h2,{id:s.titleId,...r,ref:e})});QO.displayName=ew;var YO="DialogDescription",ZO=b.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=rr(YO,n);return p.jsx(ge.p,{id:s.descriptionId,...r,ref:e})});ZO.displayName=YO;var XO="DialogClose",eP=b.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=rr(XO,n);return p.jsx(ge.button,{type:"button",...r,ref:e,onClick:ee(t.onClick,()=>s.onOpenChange(!1))})});eP.displayName=XO;function tw(t){return t?"open":"closed"}var tP="DialogTitleWarning",[G9,nP]=GM(tP,{contentName:fo,titleName:ew,docsSlug:"dialog"}),m9=({titleId:t})=>{const e=nP(tP),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return b.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},g9="DialogDescriptionWarning",y9=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${nP(g9).contentName}}.`;return b.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},v9=UO,w9=HO,x9=KO,rP=qO,sP=GO,iP=QO,oP=ZO,b9=eP;const eh=v9,pk=w9,k9=x9,aP=b.forwardRef(({className:t,...e},n)=>p.jsx(rP,{ref:n,className:ke("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));aP.displayName=rP.displayName;const Hc=b.forwardRef(({className:t,children:e,...n},r)=>p.jsxs(k9,{children:[p.jsx(aP,{}),p.jsxs(sP,{ref:r,className:ke("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,p.jsxs(b9,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[p.jsx(vC,{className:"h-4 w-4"}),p.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Hc.displayName=sP.displayName;const Wc=({className:t,...e})=>p.jsx("div",{className:ke("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Wc.displayName="DialogHeader";const Kc=b.forwardRef(({className:t,...e},n)=>p.jsx(iP,{ref:n,className:ke("text-lg font-semibold leading-none tracking-tight",t),...e}));Kc.displayName=iP.displayName;const $y=b.forwardRef(({className:t,...e},n)=>p.jsx(oP,{ref:n,className:ke("text-sm text-muted-foreground",t),...e}));$y.displayName=oP.displayName;const S9=$t.create({name:"video",group:"block",atom:!0,addAttributes(){return{src:{default:null}}},parseHTML(){return[{tag:"video"}]},renderHTML({HTMLAttributes:t}){return["video",{...t,controls:!0,class:"w-full max-w-3xl h-auto rounded-lg my-4"},["source",{src:t.src}]]}}),E9=({content:t,onChange:e})=>{const[n,r]=b.useState(""),[s,i]=b.useState(""),[o,a]=b.useState(!1),[l,c]=b.useState(!1),[u,d]=b.useState(!1),[f,h]=b.useState(!1),m=wW({extensions:[e9,r9.configure({HTMLAttributes:{class:"w-full max-w-3xl h-auto rounded-lg my-4 mx-auto block"}}),l9.configure({controls:!0,nocookie:!0,HTMLAttributes:{class:"w-full max-w-3xl aspect-video rounded-lg my-4 mx-auto"}}),S9],content:t,onUpdate:({editor:x})=>{e(x.getHTML())},editorProps:{attributes:{class:"prose prose-sm max-w-none focus:outline-none min-h-[300px] p-4 border rounded-md"}}}),g=async x=>{var S;const k=(S=x.target.files)==null?void 0:S[0];if(k){if(!k.type.startsWith("image/")){fe({title:"Error",description:"Please select an image file",variant:"destructive"});return}a(!0);try{const C=k.name.split(".").pop(),_=`${`${Math.random().toString(36).substring(2)}-${Date.now()}.${C}`}`,{error:A}=await xe.storage.from("article-images").upload(_,k);if(A)throw A;const{data:{publicUrl:T}}=xe.storage.from("article-images").getPublicUrl(_);m==null||m.chain().focus().setImage({src:T}).run(),d(!1),fe({title:"Success",description:"Image uploaded and inserted"})}catch{fe({title:"Upload Error",description:"Failed to upload image. Please try again.",variant:"destructive"})}finally{a(!1)}}},y=()=>{n&&(m==null||m.chain().focus().setImage({src:n}).run(),r(""),d(!1))},v=async x=>{var S;const k=(S=x.target.files)==null?void 0:S[0];if(k){if(!k.type.startsWith("video/")){fe({title:"Error",description:"Please select a video file",variant:"destructive"});return}c(!0);try{const C=k.name.split(".").pop(),_=`${`${Math.random().toString(36).substring(2)}-${Date.now()}.${C}`}`,{error:A}=await xe.storage.from("article-images").upload(_,k);if(A)throw A;const{data:{publicUrl:T}}=xe.storage.from("article-images").getPublicUrl(_);m==null||m.commands.insertContent(`<video controls class="w-full max-w-3xl h-auto rounded-lg my-4 mx-auto"><source src="${T}" type="${k.type}"></video>`),h(!1),fe({title:"Success",description:"Video uploaded and inserted"})}catch{fe({title:"Upload Error",description:"Failed to upload video. Please try again.",variant:"destructive"})}finally{c(!1)}}},w=()=>{s&&(m==null||m.chain().focus().setYoutubeVideo({src:s}).run(),i(""),h(!1))};return m?p.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[p.jsxs("div",{className:"bg-muted p-2 border-b flex flex-wrap gap-1",children:[p.jsx(pe,{type:"button",variant:"ghost",size:"sm",onClick:()=>m.chain().focus().toggleBold().run(),className:m.isActive("bold")?"bg-accent":"",children:p.jsx(Uj,{className:"h-4 w-4"})}),p.jsx(pe,{type:"button",variant:"ghost",size:"sm",onClick:()=>m.chain().focus().toggleItalic().run(),className:m.isActive("italic")?"bg-accent":"",children:p.jsx(Xj,{className:"h-4 w-4"})}),p.jsx(pe,{type:"button",variant:"ghost",size:"sm",onClick:()=>m.chain().focus().toggleHeading({level:1}).run(),className:m.isActive("heading",{level:1})?"bg-accent":"",children:p.jsx(Jj,{className:"h-4 w-4"})}),p.jsx(pe,{type:"button",variant:"ghost",size:"sm",onClick:()=>m.chain().focus().toggleHeading({level:2}).run(),className:m.isActive("heading",{level:2})?"bg-accent":"",children:p.jsx(Qj,{className:"h-4 w-4"})}),p.jsx(pe,{type:"button",variant:"ghost",size:"sm",onClick:()=>m.chain().focus().toggleBulletList().run(),className:m.isActive("bulletList")?"bg-accent":"",children:p.jsx(rI,{className:"h-4 w-4"})}),p.jsx(pe,{type:"button",variant:"ghost",size:"sm",onClick:()=>m.chain().focus().toggleOrderedList().run(),className:m.isActive("orderedList")?"bg-accent":"",children:p.jsx(nI,{className:"h-4 w-4"})}),p.jsx("div",{className:"w-px bg-border mx-1"}),p.jsxs(eh,{open:u,onOpenChange:d,children:[p.jsx(pk,{asChild:!0,children:p.jsx(pe,{type:"button",variant:"ghost",size:"sm",children:p.jsx(Yj,{className:"h-4 w-4"})})}),p.jsxs(Hc,{children:[p.jsx(Wc,{children:p.jsx(Kc,{children:"Insert Image"})}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx(Ie,{htmlFor:"image-upload",children:"Upload Image"}),p.jsx(nt,{id:"image-upload",type:"file",accept:"image/*",onChange:g,disabled:o})]}),p.jsxs("div",{className:"relative",children:[p.jsx("div",{className:"absolute inset-0 flex items-center",children:p.jsx("span",{className:"w-full border-t"})}),p.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:p.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:"Or"})})]}),p.jsxs("div",{children:[p.jsx(Ie,{htmlFor:"image-url",children:"Image URL"}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx(nt,{id:"image-url",value:n,onChange:x=>r(x.target.value),placeholder:"https://example.com/image.jpg"}),p.jsx(pe,{type:"button",onClick:y,children:"Add"})]})]})]})]})]}),p.jsxs(eh,{open:f,onOpenChange:h,children:[p.jsx(pk,{asChild:!0,children:p.jsx(pe,{type:"button",variant:"ghost",size:"sm",children:p.jsx(yI,{className:"h-4 w-4"})})}),p.jsxs(Hc,{children:[p.jsx(Wc,{children:p.jsx(Kc,{children:"Insert Video"})}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx(Ie,{htmlFor:"video-upload",children:"Upload Video File"}),p.jsx(nt,{id:"video-upload",type:"file",accept:"video/*",onChange:v,disabled:l})]}),p.jsxs("div",{className:"relative",children:[p.jsx("div",{className:"absolute inset-0 flex items-center",children:p.jsx("span",{className:"w-full border-t"})}),p.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:p.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:"Or"})})]}),p.jsxs("div",{children:[p.jsx(Ie,{htmlFor:"video-url",children:"YouTube Video URL"}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx(nt,{id:"video-url",value:s,onChange:x=>i(x.target.value),placeholder:"https://www.youtube.com/watch?v=..."}),p.jsx(pe,{type:"button",onClick:w,children:"Add"})]}),p.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Upload a video file or paste a YouTube URL"})]})]})]})]}),p.jsx("div",{className:"w-px bg-border mx-1"}),p.jsx(pe,{type:"button",variant:"ghost",size:"sm",onClick:()=>m.chain().focus().undo().run(),disabled:!m.can().undo(),children:p.jsx(pI,{className:"h-4 w-4"})}),p.jsx(pe,{type:"button",variant:"ghost",size:"sm",onClick:()=>m.chain().focus().redo().run(),disabled:!m.can().redo(),children:p.jsx(lI,{className:"h-4 w-4"})})]}),p.jsx(fW,{editor:m})]}):null},C9=({isOpen:t,onClose:e,articles:n,onAddArticle:r,onEditArticle:s,onDeleteArticle:i,userEmail:o})=>{const[a,l]=b.useState(!1),[c,u]=b.useState(null),[d,f]=b.useState(null),[h,m]=b.useState([]),[g,y]=b.useState(!1),[v,w]=b.useState({title:"",excerpt:"",content:"",author:"",category:"",imageUrl:"",readTime:"",mediaUrls:[]}),x=["Entrepreneurship","Technology","Business","Innovation","Startups","Investment","Leadership"],k=()=>{w({title:"",excerpt:"",content:"",author:"",category:"",imageUrl:"",readTime:"",mediaUrls:[]}),f(null),m([]),l(!1),u(null)},S=T=>{var I;const z=(I=T.target.files)==null?void 0:I[0];if(z){if(!z.type.startsWith("image/")){fe({title:"Error",description:"Please select an image file",variant:"destructive"});return}f(z)}},C=async()=>{if(!d)return v.imageUrl;y(!0);try{const T=d.name.split(".").pop(),I=`${`${Math.random().toString(36).substring(2)}-${Date.now()}.${T}`}`,{error:q}=await xe.storage.from("article-images").upload(I,d);if(q)throw q;const{data:{publicUrl:D}}=xe.storage.from("article-images").getPublicUrl(I);return D}catch(T){throw fe({title:"Upload Error",description:"Failed to upload image. Please try again.",variant:"destructive"}),T}finally{y(!1)}},E=async()=>{if(h.length===0)return v.mediaUrls;y(!0);try{const T=[];for(const z of h){const I=z.name.split(".").pop(),D=`${`${Math.random().toString(36).substring(2)}-${Date.now()}.${I}`}`,{error:Q}=await xe.storage.from("article-images").upload(D,z);if(Q)throw Q;const{data:{publicUrl:F}}=xe.storage.from("article-images").getPublicUrl(D);T.push(F)}return[...v.mediaUrls,...T]}catch(T){throw fe({title:"Upload Error",description:"Failed to upload additional media. Please try again.",variant:"destructive"}),T}finally{y(!1)}},_=async T=>{if(T.preventDefault(),!v.title||!v.content||!v.author||!v.category){fe({title:"Error",description:"Please fill in all required fields",variant:"destructive"});return}try{const z=await C(),I=await E(),q={...v,imageUrl:z,mediaUrls:I};c?(s(c.id,q),fe({title:"Success",description:"Article updated successfully"})):(r(q),fe({title:"Success",description:"Article published successfully"})),k()}catch{}},A=T=>{w({title:T.title,excerpt:T.excerpt,content:T.content,author:T.author,category:T.category,imageUrl:T.imageUrl||"",readTime:T.readTime,mediaUrls:T.mediaUrls||[]}),u(T)};return t?p.jsxs("div",{className:"min-h-screen bg-background",children:[p.jsx(BB,{onLogout:e,userEmail:o}),p.jsxs("div",{className:"container mx-auto px-4 py-8",children:[p.jsxs("div",{className:"mb-8",children:[p.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"Admin Dashboard"}),p.jsx("p",{className:"text-muted-foreground",children:"Manage your magazine articles and newsletter"})]}),p.jsxs(mT,{defaultValue:"articles",className:"w-full",children:[p.jsxs(p0,{children:[p.jsx(Pc,{value:"articles",children:"Articles"}),p.jsx(Pc,{value:"newsletter",children:"Newsletter"})]}),p.jsxs(Rc,{value:"articles",className:"space-y-6",children:[p.jsx("div",{className:"flex items-center justify-end",children:p.jsxs(pe,{onClick:()=>l(!0),className:"bg-accent hover:bg-accent/90",children:[p.jsx(aI,{className:"h-4 w-4 mr-2"}),"New Article"]})}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(a||c)&&p.jsxs(Gr,{children:[p.jsx(no,{children:p.jsx(La,{children:c?"Edit Article":"Create New Article"})}),p.jsx(Jr,{children:p.jsxs("form",{onSubmit:_,className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx(Ie,{htmlFor:"title",children:"Title *"}),p.jsx(nt,{id:"title",value:v.title,onChange:T=>w({...v,title:T.target.value}),placeholder:"Article title",required:!0})]}),p.jsxs("div",{children:[p.jsx(Ie,{htmlFor:"author",children:"Author *"}),p.jsx(nt,{id:"author",value:v.author,onChange:T=>w({...v,author:T.target.value}),placeholder:"Author name",required:!0})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx(Ie,{children:"Category *"}),p.jsxs(LB,{value:v.category,onValueChange:T=>w({...v,category:T}),children:[p.jsx(lN,{children:p.jsx($B,{placeholder:"Select category"})}),p.jsx(dN,{children:x.map(T=>p.jsx(fN,{value:T,children:T},T))})]})]}),p.jsxs("div",{children:[p.jsx(Ie,{htmlFor:"readTime",children:"Read Time"}),p.jsx(nt,{id:"readTime",value:v.readTime,onChange:T=>w({...v,readTime:T.target.value}),placeholder:"e.g., 5 min read"})]})]}),p.jsxs("div",{children:[p.jsx(Ie,{htmlFor:"image",children:"Article Image"}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(nt,{id:"image",type:"file",accept:"image/*",onChange:S,className:"flex-1"}),d&&p.jsxs(_c,{variant:"outline",className:"whitespace-nowrap",children:[p.jsx(mI,{className:"h-3 w-3 mr-1"}),d.name]})]}),v.imageUrl&&p.jsxs("p",{className:"text-xs text-muted-foreground",children:["Current: ",v.imageUrl]})]})]}),p.jsxs("div",{children:[p.jsx(Ie,{htmlFor:"excerpt",children:"Excerpt"}),p.jsx(Ih,{id:"excerpt",value:v.excerpt,onChange:T=>w({...v,excerpt:T.target.value}),placeholder:"Brief description of the article",rows:3})]}),p.jsxs("div",{children:[p.jsx(Ie,{htmlFor:"content",children:"Content *"}),p.jsx(E9,{content:v.content,onChange:T=>w({...v,content:T})}),p.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Use the toolbar to format text and insert images or YouTube videos directly into your article content."})]}),p.jsxs("div",{className:"flex space-x-3",children:[p.jsx(pe,{type:"submit",className:"bg-accent hover:bg-accent/90",disabled:g,children:g?"Uploading...":c?"Update Article":"Publish Article"}),p.jsx(pe,{type:"button",variant:"outline",onClick:k,children:"Cancel"})]})]})})]}),p.jsxs(Gr,{children:[p.jsx(no,{children:p.jsxs(La,{children:["Published Articles (",n.length,")"]})}),p.jsx(Jr,{children:p.jsxs("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:[n.map(T=>p.jsxs("div",{className:"border rounded-lg p-4",children:[p.jsxs("div",{className:"flex items-start justify-between mb-2",children:[p.jsxs("div",{className:"flex-1",children:[p.jsx("h4",{className:"font-semibold text-sm",children:T.title}),p.jsxs("p",{className:"text-xs text-muted-foreground",children:["By ",T.author,"  ",T.date]})]}),p.jsxs("div",{className:"flex space-x-1",children:[p.jsx(pe,{size:"sm",variant:"ghost",onClick:()=>A(T),children:p.jsx(uI,{className:"h-3 w-3"})}),p.jsx(pe,{size:"sm",variant:"ghost",onClick:()=>i(T.id),children:p.jsx(yC,{className:"h-3 w-3"})})]})]}),p.jsx(_c,{variant:"outline",className:"text-xs",children:T.category})]},T.id)),n.length===0&&p.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No articles published yet. Create your first article!"})]})})]})]})]}),p.jsx(Rc,{value:"newsletter",children:p.jsx(UB,{})})]})]})]}):null},_9=({isOpen:t,onClose:e,onLoginSuccess:n,currentUser:r})=>{const[s,i]=b.useState(""),[o,a]=b.useState(""),[l,c]=b.useState(!1),[u,d]=b.useState(!1);b.useEffect(()=>{t&&r&&(async()=>{if(r){d(!0);try{const{data:y,error:v}=await xe.from("profiles").select("role").eq("user_id",r.id).single();if(v){console.error("Error checking user role:",v);return}(y==null?void 0:y.role)==="admin"?(n(),e(),fe({title:"Admin Access Granted",description:"Welcome to the admin panel!"})):fe({title:"Access Denied",description:"You don't have admin privileges.",variant:"destructive"})}catch(y){console.error("Error checking admin role:",y)}finally{d(!1)}}})()},[r,t,n,e]);const f=async g=>{g.preventDefault(),c(!0);try{const{data:y,error:v}=await xe.auth.signInWithPassword({email:s,password:o});if(v){fe({title:"Login Failed",description:v.message,variant:"destructive"}),c(!1);return}if(y.user){const{data:w,error:x}=await xe.from("profiles").select("role").eq("user_id",y.user.id).single();if(x){fe({title:"Error",description:"Failed to verify admin status",variant:"destructive"}),c(!1);return}(w==null?void 0:w.role)==="admin"?(fe({title:"Admin Login Successful",description:"Welcome to the admin panel!"}),n(),e(),i(""),a("")):(await xe.auth.signOut(),fe({title:"Access Denied",description:"You don't have admin privileges.",variant:"destructive"}))}}catch(y){console.error("Admin login error:",y),fe({title:"Login Failed",description:"An unexpected error occurred",variant:"destructive"})}c(!1)},h=async()=>{try{await xe.auth.signOut(),fe({title:"Logged Out",description:"You have been logged out successfully."}),e()}catch(g){console.error("Logout error:",g)}},m=()=>{i(""),a(""),e()};return r?p.jsx(eh,{open:t,onOpenChange:m,children:p.jsxs(Hc,{className:"sm:max-w-md",children:[p.jsxs(Wc,{children:[p.jsxs(Kc,{className:"flex items-center gap-2",children:[p.jsx(Ri,{className:"h-5 w-5"}),"Admin Access"]}),p.jsx($y,{children:u?"Verifying admin privileges...":"You are currently logged in."})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"text-center p-4 bg-muted rounded-lg",children:[p.jsx("p",{className:"text-sm text-muted-foreground",children:"Logged in as:"}),p.jsx("p",{className:"font-medium",children:r.email})]}),p.jsxs("div",{className:"flex gap-3",children:[p.jsx(pe,{type:"button",variant:"outline",onClick:m,className:"flex-1",children:"Cancel"}),p.jsxs(pe,{type:"button",variant:"destructive",onClick:h,className:"flex-1",disabled:u,children:[p.jsx(mC,{className:"h-4 w-4 mr-2"}),"Logout"]})]})]})]})}):p.jsx(eh,{open:t,onOpenChange:m,children:p.jsxs(Hc,{className:"sm:max-w-md",children:[p.jsxs(Wc,{children:[p.jsxs(Kc,{className:"flex items-center gap-2",children:[p.jsx(Ri,{className:"h-5 w-5"}),"Admin Login"]}),p.jsx($y,{children:"Please enter your admin credentials to access the panel."})]}),p.jsxs("form",{onSubmit:f,className:"space-y-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(Ie,{htmlFor:"admin-email",children:"Email"}),p.jsxs("div",{className:"relative",children:[p.jsx(ja,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),p.jsx(nt,{id:"admin-email",type:"email",placeholder:"Enter admin email",value:s,onChange:g=>i(g.target.value),className:"pl-10",required:!0})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(Ie,{htmlFor:"password",children:"Password"}),p.jsxs("div",{className:"relative",children:[p.jsx(Ri,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),p.jsx(nt,{id:"password",type:"password",placeholder:"Enter password",value:o,onChange:g=>a(g.target.value),className:"pl-10",required:!0})]})]}),p.jsxs("div",{className:"flex gap-3",children:[p.jsx(pe,{type:"button",variant:"outline",onClick:m,className:"flex-1",children:"Cancel"}),p.jsx(pe,{type:"submit",disabled:l,className:"flex-1",children:l?"Signing in...":"Sign In"})]})]})]})})},T9=()=>{const[t,e]=b.useState([]);b.useEffect(()=>{n()},[]);const n=async()=>{const{data:x,error:k}=await xe.from("articles").select("*").order("created_at",{ascending:!1});if(k){console.error("Error fetching articles:",k);return}if(x){const S=x.map(C=>({id:C.id,title:C.title,excerpt:C.excerpt||"",content:C.content||"",author:C.author||"",date:new Date(C.created_at).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),category:C.category||"",imageUrl:C.image_url||void 0,readTime:C.read_time||"",mediaUrls:C.media_urls||void 0}));e(S)}},[r,s]=b.useState(null),[i,o]=b.useState(null),[a,l]=b.useState(!1),[c,u]=b.useState(!1),[d,f]=b.useState(!0);b.useEffect(()=>{const{data:{subscription:x}}=xe.auth.onAuthStateChange((k,S)=>{o(S),s((S==null?void 0:S.user)??null),S!=null&&S.user?setTimeout(()=>{h(S.user.id)},0):(u(!1),f(!1))});return xe.auth.getSession().then(({data:{session:k}})=>{o(k),s((k==null?void 0:k.user)??null),k!=null&&k.user?h(k.user.id):(f(!1),l(!0))}),()=>x.unsubscribe()},[]);const h=async x=>{try{const{data:k,error:S}=await xe.from("profiles").select("role").eq("user_id",x).single();S?(console.error("Error checking user role:",S),u(!1),l(!0)):(k==null?void 0:k.role)==="admin"?(u(!0),l(!1)):(u(!1),l(!0),fe({title:"Access Denied",description:"You don't have admin privileges.",variant:"destructive"}))}catch(k){console.error("Error checking admin role:",k),u(!1),l(!0)}finally{f(!1)}},m=async x=>{if(!r)return;const{data:k,error:S}=await xe.from("articles").insert({user_id:r.id,title:x.title,excerpt:x.excerpt,content:x.content,author:x.author,category:x.category,image_url:x.imageUrl,media_urls:x.mediaUrls,read_time:x.readTime}).select().single();if(S){fe({title:"Error",description:"Failed to publish article. Please try again.",variant:"destructive"});return}fe({title:"Success",description:"Article published successfully!"}),n()},g=async(x,k)=>{const{error:S}=await xe.from("articles").update({title:k.title,excerpt:k.excerpt,content:k.content,author:k.author,category:k.category,image_url:k.imageUrl,media_urls:k.mediaUrls,read_time:k.readTime}).eq("id",x);if(S){fe({title:"Error",description:"Failed to update article. Please try again.",variant:"destructive"});return}fe({title:"Success",description:"Article updated successfully!"}),n()},y=async x=>{const{error:k}=await xe.from("articles").delete().eq("id",x);if(k){fe({title:"Error",description:"Failed to delete article. Please try again.",variant:"destructive"});return}fe({title:"Article Deleted",description:"The article has been removed successfully."}),n()},v=()=>{u(!0),l(!1)},w=async()=>{try{await xe.auth.signOut(),u(!1),fe({title:"Logged Out",description:"You have been logged out successfully."})}catch(x){console.error("Logout error:",x)}};return d?p.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:p.jsxs("div",{className:"text-center",children:[p.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Loading Admin Dashboard..."}),p.jsx("p",{className:"text-muted-foreground",children:"Verifying authentication"})]})}):!r&&!a?p.jsx(R$,{to:"/",replace:!0}):p.jsxs("div",{className:"min-h-screen bg-background",children:[p.jsx(_9,{isOpen:a,onClose:()=>{c||(window.location.href="/"),l(!1)},onLoginSuccess:v,currentUser:r}),c&&p.jsx(C9,{isOpen:!0,onClose:w,articles:t,onAddArticle:m,onEditArticle:g,onDeleteArticle:y,userEmail:r==null?void 0:r.email})]})},N9=new BL,A9=()=>p.jsx(VL,{client:N9,children:p.jsxs(yL,{children:[p.jsx(XI,{}),p.jsx(P2,{}),p.jsx(B$,{children:p.jsxs(j$,{children:[p.jsx(us,{path:"/",element:p.jsx(mF,{})}),p.jsx(us,{path:"/about",element:p.jsx(wF,{})}),p.jsx(us,{path:"/article/:id",element:p.jsx(xF,{})}),p.jsx(us,{path:"/contact",element:p.jsx(YF,{})}),p.jsx(us,{path:"/auth",element:p.jsx(mz,{})}),p.jsx(us,{path:"/admin",element:p.jsx(T9,{})}),p.jsx(us,{path:"*",element:p.jsx(ZF,{})})]})})]})});IE(document.getElementById("root")).render(p.jsx(A9,{}));
